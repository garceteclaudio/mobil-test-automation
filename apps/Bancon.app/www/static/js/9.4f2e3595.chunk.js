(this["webpackJsonp@app/bancon"]=this["webpackJsonp@app/bancon"]||[]).push([[9],{684:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(0),a=n(5),c=n(2),r=n(16),o=n(19),s=n(11),u=n(22),l=n(41),b=n(50),f=n(158),d=n(6),m=n(8),p=n(33),O=n(62),j=n(38),E=n(82),x=n(643),N=n(687),h=n.n(N),_=n(688),v=n.n(_),T=n(10),k=["handleNotificationsPanel","hasNotificationsPanel","notificationsPage"],A=v.a.NAME_NOTIFICATIONSPANEL,P=v.a.TYPE_NOTIFICATIONSPANEL;function g(e){var t=e,n=t.handleNotificationsPanel,N=t.hasNotificationsPanel,_=t.notificationsPage,v=Object(o.a)(t,k),g=s.b.useState(),y=Object(r.a)(g,2),I=y[0],w=y[1],M=s.b.useRef(null),S=Object(m.c)(f.c.communicationsList),C=Object(m.c)(f.c.communicationsUnreadCount),L=Object(m.c)(f.c.communicationsFetching),R=Object(m.c)(p.e.token),B=Object(m.b)(),F=Object(u.j)(),H=Object(j.c)().textGet,D=Boolean(S&&S.length>d.Sb),Y=Object(l.c)(h.a.notificationsList,N?d.D:h.a.notificationsListHidden),U=Object(l.c)(N?h.a.notificationsMask:h.a.notificationsMaskHidden);return s.b.useEffect((function(){return document.body.style.overflow=N?"hidden":"",function(){document.body.style.overflow=""}}),[N]),s.b.useEffect((function(){N?w(document.activeElement):null===I||void 0===I||I.focus()}),[N,I]),s.b.useEffect((function(){var e=function(e){var t;if(e.key===d.Q.TAB&&M){var n=null===(t=M.current)||void 0===t?void 0:t.querySelectorAll(d.L);if(n){var i=n[d.Sb],a=n[n.length-d.fb];e.shiftKey?document.activeElement===i&&(null===a||void 0===a||a.focus(),e.preventDefault()):document.activeElement===a&&(null===i||void 0===i||i.focus(),e.preventDefault())}}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(T.jsxs)(l.a,Object(c.a)(Object(c.a)({"aria-modal":!0,"aria-label":H({uuid:"spa.widget.notifications.title"}),name:A,role:"dialog",tag:"section",type:P},v),{},{children:[Object(T.jsx)("div",{className:U,onClick:n}),Object(T.jsx)("div",{ref:M,className:Y,children:Object(T.jsxs)(b.Card,{"aria-labelledby":"notificationsPanel",children:[Object(T.jsxs)("header",{children:[Object(T.jsx)(j.b,{tag:"h3",uuid:"spa.widget.notifications.title"}),Object(T.jsx)(j.b,{className:h.a.notificationsPanelAriaContent,id:"notificationsPanel",tag:"span",uuid:"spa.a11y.notifications.close.panel"}),C?Object(T.jsx)(b.Badge,{"aria-label":H({uuid:"spa.a11y.notifications.count",replace:"".concat(C)}),content:String(C),size:"small"}):null]}),Object(T.jsx)("section",{children:L?Object(T.jsx)("div",{className:h.a.notificationSpinner,children:Object(T.jsx)(b.Lottie,{loop:!0,play:!0,"aria-atomic":"true","aria-live":"assertive",name:"spinner",size:"xlarge",title:H({uuid:"spa.a11y.notification.loading.unread"})})}):function(){if(D)return Object(T.jsx)("ul",{children:z().map((function(e,t){return Object(T.jsx)("li",{children:e},"notification-".concat(t+d.fb))}))});return Object(T.jsxs)("div",{className:h.a.notificationsEmpty,children:[Object(T.jsx)(b.Icon,{name:"bell",size:"xlarge",stroke:"gray-600"}),Object(T.jsx)(j.b,{uuid:"spa.widget.notifications.none"})]})}()}),Object(T.jsx)("footer",{children:Object(T.jsx)(E.a,{ariaLabel:{uuid:"spa.a11y.notifications.go.to.page"},kind:"plain",label:{uuid:"spa.widget.notifications.seeall"},onClick:function(){B(f.a.clean()),F(_)}})})]})})]}));function V(){return(V=Object(a.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),R){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,B(f.b.markAsReadCommunication({accessToken:R,idCommunication:n}));case 5:B(f.b.getNotifications({accessToken:R})),B(f.b.getNotificationsUnreadCount({accessToken:R}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(a.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(f.b.readCommunication({accessToken:R,idCommunication:t}));case 2:B(f.a.cleanNotificationsList()),B(f.a.setNotificationsActive(O.f.all)),F(_);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){var e=[];return null!==S&&void 0!==S&&S.length&&S.forEach((function(t){var n=t.idCommunication,i=t.body,a=t.sentDate,c=t.subject,r=t.userRead;return e.push(Object(T.jsx)(x.a,{body:i,buttonOnClick:function(e){return function(e,t){return V.apply(this,arguments)}(e,n)},buttonText:"spa.widgets.notifications.communications.hide",date:a,isUnRead:!r,title:c,onClick:function(){return function(e){return J.apply(this,arguments)}(n)}},n))})),e}}},687:function(e,t,n){e.exports={NAME_NOTIFICATIONSPANEL:"NotificationsPanel",TYPE_NOTIFICATIONSPANEL:"Section",NAME_THEMEPLATFORM:"ThemePlatform",TYPE_THEMEPLATFORM:"Bundle",NAME_CONSUMER_THEMEPLATFORM:"ThemePlatformConsumer",TYPE_CONSUMER_THEMEPLATFORM:"Element",NAME_PROVIDER_THEMEPLATFORM:"ThemePlatformProvider",TYPE_PROVIDER_THEMEPLATFORM:"Provider",NAME_TEXT:"Text",TYPE_TEXT:"Element",NAME_BUTTON:"Button",TYPE_BUTTON:"Element",NAME_XS:"xs",NAME_SM:"sm",NAME_MD:"md",NAME_LG:"lg",notificationsPanelAriaContent:"_rules_notificationsPanelAriaContent__1FoVg",notificationsMask:"_rules_notificationsMask__1JP5P",notificationsMaskHidden:"_rules_notificationsMaskHidden__1a_ic",notificationsList:"_rules_notificationsList__iif1F",fadeIn:"_rules_fadeIn__3EmVP",notificationsListHidden:"_rules_notificationsListHidden__2nZyd",fadeOut:"_rules_fadeOut__14PKx",notificationSpinner:"_rules_notificationSpinner__ys-WN",notificationsEmpty:"_rules_notificationsEmpty__1Yf2M"}},688:function(e,t,n){e.exports={NAME_NOTIFICATIONSPANEL:"NotificationsPanel",TYPE_NOTIFICATIONSPANEL:"Section"}},695:function(e,t,n){e.exports={NAME_BASEINTERNAL_CONTAINER:"BaseInternalContainer",TYPE_BASEINTERNAL_CONTAINER:"Container"}},847:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n(2),a=n(0),c=n(5),r=n(16),o=n(19),s=n(11),u=n(22),l=n(99),b=n(8),f=n(33),d=n(88),m=n(273),p=n(573),O=n(6),j=n(41),E=n(79),x=n(117),N=n(38),h=n(490),_=n(82),v=n(101),T=n(683),k=n(691),A=n(845),P=n(695),g=n.n(P),y=g.a.NAME_BASEINTERNAL_CONTAINER,I=g.a.TYPE_BASEINTERNAL_CONTAINER,w={Header:T.a,Footer:k.a,Menu:A.a},M={name:y,type:I},S=n(10),C=["children","session-redirect","name","type","isHomeActive"];function L(e){var t=e,n=t.children,T=t["session-redirect"],k=t.name,A=t.type,P=t.isHomeActive,g=Object(o.a)(t,C),y=Object(u.j)(),I=Object(b.b)(),M=Object(N.c)().textGet,L=Object(l.a)().getValueConfig,R=Object(f.i)(),B=Object(b.c)(f.e.token),F=Object(b.c)(d.e.maskProduct),H=Object(b.c)(x.c.deepLinkPath),D=Object(b.c)(x.c.deepLinkData),Y=Object(b.c)(f.e.timerInBackground),U=Object(b.c)(f.e.secondsToExpire),V=M({uuid:"spa.extendSession.title"}),J="modal-description",z=M({uuid:"spa.extendSession.text.seconds",replace:[V,String(U/O.xb)]}),G=Object(m.a)("".concat(L("session.timeBeforeTimeoutNotification"))),X=U-G,K=s.b.useState(null),q=Object(r.a)(K,2),Q=q[0],W=q[1],Z=s.b.useRef(null),$=Boolean(B)&&Boolean(Q),ee=s.b.useCallback((function(){if(Z.current){var e=Z.current;e.throttle&&clearTimeout(e.throttle),e.throttle=setTimeout((function(){e.timer=Number(U),W(O.Sb)}),Number(O.xb/O.Jb))}}),[U]),te=s.b.useCallback(Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:e.sent&&ee();case 4:case"end":return e.stop()}}),e)}))),[ee]);return s.b.useEffect((function(){var e=function(){var e=Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(p.a)(F,B);case 4:b.a.dispatch(E.a.set({kind:"ERROR",text:{uuid:"spa.sessionExpired.message"},duration:O.kb}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(I(f.a.setTimerInBackground(void 0)),R||$||!B||I(f.b.extendSession(null)),R){if(Y){var t=(new Date).getTime()-Y;if(!((t=Math.round(t/Number(O.xb))*Number(O.xb))<X)){if(t<U&&t>=X){if(!B)return;return Z.current&&ne(),W((U-t+Number(O.xb))/Number(O.xb)),void(Z.current={throttle:null,timer:U-t,interval:setInterval(Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.current){e.next=2;break}return e.abrupt("return");case 2:if(!(Z.current.timer<O.fb)){e.next=7;break}return e.next=5,Object(p.a)(F,B);case 5:return b.a.dispatch(E.a.set({kind:"ERROR",text:{uuid:"spa.sessionExpired.message"},duration:O.kb})),e.abrupt("return");case 7:Z.current.timer<=Number(G)&&W(Z.current.timer/Number(O.xb)),Z.current.timer-=Number(O.xb);case 9:case"end":return e.stop()}}),e)}))),Number(O.xb))})}t>=U&&e()}}}else I(f.a.setTimerInBackground((new Date).getTime()))}),[I,R,F,B]),s.b.useEffect((function(){B?I(f.b.checkSessionStatus(null)):y(T)}),[B,y,T,I]),s.b.useEffect((function(){H&&(y(H),D&&I(x.a.setDeepLinkData({params:D.params,path:void 0})))}),[D,H,I,y]),s.b.useEffect((function(){return!B||Z.current||(Z.current={throttle:null,timer:U,interval:setInterval(Object(c.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.current){e.next=2;break}return e.abrupt("return");case 2:if(!(Z.current.timer<O.fb)){e.next=7;break}return e.next=5,Object(p.a)(F,B);case 5:return b.a.dispatch(E.a.set({kind:"ERROR",text:{uuid:"spa.sessionExpired.message"},duration:O.kb})),e.abrupt("return");case 7:te(),Z.current.timer<=Number(G)&&W(Z.current.timer/Number(O.xb)),Z.current.timer-=Number(O.xb);case 10:case"end":return e.stop()}}),e)}))),Number(O.xb))}),ne}),[B,I,G,F,te,U]),s.b.useEffect((function(){if(!$){var e=["load","mousemove","mousedown","click","scroll","keypress"];return e.forEach((function(e){return window.addEventListener(e,ee)})),function(){return e.forEach((function(e){return window.removeEventListener(e,ee)}))}}}),[ee,$]),Object(S.jsxs)(v.a,{isHomeActive:P,children:[Object(S.jsx)(j.a,Object(i.a)(Object(i.a)({name:k,tag:"article",type:A},g),{},{children:n(w)})),Object(S.jsxs)(h.a,{"aria-describedby":J,"aria-label":z,closeOnBgTap:!1,hasCloseIcon:!1,open:$,title:Object(S.jsx)(N.b,{tag:"h4",children:"".concat(V," ").concat(Q)}),children:[Object(S.jsx)(h.a.Body,{children:Object(S.jsx)(N.b,{id:J,uuid:"spa.extendSession.text"})}),Object(S.jsx)(h.a.Footer,{children:Object(S.jsx)(_.a,{label:{uuid:"spa.extendSession.button"},onClick:function(){ee(),I(f.b.extendSession(null))}})})]})]});function ne(){Z.current&&(document.onmousemove=null,document.ontouchend=null,clearInterval(Z.current.interval),Z.current=null,W(null))}function ie(){return ae.apply(this,arguments)}function ae(){return(ae=Object(c.a)(Object(a.a)().mark((function e(){var t,n,i,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,document.getElementById("SPA_IFRAME")){e.next=3;break}return e.abrupt("return",n);case 3:return i=new Promise((function(e,t){try{window.Evolutive.checkUserActivity((function(t){t&&e(n=!0)}))}catch(i){t(new Error("Error"))}})),e.next=6,i;case 6:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==t;case 10:if(!e.t0){e.next=14;break}e.t2=t,e.next=15;break;case 14:e.t2=n;case 15:return c=e.t2,e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}L.defaultProps=M}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vYmFuY29yLWNvbXBvbmVudHMvQ29udGFpbmVyL1NlY3Rpb25zL05vdGlmaWNhdGlvbnNQYW5lbC9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4uL2JhbmNvci1jb21wb25lbnRzL0NvbnRhaW5lci9TZWN0aW9ucy9Ob3RpZmljYXRpb25zUGFuZWwvX3J1bGVzLm1vZHVsZS5zY3NzIiwid2VicGFjazovLy8uLi9iYW5jb3ItY29tcG9uZW50cy9Db250YWluZXIvU2VjdGlvbnMvTm90aWZpY2F0aW9uc1BhbmVsL19pbmRleC5zY3NzIiwid2VicGFjazovLy8uLi9iYW5jb3ItY29tcG9uZW50cy9Db250YWluZXIvQmFzZUludGVybmFsL19pbmRleC5zY3NzIiwid2VicGFjazovLy8uLi9iYW5jb3ItY29tcG9uZW50cy9Db250YWluZXIvQmFzZUludGVybmFsL3R5cGVzLnRzIiwid2VicGFjazovLy8uLi9iYW5jb3ItY29tcG9uZW50cy9Db250YWluZXIvQmFzZUludGVybmFsL2luZGV4LnRzeCJdLCJuYW1lcyI6WyJOQU1FX05PVElGSUNBVElPTlNQQU5FTCIsIk5hbWVzcGFjZSIsIlRZUEVfTk9USUZJQ0FUSU9OU1BBTkVMIiwiTm90aWZpY2F0aW9uc1BhbmVsIiwicHJvcHMiLCJfcmVmIiwiaGFuZGxlTm90aWZpY2F0aW9uc1BhbmVsIiwiaGFzTm90aWZpY2F0aW9uc1BhbmVsIiwibm90aWZpY2F0aW9uc1BhZ2UiLCJyZXN0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiX2V4Y2x1ZGVkIiwiX1JlYWN0JHVzZVN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheSIsImFjdGl2ZUVsZW1lbnQiLCJzZXRBY3RpdmVFbGVtZW50Iiwibm90aWZpY2F0aW9uUGFuZWxSZWYiLCJ1c2VSZWYiLCJjb21tdW5pY2F0aW9ucyIsInVzZVNlbGVjdG9yIiwiU2VsZWN0b3JTbGljZU5vdGlmaWNhdGlvbnMiLCJjb21tdW5pY2F0aW9uc0xpc3QiLCJjb21tdW5pY2F0aW9uc1VucmVhZENvdW50IiwiY29tbXVuaWNhdGlvbnNGZXRjaGluZyIsImFjY2Vzc1Rva2VuIiwiU2VsZWN0b3JTbGljZVNlc3Npb24iLCJ0b2tlbiIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJuYXZpZ2F0ZSIsInVzZU5hdmlnYXRlIiwidGV4dEdldCIsInVzZVRleHQiLCJoYXNDb21tdW5pY2F0aW9ucyIsIkJvb2xlYW4iLCJsZW5ndGgiLCJaRVJPIiwibGlzdENsYXNzTmFtZXMiLCJnZXRDbGFzc05hbWUiLCJSdWxlcyIsIm5vdGlmaWNhdGlvbnNMaXN0IiwiRU1QVFlfU1RSSU5HIiwibm90aWZpY2F0aW9uc0xpc3RIaWRkZW4iLCJtYXNrQ2xhc3NOYW1lcyIsIm5vdGlmaWNhdGlvbnNNYXNrIiwibm90aWZpY2F0aW9uc01hc2tIaWRkZW4iLCJ1c2VFZmZlY3QiLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsIm92ZXJmbG93IiwiZm9jdXMiLCJoYW5kbGVLZXlQcmVzcyIsImUiLCJfbm90aWZpY2F0aW9uUGFuZWxSZWYiLCJrZXkiLCJLRVlfQ09ERSIsIlRBQiIsImZvY3VzYWJsZUVsZW1lbnRzIiwiY3VycmVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJGT0NVU0FCTEVfRUxFTUVOVFMiLCJmaXJzdEZvY3VzYWJsZUVsZW1lbnQiLCJsYXN0Rm9jdXNhYmxlRWxlbWVudCIsIk9ORSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9qc3hzIiwiQ29tcG9uZW50IiwiX29iamVjdFNwcmVhZCIsInV1aWQiLCJuYW1lIiwicm9sZSIsInRhZyIsInR5cGUiLCJjaGlsZHJlbiIsIl9qc3giLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwicmVmIiwiQ2FyZCIsIlRleHQiLCJub3RpZmljYXRpb25zUGFuZWxBcmlhQ29udGVudCIsImlkIiwiQmFkZ2UiLCJyZXBsYWNlIiwiY29uY2F0IiwiY29udGVudCIsIlN0cmluZyIsInNpemUiLCJub3RpZmljYXRpb25TcGlubmVyIiwiTG90dGllIiwibG9vcCIsInBsYXkiLCJ0aXRsZSIsImJ1aWxkQ29tbXVuaWNhdGlvbnNDYXJkcyIsIm1hcCIsImNhcmQiLCJpbmRleCIsIm5vdGlmaWNhdGlvbnNFbXB0eSIsIkljb24iLCJzdHJva2UiLCJnZXROb3RpZmljYXRpb25zQ2FyZCIsIkJ1dHRvbiIsImFyaWFMYWJlbCIsImtpbmQiLCJsYWJlbCIsIkFjdGlvblNsaWNlTm90aWZpY2F0aW9ucyIsImNsZWFuIiwiX21hcmtBc1JlYWRBY3Rpdml0eSIsIl9hc3luY1RvR2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwiZXZlbnQiLCJpZENvbW11bmljYXRpb24iLCJ3cmFwIiwiX2NvbnRleHQiLCJwcmV2IiwibmV4dCIsInN0b3BQcm9wYWdhdGlvbiIsImFicnVwdCIsIkZldGNoZXJTbGljZU5vdGlmaWNhdGlvbnMiLCJtYXJrQXNSZWFkQ29tbXVuaWNhdGlvbiIsImdldE5vdGlmaWNhdGlvbnMiLCJnZXROb3RpZmljYXRpb25zVW5yZWFkQ291bnQiLCJzdG9wIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfaGFuZGxlTm90aWZpY2F0aW9uRGV0YWlsIiwiX2NhbGxlZTIiLCJfY29udGV4dDIiLCJyZWFkQ29tbXVuaWNhdGlvbiIsImNsZWFuTm90aWZpY2F0aW9uc0xpc3QiLCJzZXROb3RpZmljYXRpb25zQWN0aXZlIiwiTm90aWZpY2F0aW9uVHlwZXMiLCJhbGwiLCJjYXJkcyIsImZvckVhY2giLCJfcmVmMiIsInNlbnREYXRlIiwic3ViamVjdCIsInVzZXJSZWFkIiwicHVzaCIsIk5vdGlmaWNhdGlvbkNhcmQiLCJidXR0b25PbkNsaWNrIiwiX3giLCJfeDIiLCJtYXJrQXNSZWFkQWN0aXZpdHkiLCJidXR0b25UZXh0IiwiZGF0ZSIsImlzVW5SZWFkIiwiX3gzIiwiaGFuZGxlTm90aWZpY2F0aW9uRGV0YWlsIiwibW9kdWxlIiwiZXhwb3J0cyIsIk5BTUVfQkFTRUlOVEVSTkFMX0NPTlRBSU5FUiIsIlRZUEVfQkFTRUlOVEVSTkFMX0NPTlRBSU5FUiIsIlNFQ1RJT05fQkFTRUlOVEVSTkFMX0NPTlRBSU5FUiIsIkhlYWRlciIsIkJhc2VJbnRlcm5hbENvbnRhaW5lckhlYWRlciIsIkZvb3RlciIsIkJhc2VJbnRlcm5hbENvbnRhaW5lckZvb3RlciIsIk1lbnUiLCJCYXNlSW50ZXJuYWxDb250YWluZXJNZW51IiwiREVGX0JBU0VJTlRFUk5BTF9DT05UQUlORVIiLCJCYXNlSW50ZXJuYWxDb250YWluZXIiLCJ1cmxIb21lIiwiaXNIb21lQWN0aXZlIiwiZ2V0VmFsdWVDb25maWciLCJ1c2VQZXJzaXN0b3IiLCJpc1Zpc2libGUiLCJ1c2VWaXNpYmlsaXR5Q2hhbmdlIiwibWFzayIsIlNlbGVjdG9yU2xpY2VQcm9kdWN0TWFzayIsIm1hc2tQcm9kdWN0IiwiZGVlcExpbmtQYXRoIiwiU2VsZWN0b3JTbGljZU1vZG8iLCJkZWVwTGlua0RhdGEiLCJ0aW1lckluQmFja2dyb3VuZCIsInNlY29uZHNUb0V4cGlyZSIsIm1vZGFsVGl0bGUiLCJtb2RhbEFyaWFEZXNjcmliZWRCeSIsIm1vZGFsQXJpYUxhYmVsIiwiU0VDT05EIiwidGltZUJlZm9yZVRpbWVvdXROb3RpZmljYXRpb24iLCJwYXJzZVRpbWVJbk1pbGxpcyIsImRpZmZTZXNzaW9uQW5kTm90aWZpY2F0aW9uIiwiZ3JhY2UiLCJzZXRHcmFjZSIsInJlZkFjdGl2aXR5IiwiaGFzVG9TaG93RXh0ZW5kU2Vzc2lvbk1vZGFsIiwiaGFuZGxlQWN0aXZpdHlSZXNldCIsInVzZUNhbGxiYWNrIiwidGhyb3R0bGUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidGltZXIiLCJOdW1iZXIiLCJUV08iLCJyZXR1cm5DaGVja0FjdGl2aXR5IiwiY2hlY2tVc2VyQWN0aXZpdHlPbklmcmFtZSIsInNlbnQiLCJkb0xvZ291dEluQmFja2dyb3VuZCIsIl9yZWYzIiwiZG9Mb2dvdXQiLCJTdG9yZSIsIkFjdGlvblNsaWNlVG9hc3QiLCJzZXQiLCJ0ZXh0IiwiZHVyYXRpb24iLCJQRVJNQU5FTlQiLCJBY3Rpb25TbGljZVNlc3Npb24iLCJzZXRUaW1lckluQmFja2dyb3VuZCIsInVuZGVmaW5lZCIsIkZldGNoZXJTbGljZVNlc3Npb24iLCJleHRlbmRTZXNzaW9uIiwidGltZUluQmFja2dyb3VuZCIsIkRhdGUiLCJnZXRUaW1lIiwiTWF0aCIsInJvdW5kIiwiY2xlYW51cEV2ZW50c1doZW5Vbm1vdW50aW5nIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIl9jYWxsZWUzIiwiX2NvbnRleHQzIiwiY2hlY2tTZXNzaW9uU3RhdHVzIiwiQWN0aW9uU2xpY2VNb2RvIiwic2V0RGVlcExpbmtEYXRhIiwicGFyYW1zIiwicGF0aCIsIl9jYWxsZWU0IiwiX2NvbnRleHQ0IiwiZXZlbnRzIiwiQmFzZU1haW5Db250YWluZXIiLCJNb2RhbCIsImNsb3NlT25CZ1RhcCIsImhhc0Nsb3NlSWNvbiIsIm9wZW4iLCJCb2R5Iiwib25tb3VzZW1vdmUiLCJvbnRvdWNoZW5kIiwiY2xlYXJJbnRlcnZhbCIsIl9jaGVja1VzZXJBY3Rpdml0eU9uSWZyYW1lIiwiX2NhbGxlZTUiLCJfeWllbGQkcmVzcG9uc2UiLCJjaGVja0FjdGl2aXR5IiwicmVzcG9uc2UiLCJyZXR1cm5WYWx1ZSIsIl9jb250ZXh0NSIsImdldEVsZW1lbnRCeUlkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJFdm9sdXRpdmUiLCJjaGVja1VzZXJBY3Rpdml0eSIsInVzZXJNYWRlQW55QWN0aW9uIiwiZXJyIiwiRXJyb3IiLCJ0MSIsInQwIiwidDIiLCJkZWZhdWx0UHJvcHMiXSwibWFwcGluZ3MiOiJvWkF3QmVBLEVBQXFEQyxJQUFyREQsd0JBQXlCRSxFQUE0QkQsSUFBNUJDLHdCQVVqQyxTQUFTQyxFQUFtQkMsR0FDL0IsSUFBQUMsRUFDSUQsRUFESUUsRUFBd0JE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LE9BYTlELE9BWklDLEVBQVcsSUFBSUksU0FBaUIsU0FBQ0MsRUFBU0MsR0FDNUMsSUFDSTlMLE9BQU8rTCxVQUFVQyxtQkFBa0IsU0FBQ0MsR0FDNUJBLEdBR0FKLEVBREFOLEdBQWdCLEVBR3hCLEdBQ0osQ0FBRSxNQUFPVyxHQUNMSixFQUFPLElBQUlLLE1BQU0sU0FDckIsQ0FDSixJQUFFVCxFQUFBbkksS0FBQSxFQUN5QmlJLEVBQVEsVUFBQUUsRUFBQVUsR0FBQWQsRUFBQUksRUFBQWhELEtBQUFnRCxFQUFBVyxHQUFBLE9BQUFYLEVBQUFVLElBQUFWLEVBQUFXLEdBQUMsQ0FBRFgsRUFBQW5JLEtBQUEsU0FBQW1JLEVBQUFXLFFBQUEsSUFBQWYsRUFBQSxZQUFBSSxFQUFBVyxHQUFDLENBQURYLEVBQUFuSSxLQUFBLFNBQUFtSSxFQUFBWSxHQUFBaEIsRUFBQUksRUFBQW5JLEtBQUEsaUJBQUFtSSxFQUFBWSxHQUFLZixFQUFjLEtBQUQsR0FBcEMsT0FBWEUsRUFBV0MsRUFBQVksR0FBQVosRUFBQWpJLE9BQUEsU0FDVmdJLEdBQVcseUJBQUFDLEVBQUE1SCxPQUFBLEdBQUF1SCxFQUFBLE1BQ3JCdEgsTUFBQSxLQUFBQyxVQUFBLENBQ0wsQ0FDQXNDLEVBQXNCaUcsYUFBZWxHLEMiLCJmaWxlIjoic3RhdGljL2pzLzkuNGYyZTM1OTUuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMgKi9cbmltcG9ydCBSZWFjdCBmcm9tIFwiQHBrZy9yZWFjdFwiO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBnZXRDbGFzc05hbWUgfSBmcm9tIFwiQHBrZy9yZWFjdC1zdG9yeWJvb2svQ29tcG9uZW50XCI7XG5pbXBvcnQgdHlwZSB7IFByb3BEZWZhdWx0cywgUHJvcEVsZW1lbnQsIFByb3BUeXBlcyB9IGZyb20gXCJAcGtnL3JlYWN0LXN0b3J5Ym9vay9Db21wb25lbnRcIjtcblxuaW1wb3J0IHsgSWNvbiwgQmFkZ2UsIENhcmQsIExvdHRpZSB9IGZyb20gXCJAYXBwL2JhbmNvbi11aVwiO1xuaW1wb3J0IHtcbiAgICBTZWxlY3RvclNsaWNlTm90aWZpY2F0aW9ucyxcbiAgICBGZXRjaGVyU2xpY2VOb3RpZmljYXRpb25zLFxuICAgIEFjdGlvblNsaWNlTm90aWZpY2F0aW9ucyxcbn0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvc2xpY2VzL25vdGlmaWNhdGlvbnNcIjtcbmltcG9ydCB7IE9ORSwgWkVSTywgRU1QVFlfU1RSSU5HLCBLRVlfQ09ERSwgRk9DVVNBQkxFX0VMRU1FTlRTIH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciwgdXNlRGlzcGF0Y2ggfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YVwiO1xuaW1wb3J0IHsgU2VsZWN0b3JTbGljZVNlc3Npb24gfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9zbGljZXMvc2Vzc2lvblwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uVHlwZXMgfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9hcGkvbm90aWZpY2F0aW9uc1wiO1xuXG5pbXBvcnQgeyBUZXh0LCB1c2VUZXh0IH0gZnJvbSBcIi4uLy4uLy4uL0VsZW1lbnQvVGV4dFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL0VsZW1lbnQvQnV0dG9uXCI7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25DYXJkIH0gZnJvbSBcIi4uLy4uLy4uL0VsZW1lbnQvQ2FyZC9Ob3RpZmljYXRpb25zXCI7XG5cbmltcG9ydCBSdWxlcyBmcm9tIFwiLi9fcnVsZXMubW9kdWxlLnNjc3NcIjtcbmltcG9ydCBOYW1lc3BhY2UgZnJvbSBcIi4vX2luZGV4LnNjc3NcIjtcblxuZXhwb3J0IGNvbnN0IHsgTkFNRV9OT1RJRklDQVRJT05TUEFORUwsIFRZUEVfTk9USUZJQ0FUSU9OU1BBTkVMIH0gPSBOYW1lc3BhY2U7XG5cbmV4cG9ydCB0eXBlIFByb3BOb3RpZmljYXRpb25QYW5lbCA9IFByb3BFbGVtZW50ICYge1xuICAgIGhhbmRsZU5vdGlmaWNhdGlvbnNQYW5lbDogKCkgPT4gdm9pZDtcbiAgICBoYXNOb3RpZmljYXRpb25zUGFuZWw6IGJvb2xlYW47XG4gICAgbm90aWZpY2F0aW9uc1BhZ2U6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBERUZfTk9USUZJQ0FUSU9OU19QQU5FTDogUHJvcERlZmF1bHRzPFByb3BOb3RpZmljYXRpb25QYW5lbD4gPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5vdGlmaWNhdGlvbnNQYW5lbChwcm9wczogUHJvcE5vdGlmaWNhdGlvblBhbmVsKSB7XG4gICAgY29uc3QgeyBoYW5kbGVOb3RpZmljYXRpb25zUGFuZWwsIGhhc05vdGlmaWNhdGlvbnNQYW5lbCwgbm90aWZpY2F0aW9uc1BhZ2UsIC4uLnJlc3QgfSA9XG4gICAgICAgIHByb3BzIGFzIFByb3BUeXBlczxQcm9wTm90aWZpY2F0aW9uUGFuZWwsIHR5cGVvZiBERUZfTk9USUZJQ0FUSU9OU19QQU5FTD47XG5cbiAgICBjb25zdCBbYWN0aXZlRWxlbWVudCwgc2V0QWN0aXZlRWxlbWVudF0gPSBSZWFjdC51c2VTdGF0ZTxFbGVtZW50IHwgbnVsbD4oKTtcbiAgICBjb25zdCBub3RpZmljYXRpb25QYW5lbFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgICBjb25zdCBjb21tdW5pY2F0aW9ucyA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VOb3RpZmljYXRpb25zLmNvbW11bmljYXRpb25zTGlzdCk7XG4gICAgY29uc3QgY29tbXVuaWNhdGlvbnNVbnJlYWRDb3VudCA9IHVzZVNlbGVjdG9yKFxuICAgICAgICBTZWxlY3RvclNsaWNlTm90aWZpY2F0aW9ucy5jb21tdW5pY2F0aW9uc1VucmVhZENvdW50LFxuICAgICk7XG4gICAgY29uc3QgY29tbXVuaWNhdGlvbnNGZXRjaGluZyA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VOb3RpZmljYXRpb25zLmNvbW11bmljYXRpb25zRmV0Y2hpbmcpO1xuICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZVNlc3Npb24udG9rZW4pO1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gICAgY29uc3QgeyB0ZXh0R2V0IH0gPSB1c2VUZXh0KCk7XG5cbiAgICBjb25zdCBoYXNDb21tdW5pY2F0aW9ucyA9IEJvb2xlYW4oY29tbXVuaWNhdGlvbnMgJiYgY29tbXVuaWNhdGlvbnMubGVuZ3RoID4gWkVSTyk7XG5cbiAgICBjb25zdCBsaXN0Q2xhc3NOYW1lcyA9IGdldENsYXNzTmFtZShcbiAgICAgICAgUnVsZXMubm90aWZpY2F0aW9uc0xpc3QsXG4gICAgICAgICFoYXNOb3RpZmljYXRpb25zUGFuZWwgPyBSdWxlcy5ub3RpZmljYXRpb25zTGlzdEhpZGRlbiA6IEVNUFRZX1NUUklORyxcbiAgICApO1xuICAgIGNvbnN0IG1hc2tDbGFzc05hbWVzID0gZ2V0Q2xhc3NOYW1lKFxuICAgICAgICBoYXNOb3RpZmljYXRpb25zUGFuZWwgPyBSdWxlcy5ub3RpZmljYXRpb25zTWFzayA6IFJ1bGVzLm5vdGlmaWNhdGlvbnNNYXNrSGlkZGVuLFxuICAgICk7XG5cbiAgICAvKiogQXMgdGhlIGNvbnRhaW5lciBoYXMgYW4gb3ZlcmZsb3c6aGlkZGVuIGl0IGlzIG5lY2Vzc2FyeSB0aGF0IHRoZSBub3RpZmljYXRpb24gcGFuZWwgaGFzIGEgZml4ZWQgcG9zaXRpb25cbiAgICAgKnNpbmNlIHRoaXMgaXMgbG9uZ2VyIHRoYW4gdGhlIGNvbnRhaW5lciBhbmQgdG8gcHJldmVudCBpdCBmcm9tIG1vdmluZyB3ZSBibG9jayB0aGUgc2Nyb2xsXG4gICAgICpzbyB0aGF0IHdlIGNhbiBvbmx5IHNjcm9sbCB0aGUgbm90aWZpY2F0aW9ucyBwYW5lbCAqL1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaGFzTm90aWZpY2F0aW9uc1BhbmVsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xuICAgICAgICB9O1xuICAgIH0sIFtoYXNOb3RpZmljYXRpb25zUGFuZWxdKTtcblxuICAgIC8vIFJldHVybiBmb2N1cyB0byBsYXN0IGFjdGl2ZSBlbGVtZW50IChiZWxsIEljb25CdXR0b24gb24gaGVhZGVyKVxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChoYXNOb3RpZmljYXRpb25zUGFuZWwpIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZUVsZW1lbnQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAoYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCk/LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFzTm90aWZpY2F0aW9uc1BhbmVsLCBhY3RpdmVFbGVtZW50XSk7XG5cbiAgICAvL1RyYXAgZm9jdXMgb24gbm90aWZpY2F0aW9ucyBwYW5lbCBzbyB1c2VyIGNhbiBub3QgbG9vc2UgZm9jdXMgb24gdGFiLCBUT0RPOiByZW1vdmUgdGhpcyBhbmQgdXNlIHVzZUZvY3VzVHJhcCBjdXN0b20gaG9vayBmcm9tIERTIHdoZW4gaXRzIGV4cG9ydGVkXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEoZS5rZXkgPT09IEtFWV9DT0RFLlRBQikgfHwgIW5vdGlmaWNhdGlvblBhbmVsUmVmKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGZvY3VzYWJsZUVsZW1lbnRzID0gbm90aWZpY2F0aW9uUGFuZWxSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICBGT0NVU0FCTEVfRUxFTUVOVFMsXG4gICAgICAgICAgICApIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuXG4gICAgICAgICAgICBpZiAoIWZvY3VzYWJsZUVsZW1lbnRzKSByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlRWxlbWVudCA9IGZvY3VzYWJsZUVsZW1lbnRzW1pFUk9dO1xuICAgICAgICAgICAgY29uc3QgbGFzdEZvY3VzYWJsZUVsZW1lbnQgPSBmb2N1c2FibGVFbGVtZW50c1tmb2N1c2FibGVFbGVtZW50cy5sZW5ndGggLSBPTkVdO1xuXG4gICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEZvY3VzYWJsZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdEZvY3VzYWJsZUVsZW1lbnQ/LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0Rm9jdXNhYmxlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdEZvY3VzYWJsZUVsZW1lbnQ/LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUtleVByZXNzKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVLZXlQcmVzcyk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPENvbXBvbmVudFxuICAgICAgICAgICAgYXJpYS1tb2RhbFxuICAgICAgICAgICAgYXJpYS1sYWJlbD17dGV4dEdldCh7IHV1aWQ6IFwic3BhLndpZGdldC5ub3RpZmljYXRpb25zLnRpdGxlXCIgfSl9XG4gICAgICAgICAgICBuYW1lPXtOQU1FX05PVElGSUNBVElPTlNQQU5FTH1cbiAgICAgICAgICAgIHJvbGU9XCJkaWFsb2dcIlxuICAgICAgICAgICAgdGFnPVwic2VjdGlvblwiXG4gICAgICAgICAgICB0eXBlPXtUWVBFX05PVElGSUNBVElPTlNQQU5FTH1cbiAgICAgICAgICAgIHsuLi5yZXN0fT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXttYXNrQ2xhc3NOYW1lc30gb25DbGljaz17aGFuZGxlTm90aWZpY2F0aW9uc1BhbmVsfSAvPlxuICAgICAgICAgICAgPGRpdiByZWY9e25vdGlmaWNhdGlvblBhbmVsUmVmfSBjbGFzc05hbWU9e2xpc3RDbGFzc05hbWVzfT5cbiAgICAgICAgICAgICAgICA8Q2FyZCBhcmlhLWxhYmVsbGVkYnk9XCJub3RpZmljYXRpb25zUGFuZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0IHRhZz1cImgzXCIgdXVpZD1cInNwYS53aWRnZXQubm90aWZpY2F0aW9ucy50aXRsZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17UnVsZXMubm90aWZpY2F0aW9uc1BhbmVsQXJpYUNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJub3RpZmljYXRpb25zUGFuZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZz1cInNwYW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ9XCJzcGEuYTExeS5ub3RpZmljYXRpb25zLmNsb3NlLnBhbmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29tbXVuaWNhdGlvbnNVbnJlYWRDb3VudCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGV4dEdldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBcInNwYS5hMTF5Lm5vdGlmaWNhdGlvbnMuY291bnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IGAke2NvbW11bmljYXRpb25zVW5yZWFkQ291bnR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9e1N0cmluZyhjb21tdW5pY2F0aW9uc1VucmVhZENvdW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgICAgICAgICAgICAgIDxzZWN0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbW11bmljYXRpb25zRmV0Y2hpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1J1bGVzLm5vdGlmaWNhdGlvblNwaW5uZXJ9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG90dGllXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWF0b21pYz1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJzcGlubmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJ4bGFyZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RleHRHZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IFwic3BhLmExMXkubm90aWZpY2F0aW9uLmxvYWRpbmcudW5yZWFkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Tm90aWZpY2F0aW9uc0NhcmQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zZWN0aW9uPlxuXG4gICAgICAgICAgICAgICAgICAgIDxmb290ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJpYUxhYmVsPXt7IHV1aWQ6IFwic3BhLmExMXkubm90aWZpY2F0aW9ucy5nby50by5wYWdlXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kPVwicGxhaW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt7IHV1aWQ6IFwic3BhLndpZGdldC5ub3RpZmljYXRpb25zLnNlZWFsbFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTmF2aWdhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NvbXBvbmVudD5cbiAgICApO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gbWFya0FzUmVhZEFjdGl2aXR5KFxuICAgICAgICBldmVudDogUmVhY3QuTW91c2VFdmVudDxIVE1MRWxlbWVudCwgTW91c2VFdmVudD4sXG4gICAgICAgIGlkQ29tbXVuaWNhdGlvbjogbnVtYmVyLFxuICAgICkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICBpZiAoIWFjY2Vzc1Rva2VuKSByZXR1cm47XG4gICAgICAgIGF3YWl0IGRpc3BhdGNoKFxuICAgICAgICAgICAgRmV0Y2hlclNsaWNlTm90aWZpY2F0aW9ucy5tYXJrQXNSZWFkQ29tbXVuaWNhdGlvbih7IGFjY2Vzc1Rva2VuLCBpZENvbW11bmljYXRpb24gfSksXG4gICAgICAgICk7XG5cbiAgICAgICAgZGlzcGF0Y2goRmV0Y2hlclNsaWNlTm90aWZpY2F0aW9ucy5nZXROb3RpZmljYXRpb25zKHsgYWNjZXNzVG9rZW4gfSkpO1xuICAgICAgICBkaXNwYXRjaChGZXRjaGVyU2xpY2VOb3RpZmljYXRpb25zLmdldE5vdGlmaWNhdGlvbnNVbnJlYWRDb3VudCh7IGFjY2Vzc1Rva2VuIH0pKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVOb3RpZmljYXRpb25EZXRhaWwoaWRDb21tdW5pY2F0aW9uOiBudW1iZXIpIHtcbiAgICAgICAgYXdhaXQgZGlzcGF0Y2goXG4gICAgICAgICAgICBGZXRjaGVyU2xpY2VOb3RpZmljYXRpb25zLnJlYWRDb21tdW5pY2F0aW9uKHsgYWNjZXNzVG9rZW4sIGlkQ29tbXVuaWNhdGlvbiB9KSxcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2goQWN0aW9uU2xpY2VOb3RpZmljYXRpb25zLmNsZWFuTm90aWZpY2F0aW9uc0xpc3QoKSk7XG4gICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlTm90aWZpY2F0aW9ucy5zZXROb3RpZmljYXRpb25zQWN0aXZlKE5vdGlmaWNhdGlvblR5cGVzLmFsbCkpO1xuICAgICAgICBuYXZpZ2F0ZShub3RpZmljYXRpb25zUGFnZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlTmF2aWdhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgZGlzcGF0Y2goQWN0aW9uU2xpY2VOb3RpZmljYXRpb25zLmNsZWFuKCkpO1xuICAgICAgICBuYXZpZ2F0ZShub3RpZmljYXRpb25zUGFnZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9uc0NhcmQoKSB7XG4gICAgICAgIGlmIChoYXNDb21tdW5pY2F0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgIHtidWlsZENvbW11bmljYXRpb25zQ2FyZHMoKS5tYXAoKGNhcmQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtgbm90aWZpY2F0aW9uLSR7aW5kZXggKyBPTkV9YH0+e2NhcmR9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtSdWxlcy5ub3RpZmljYXRpb25zRW1wdHl9PlxuICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJiZWxsXCIgc2l6ZT1cInhsYXJnZVwiIHN0cm9rZT1cImdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgICAgICA8VGV4dCB1dWlkPVwic3BhLndpZGdldC5ub3RpZmljYXRpb25zLm5vbmVcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnVpbGRDb21tdW5pY2F0aW9uc0NhcmRzKCkge1xuICAgICAgICBjb25zdCBjYXJkczogSlNYLkVsZW1lbnRbXSA9IFtdO1xuICAgICAgICBpZiAoY29tbXVuaWNhdGlvbnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29tbXVuaWNhdGlvbnMuZm9yRWFjaCgoeyBpZENvbW11bmljYXRpb24sIGJvZHksIHNlbnREYXRlLCBzdWJqZWN0LCB1c2VyUmVhZCB9KSA9PlxuICAgICAgICAgICAgICAgIGNhcmRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIDxOb3RpZmljYXRpb25DYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkQ29tbXVuaWNhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk9e2JvZHl9XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25PbkNsaWNrPXsoZXZlbnQpID0+IG1hcmtBc1JlYWRBY3Rpdml0eShldmVudCwgaWRDb21tdW5pY2F0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblRleHQ9XCJzcGEud2lkZ2V0cy5ub3RpZmljYXRpb25zLmNvbW11bmljYXRpb25zLmhpZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZT17c2VudERhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1VuUmVhZD17IXVzZXJSZWFkfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3N1YmplY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVOb3RpZmljYXRpb25EZXRhaWwoaWRDb21tdW5pY2F0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgLz4sXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhcmRzO1xuICAgIH1cbn1cbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJOQU1FX05PVElGSUNBVElPTlNQQU5FTFwiOlwiTm90aWZpY2F0aW9uc1BhbmVsXCIsXCJUWVBFX05PVElGSUNBVElPTlNQQU5FTFwiOlwiU2VjdGlvblwiLFwiTkFNRV9USEVNRVBMQVRGT1JNXCI6XCJUaGVtZVBsYXRmb3JtXCIsXCJUWVBFX1RIRU1FUExBVEZPUk1cIjpcIkJ1bmRsZVwiLFwiTkFNRV9DT05TVU1FUl9USEVNRVBMQVRGT1JNXCI6XCJUaGVtZVBsYXRmb3JtQ29uc3VtZXJcIixcIlRZUEVfQ09OU1VNRVJfVEhFTUVQTEFURk9STVwiOlwiRWxlbWVudFwiLFwiTkFNRV9QUk9WSURFUl9USEVNRVBMQVRGT1JNXCI6XCJUaGVtZVBsYXRmb3JtUHJvdmlkZXJcIixcIlRZUEVfUFJPVklERVJfVEhFTUVQTEFURk9STVwiOlwiUHJvdmlkZXJcIixcIk5BTUVfVEVYVFwiOlwiVGV4dFwiLFwiVFlQRV9URVhUXCI6XCJFbGVtZW50XCIsXCJOQU1FX0JVVFRPTlwiOlwiQnV0dG9uXCIsXCJUWVBFX0JVVFRPTlwiOlwiRWxlbWVudFwiLFwiTkFNRV9YU1wiOlwieHNcIixcIk5BTUVfU01cIjpcInNtXCIsXCJOQU1FX01EXCI6XCJtZFwiLFwiTkFNRV9MR1wiOlwibGdcIixcIm5vdGlmaWNhdGlvbnNQYW5lbEFyaWFDb250ZW50XCI6XCJfcnVsZXNfbm90aWZpY2F0aW9uc1BhbmVsQXJpYUNvbnRlbnRfXzFGb1ZnXCIsXCJub3RpZmljYXRpb25zTWFza1wiOlwiX3J1bGVzX25vdGlmaWNhdGlvbnNNYXNrX18xSlA1UFwiLFwibm90aWZpY2F0aW9uc01hc2tIaWRkZW5cIjpcIl9ydWxlc19ub3RpZmljYXRpb25zTWFza0hpZGRlbl9fMWFfaWNcIixcIm5vdGlmaWNhdGlvbnNMaXN0XCI6XCJfcnVsZXNfbm90aWZpY2F0aW9uc0xpc3RfX2lpZjFGXCIsXCJmYWRlSW5cIjpcIl9ydWxlc19mYWRlSW5fXzNFbVZQXCIsXCJub3RpZmljYXRpb25zTGlzdEhpZGRlblwiOlwiX3J1bGVzX25vdGlmaWNhdGlvbnNMaXN0SGlkZGVuX18yblp5ZFwiLFwiZmFkZU91dFwiOlwiX3J1bGVzX2ZhZGVPdXRfXzE0UEt4XCIsXCJub3RpZmljYXRpb25TcGlubmVyXCI6XCJfcnVsZXNfbm90aWZpY2F0aW9uU3Bpbm5lcl9feXMtV05cIixcIm5vdGlmaWNhdGlvbnNFbXB0eVwiOlwiX3J1bGVzX25vdGlmaWNhdGlvbnNFbXB0eV9fMVlmMk1cIn07IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcIk5BTUVfTk9USUZJQ0FUSU9OU1BBTkVMXCI6XCJOb3RpZmljYXRpb25zUGFuZWxcIixcIlRZUEVfTk9USUZJQ0FUSU9OU1BBTkVMXCI6XCJTZWN0aW9uXCJ9OyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJOQU1FX0JBU0VJTlRFUk5BTF9DT05UQUlORVJcIjpcIkJhc2VJbnRlcm5hbENvbnRhaW5lclwiLFwiVFlQRV9CQVNFSU5URVJOQUxfQ09OVEFJTkVSXCI6XCJDb250YWluZXJcIn07IiwiaW1wb3J0IHR5cGUge1xuICAgIFByb3BDYWxsYmFjayxcbiAgICBQcm9wRGVmYXVsdHMsXG4gICAgUHJvcFR5cGVzLFxuICAgIFJlY29yZENvbXBvbmVudCxcbn0gZnJvbSBcIkBwa2cvcmVhY3Qtc3Rvcnlib29rL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgQmFzZUludGVybmFsQ29udGFpbmVySGVhZGVyIH0gZnJvbSBcIi4vX0hlYWRlclwiO1xuaW1wb3J0IHsgQmFzZUludGVybmFsQ29udGFpbmVyRm9vdGVyIH0gZnJvbSBcIi4vX0Zvb3RlclwiO1xuaW1wb3J0IHsgQmFzZUludGVybmFsQ29udGFpbmVyTWVudSB9IGZyb20gXCIuL19NZW51XCI7XG5pbXBvcnQgdHlwZSB7IFByb3BNYWluQmFzZUNvbnRhaW5lciB9IGZyb20gXCIuLi9CYXNlTWFpbi90eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBQcm9wQmFzZUludGVybmFsQ29udGFpbmVySGVhZGVyIH0gZnJvbSBcIi4vX0hlYWRlclwiO1xuaW1wb3J0IHR5cGUgeyBQcm9wQmFzZUludGVybmFsQ29udGFpbmVyRm9vdGVyIH0gZnJvbSBcIi4vX0Zvb3RlclwiO1xuaW1wb3J0IHR5cGUgeyBQcm9wQmFzZUludGVybmFsQ29udGFpbmVyTWVudSB9IGZyb20gXCIuL19NZW51XCI7XG5pbXBvcnQgdHlwZSB7IEl0ZW1CYXNlSW50ZXJuYWxDb250YWluZXJNZW51TmF2IH0gZnJvbSBcIi4vX01lbnUvX05hdlwiO1xuaW1wb3J0IHR5cGUgeyBJdGVtQmFzZUludGVybmFsQ29udGFpbmVyTWVudUxpc3QgfSBmcm9tIFwiLi9fTWVudS9fTGlzdFwiO1xuaW1wb3J0IHR5cGUgeyBJdGVtQmFzZUludGVybmFsQ29udGFpbmVyTWVudUdyaWQgfSBmcm9tIFwiLi9fTWVudS9fR3JpZFwiO1xuXG5pbXBvcnQgTmFtZXNwYWNlIGZyb20gXCIuL19pbmRleC5zY3NzXCI7XG5cbmV4cG9ydCBjb25zdCB7IE5BTUVfQkFTRUlOVEVSTkFMX0NPTlRBSU5FUiwgVFlQRV9CQVNFSU5URVJOQUxfQ09OVEFJTkVSIH0gPSBOYW1lc3BhY2U7XG5cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBOU0Jhc2VJbnRlcm5hbENvbnRhaW5lciB7XG4gICAgZXhwb3J0IHR5cGUgSXRlbU5hdiA9IEl0ZW1CYXNlSW50ZXJuYWxDb250YWluZXJNZW51TmF2O1xuICAgIGV4cG9ydCB0eXBlIEl0ZW1MaXN0ID0gSXRlbUJhc2VJbnRlcm5hbENvbnRhaW5lck1lbnVMaXN0O1xuICAgIGV4cG9ydCB0eXBlIEl0ZW1HcmlkID0gSXRlbUJhc2VJbnRlcm5hbENvbnRhaW5lck1lbnVHcmlkO1xuXG4gICAgZXhwb3J0IHR5cGUgUHJvcEhlYWRlciA9IFByb3BCYXNlSW50ZXJuYWxDb250YWluZXJIZWFkZXI7XG4gICAgZXhwb3J0IHR5cGUgUHJvcEZvb3RlciA9IFByb3BCYXNlSW50ZXJuYWxDb250YWluZXJGb290ZXI7XG4gICAgZXhwb3J0IHR5cGUgUHJvcE1lbnUgPSBQcm9wQmFzZUludGVybmFsQ29udGFpbmVyTWVudTtcbn1cblxuZXhwb3J0IGNvbnN0IFNFQ1RJT05fQkFTRUlOVEVSTkFMX0NPTlRBSU5FUiA9IHtcbiAgICBIZWFkZXI6IEJhc2VJbnRlcm5hbENvbnRhaW5lckhlYWRlcixcbiAgICBGb290ZXI6IEJhc2VJbnRlcm5hbENvbnRhaW5lckZvb3RlcixcbiAgICBNZW51OiBCYXNlSW50ZXJuYWxDb250YWluZXJNZW51LFxufSBhcyBjb25zdDtcblxuZXhwb3J0IHR5cGUgU2VjdGlvbkJhc2VJbnRlcm5hbENvbnRhaW5lciA9IFJlY29yZENvbXBvbmVudDx0eXBlb2YgU0VDVElPTl9CQVNFSU5URVJOQUxfQ09OVEFJTkVSPjtcblxuZXhwb3J0IHR5cGUgUHJvcEJhc2VJbnRlcm5hbENvbnRhaW5lciA9IE9taXQ8UHJvcE1haW5CYXNlQ29udGFpbmVyLCBcImNoaWxkcmVuXCI+ICZcbiAgICBQcm9wQ2FsbGJhY2s8U2VjdGlvbkJhc2VJbnRlcm5hbENvbnRhaW5lcj4gJiB7XG4gICAgICAgIFwic2Vzc2lvbi1yZWRpcmVjdFwiOiBzdHJpbmc7XG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XG4gICAgICAgIHR5cGU/OiBzdHJpbmc7XG4gICAgfTtcblxuZXhwb3J0IGNvbnN0IERFRl9CQVNFSU5URVJOQUxfQ09OVEFJTkVSOiBQcm9wRGVmYXVsdHM8XG4gICAgT21pdDxQcm9wQmFzZUludGVybmFsQ29udGFpbmVyLCBcInRpdGxlXCIgfCBcIm9uQ2xpY2tcIiB8IFwic2Vzc2lvblRpbWVvdXRcIiB8IFwiaXNIb21lQWN0aXZlXCI+XG4+ID0ge1xuICAgIG5hbWU6IE5BTUVfQkFTRUlOVEVSTkFMX0NPTlRBSU5FUixcbiAgICB0eXBlOiBUWVBFX0JBU0VJTlRFUk5BTF9DT05UQUlORVIsXG59O1xuXG5leHBvcnQgdHlwZSBQcm9wVHlwZUJhc2VJbnRlcm5hbENvbnRhaW5lciA9IFByb3BUeXBlczxcbiAgICBQcm9wQmFzZUludGVybmFsQ29udGFpbmVyLFxuICAgIHR5cGVvZiBERUZfQkFTRUlOVEVSTkFMX0NPTlRBSU5FUlxuPjtcblxuZXhwb3J0IHR5cGUgQWN0aXZpdHlCYXNlSW50ZXJuYWxDb250YWluZXIgPSB7XG4gICAgaW50ZXJ2YWw6IE5vZGVKUy5UaW1lb3V0O1xuICAgIHRpbWVyOiBudW1iZXI7XG4gICAgdGhyb3R0bGU6IG51bGwgfCBOb2RlSlMuVGltZW91dDtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcIkBwa2cvcmVhY3RcIjtcbi8vIFRPRE86IEhhY2VyIGxvcyBleHBvcnRzIGRlbCByb3V0ZXIgZW4gdW4gYXJjaGl2byBkaXN0aW50byBhIFwiQHBrZy9yZWFjdC1zdG9yeWJvb2svQ29tcG9uZW50L1JvdXRlclwiXG4vLyAgICAgICBwYXJhIHF1ZSBubyBzZSBldmFsdWUgbGEgcnV0YSBcIn5cIlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby1leHRyYW5lb3VzLWRlcGVuZGVuY2llc1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgdXNlUGVyc2lzdG9yIH0gZnJvbSBcIkBwa2cvcmVhY3Qtc3Rvcnlib29rL0NvbXBvbmVudC9QZXJzaXN0b3JcIjtcbmltcG9ydCB7IFN0b3JlLCB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YVwiO1xuaW1wb3J0IHtcbiAgICBBY3Rpb25TbGljZVNlc3Npb24sXG4gICAgRmV0Y2hlclNsaWNlU2Vzc2lvbixcbiAgICBTZWxlY3RvclNsaWNlU2Vzc2lvbixcbiAgICB1c2VWaXNpYmlsaXR5Q2hhbmdlLFxufSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9zbGljZXMvc2Vzc2lvblwiO1xuaW1wb3J0IHsgU2VsZWN0b3JTbGljZVByb2R1Y3RNYXNrIH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvc2xpY2VzL3Byb2R1Y3RNYXNrXCI7XG5pbXBvcnQgeyBwYXJzZVRpbWVJbk1pbGxpcyB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3V0aWxzL3RpbWVcIjtcbmltcG9ydCB7IGRvTG9nb3V0IH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvdXRpbHMvc2Vzc2lvblV0aWxzXCI7XG5pbXBvcnQgeyBUV08sIFNFQ09ORCwgUEVSTUFORU5ULCBaRVJPLCBPTkUgfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIkBwa2cvcmVhY3Qtc3Rvcnlib29rL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgQWN0aW9uU2xpY2VUb2FzdCB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy90b2FzdFwiO1xuaW1wb3J0IHsgQWN0aW9uU2xpY2VNb2RvLCBTZWxlY3RvclNsaWNlTW9kbyB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9tb2RvXCI7XG5pbXBvcnQgeyBUZXh0LCB1c2VUZXh0IH0gZnJvbSBcIi4uLy4uL0VsZW1lbnQvVGV4dFwiO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tIFwiLi4vLi4vRWxlbWVudC9Nb2RhbFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uL0VsZW1lbnQvQnV0dG9uXCI7XG5cbmltcG9ydCB7IEJhc2VNYWluQ29udGFpbmVyIH0gZnJvbSBcIi4uL0Jhc2VNYWluXCI7XG5pbXBvcnQgdHlwZSB7XG4gICAgQWN0aXZpdHlCYXNlSW50ZXJuYWxDb250YWluZXIsXG4gICAgUHJvcEJhc2VJbnRlcm5hbENvbnRhaW5lcixcbiAgICBQcm9wVHlwZUJhc2VJbnRlcm5hbENvbnRhaW5lcixcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IERFRl9CQVNFSU5URVJOQUxfQ09OVEFJTkVSLCBTRUNUSU9OX0JBU0VJTlRFUk5BTF9DT05UQUlORVIgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQmFzZUludGVybmFsQ29udGFpbmVyKHByb3BzOiBQcm9wQmFzZUludGVybmFsQ29udGFpbmVyKSB7XG4gICAgY29uc3Qge1xuICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgXCJzZXNzaW9uLXJlZGlyZWN0XCI6IHVybEhvbWUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGlzSG9tZUFjdGl2ZSxcbiAgICAgICAgLi4ucmVzdFxuICAgIH0gPSBwcm9wcyBhcyBQcm9wVHlwZUJhc2VJbnRlcm5hbENvbnRhaW5lcjtcblxuICAgIGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgY29uc3QgeyB0ZXh0R2V0IH0gPSB1c2VUZXh0KCk7XG4gICAgY29uc3QgeyBnZXRWYWx1ZUNvbmZpZyB9ID0gdXNlUGVyc2lzdG9yKCk7XG4gICAgY29uc3QgaXNWaXNpYmxlID0gdXNlVmlzaWJpbGl0eUNoYW5nZSgpO1xuXG4gICAgY29uc3QgdG9rZW4gPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlU2Vzc2lvbi50b2tlbik7XG4gICAgY29uc3QgbWFzayA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VQcm9kdWN0TWFzay5tYXNrUHJvZHVjdCk7XG4gICAgY29uc3QgZGVlcExpbmtQYXRoID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZU1vZG8uZGVlcExpbmtQYXRoKTtcbiAgICBjb25zdCBkZWVwTGlua0RhdGEgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlTW9kby5kZWVwTGlua0RhdGEpO1xuICAgIGNvbnN0IHRpbWVySW5CYWNrZ3JvdW5kID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZVNlc3Npb24udGltZXJJbkJhY2tncm91bmQpO1xuICAgIGNvbnN0IHNlY29uZHNUb0V4cGlyZSA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VTZXNzaW9uLnNlY29uZHNUb0V4cGlyZSk7XG5cbiAgICBjb25zdCBtb2RhbFRpdGxlID0gdGV4dEdldCh7IHV1aWQ6IFwic3BhLmV4dGVuZFNlc3Npb24udGl0bGVcIiB9KTtcbiAgICBjb25zdCBtb2RhbEFyaWFEZXNjcmliZWRCeSA9IFwibW9kYWwtZGVzY3JpcHRpb25cIjtcbiAgICBjb25zdCBtb2RhbEFyaWFMYWJlbCA9IHRleHRHZXQoe1xuICAgICAgICB1dWlkOiBcInNwYS5leHRlbmRTZXNzaW9uLnRleHQuc2Vjb25kc1wiLFxuICAgICAgICByZXBsYWNlOiBbbW9kYWxUaXRsZSwgU3RyaW5nKHNlY29uZHNUb0V4cGlyZSAvIFNFQ09ORCldLFxuICAgIH0pO1xuICAgIGNvbnN0IHRpbWVCZWZvcmVUaW1lb3V0Tm90aWZpY2F0aW9uID0gcGFyc2VUaW1lSW5NaWxsaXMoXG4gICAgICAgIGAke2dldFZhbHVlQ29uZmlnKFwic2Vzc2lvbi50aW1lQmVmb3JlVGltZW91dE5vdGlmaWNhdGlvblwiKX1gLFxuICAgICk7XG4gICAgY29uc3QgZGlmZlNlc3Npb25BbmROb3RpZmljYXRpb24gPSBzZWNvbmRzVG9FeHBpcmUgLSB0aW1lQmVmb3JlVGltZW91dE5vdGlmaWNhdGlvbjtcblxuICAgIGNvbnN0IFtncmFjZSwgc2V0R3JhY2VdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgcmVmQWN0aXZpdHkgPSBSZWFjdC51c2VSZWY8bnVsbCB8IEFjdGl2aXR5QmFzZUludGVybmFsQ29udGFpbmVyPihudWxsKTtcbiAgICBjb25zdCBoYXNUb1Nob3dFeHRlbmRTZXNzaW9uTW9kYWwgPSBCb29sZWFuKHRva2VuKSAmJiBCb29sZWFuKGdyYWNlKTtcblxuICAgIGNvbnN0IGhhbmRsZUFjdGl2aXR5UmVzZXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghcmVmQWN0aXZpdHkuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGN1cnJlbnQgfSA9IHJlZkFjdGl2aXR5O1xuICAgICAgICBpZiAoY3VycmVudC50aHJvdHRsZSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGN1cnJlbnQudGhyb3R0bGUpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQudGhyb3R0bGUgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGN1cnJlbnQudGltZXIgPSBOdW1iZXIoc2Vjb25kc1RvRXhwaXJlKTtcbiAgICAgICAgICAgIHNldEdyYWNlKFpFUk8pO1xuICAgICAgICB9LCBOdW1iZXIoU0VDT05EIC8gVFdPKSk7XG4gICAgfSwgW3NlY29uZHNUb0V4cGlyZV0pO1xuXG4gICAgY29uc3QgcmV0dXJuQ2hlY2tBY3Rpdml0eSA9IFJlYWN0LnVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaGFzVXNlck1vdmVtZW50ID0gYXdhaXQgY2hlY2tVc2VyQWN0aXZpdHlPbklmcmFtZSgpO1xuICAgICAgICBpZiAoaGFzVXNlck1vdmVtZW50KSB7XG4gICAgICAgICAgICBoYW5kbGVBY3Rpdml0eVJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlQWN0aXZpdHlSZXNldF0pO1xuXG4gICAgLyoqIExvZ3Mgb3V0IHdoZW4gdGhlIGFwcGxpY2F0aW9uIHJldHVybnMgdG8gdGhlIGZvcmVncm91bmQgYW5kIHRoZSBzZXNzaW9uIHRpbWUgaGFzIGV4cGlyZWQuICovXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZG9Mb2dvdXRJbkJhY2tncm91bmQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgICAgICAgICBhd2FpdCBkb0xvZ291dChtYXNrLCB0b2tlbik7XG4gICAgICAgICAgICBTdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICBBY3Rpb25TbGljZVRvYXN0LnNldCh7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiRVJST1JcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogeyB1dWlkOiBcInNwYS5zZXNzaW9uRXhwaXJlZC5tZXNzYWdlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IFBFUk1BTkVOVCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZGlzcGF0Y2goQWN0aW9uU2xpY2VTZXNzaW9uLnNldFRpbWVySW5CYWNrZ3JvdW5kKHVuZGVmaW5lZCkpO1xuICAgICAgICBpZiAoIWlzVmlzaWJsZSAmJiAhaGFzVG9TaG93RXh0ZW5kU2Vzc2lvbk1vZGFsICYmIHRva2VuKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChGZXRjaGVyU2xpY2VTZXNzaW9uLmV4dGVuZFNlc3Npb24obnVsbCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlU2Vzc2lvbi5zZXRUaW1lckluQmFja2dyb3VuZChuZXcgRGF0ZSgpLmdldFRpbWUoKSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aW1lckluQmFja2dyb3VuZCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0aW1lSW5CYWNrZ3JvdW5kID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aW1lckluQmFja2dyb3VuZDtcbiAgICAgICAgdGltZUluQmFja2dyb3VuZCA9IE1hdGgucm91bmQodGltZUluQmFja2dyb3VuZCAvIE51bWJlcihTRUNPTkQpKSAqIE51bWJlcihTRUNPTkQpO1xuXG4gICAgICAgIGlmICh0aW1lSW5CYWNrZ3JvdW5kIDwgZGlmZlNlc3Npb25BbmROb3RpZmljYXRpb24pIHJldHVybjtcblxuICAgICAgICBpZiAodGltZUluQmFja2dyb3VuZCA8IHNlY29uZHNUb0V4cGlyZSAmJiB0aW1lSW5CYWNrZ3JvdW5kID49IGRpZmZTZXNzaW9uQW5kTm90aWZpY2F0aW9uKSB7XG4gICAgICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgICAgICAgICBpZiAocmVmQWN0aXZpdHkuY3VycmVudCkgY2xlYW51cEV2ZW50c1doZW5Vbm1vdW50aW5nKCk7XG4gICAgICAgICAgICBzZXRHcmFjZSgoc2Vjb25kc1RvRXhwaXJlIC0gdGltZUluQmFja2dyb3VuZCArIE51bWJlcihTRUNPTkQpKSAvIE51bWJlcihTRUNPTkQpKTtcbiAgICAgICAgICAgIHJlZkFjdGl2aXR5LmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgdGhyb3R0bGU6IG51bGwsXG4gICAgICAgICAgICAgICAgdGltZXI6IHNlY29uZHNUb0V4cGlyZSAtIHRpbWVJbkJhY2tncm91bmQsXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWw6IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWZBY3Rpdml0eS5jdXJyZW50KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWZBY3Rpdml0eS5jdXJyZW50LnRpbWVyIDwgT05FKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkb0xvZ291dChtYXNrLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdG9yZS5kaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBY3Rpb25TbGljZVRvYXN0LnNldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiRVJST1JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogeyB1dWlkOiBcInNwYS5zZXNzaW9uRXhwaXJlZC5tZXNzYWdlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IFBFUk1BTkVOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZkFjdGl2aXR5LmN1cnJlbnQudGltZXIgPD0gTnVtYmVyKHRpbWVCZWZvcmVUaW1lb3V0Tm90aWZpY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0R3JhY2UocmVmQWN0aXZpdHkuY3VycmVudC50aW1lciAvIE51bWJlcihTRUNPTkQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWZBY3Rpdml0eS5jdXJyZW50LnRpbWVyIC09IE51bWJlcihTRUNPTkQpO1xuICAgICAgICAgICAgICAgIH0sIE51bWJlcihTRUNPTkQpKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVJbkJhY2tncm91bmQgPj0gc2Vjb25kc1RvRXhwaXJlKSBkb0xvZ291dEluQmFja2dyb3VuZCgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgfSwgW2Rpc3BhdGNoLCBpc1Zpc2libGUsIG1hc2ssIHRva2VuXSk7XG5cbiAgICAvKiogSWYgdGhlcmUgaXMgbm8gYWN0aXZlIHNlc3Npb24sIHJlZGlyZWN0IGJhY2sgdG8gTG9naW4uICovXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgbmF2aWdhdGUodXJsSG9tZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXNwYXRjaChGZXRjaGVyU2xpY2VTZXNzaW9uLmNoZWNrU2Vzc2lvblN0YXR1cyhudWxsKSk7XG4gICAgICAgIH1cbiAgICB9LCBbdG9rZW4sIG5hdmlnYXRlLCB1cmxIb21lLCBkaXNwYXRjaF0pO1xuXG4gICAgLyoqIFZlcmlmaWVzIHRoYXQgYSBkZWVwIGxpbmsgZXhpc3RzIGFuZCBhbGxvd3MgbmF2aWdhdGlvbiB0byB0aGUgYXBwcm9wcmlhdGUgcGFnZS4gKi9cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRlZXBMaW5rUGF0aCkgcmV0dXJuO1xuICAgICAgICBuYXZpZ2F0ZShkZWVwTGlua1BhdGgpO1xuICAgICAgICBpZiAoZGVlcExpbmtEYXRhKSB7XG4gICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICBBY3Rpb25TbGljZU1vZG8uc2V0RGVlcExpbmtEYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBkZWVwTGlua0RhdGEucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwgW2RlZXBMaW5rRGF0YSwgZGVlcExpbmtQYXRoLCBkaXNwYXRjaCwgbmF2aWdhdGVdKTtcblxuICAgIC8qKiBNb25pdG9yIHVzZXIgYWN0aXZpdHkgd2hlbiBsb2dnZWQgaW4gKi9cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXRva2VuIHx8IHJlZkFjdGl2aXR5LmN1cnJlbnQpIHJldHVybiBjbGVhbnVwRXZlbnRzV2hlblVubW91bnRpbmc7XG4gICAgICAgIHJlZkFjdGl2aXR5LmN1cnJlbnQgPSB7XG4gICAgICAgICAgICB0aHJvdHRsZTogbnVsbCxcbiAgICAgICAgICAgIHRpbWVyOiBzZWNvbmRzVG9FeHBpcmUsXG4gICAgICAgICAgICBpbnRlcnZhbDogc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVmQWN0aXZpdHkuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIHRpbWVyIHJlYWNoZWQgemVybywgaW52YWxpZGF0ZSBjdXJyZW50IHNlc3Npb24uXG4gICAgICAgICAgICAgICAgaWYgKHJlZkFjdGl2aXR5LmN1cnJlbnQudGltZXIgPCBPTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZG9Mb2dvdXQobWFzaywgdG9rZW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIFN0b3JlLmRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgQWN0aW9uU2xpY2VUb2FzdC5zZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiRVJST1JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7IHV1aWQ6IFwic3BhLnNlc3Npb25FeHBpcmVkLm1lc3NhZ2VcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBQRVJNQU5FTlQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSB1c2VyIGlzIGRvaW5nIHN0dWZmIG9uIHRoZSBpZnJhbWVcbiAgICAgICAgICAgICAgICByZXR1cm5DaGVja0FjdGl2aXR5KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVmQWN0aXZpdHkuY3VycmVudC50aW1lciA8PSBOdW1iZXIodGltZUJlZm9yZVRpbWVvdXROb3RpZmljYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEdyYWNlKHJlZkFjdGl2aXR5LmN1cnJlbnQudGltZXIgLyBOdW1iZXIoU0VDT05EKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlZkFjdGl2aXR5LmN1cnJlbnQudGltZXIgLT0gTnVtYmVyKFNFQ09ORCk7XG4gICAgICAgICAgICB9LCBOdW1iZXIoU0VDT05EKSksXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjbGVhbnVwRXZlbnRzV2hlblVubW91bnRpbmc7XG4gICAgfSwgW1xuICAgICAgICB0b2tlbixcbiAgICAgICAgZGlzcGF0Y2gsXG4gICAgICAgIHRpbWVCZWZvcmVUaW1lb3V0Tm90aWZpY2F0aW9uLFxuICAgICAgICBtYXNrLFxuICAgICAgICByZXR1cm5DaGVja0FjdGl2aXR5LFxuICAgICAgICBzZWNvbmRzVG9FeHBpcmUsXG4gICAgXSk7XG5cbiAgICAvLyBjaGVjayBpZiB1c2VyIGlzIGRvaW5nIHN0dWZmIG91dHNpZGUgaWZyYW1lXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGhhc1RvU2hvd0V4dGVuZFNlc3Npb25Nb2RhbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gW1wibG9hZFwiLCBcIm1vdXNlbW92ZVwiLCBcIm1vdXNlZG93blwiLCBcImNsaWNrXCIsIFwic2Nyb2xsXCIsIFwia2V5cHJlc3NcIl07XG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZUFjdGl2aXR5UmVzZXQpKTtcblxuICAgICAgICByZXR1cm4gKCkgPT5cbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZUFjdGl2aXR5UmVzZXQpKTtcbiAgICB9LCBbaGFuZGxlQWN0aXZpdHlSZXNldCwgaGFzVG9TaG93RXh0ZW5kU2Vzc2lvbk1vZGFsXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8QmFzZU1haW5Db250YWluZXIgaXNIb21lQWN0aXZlPXtpc0hvbWVBY3RpdmV9PlxuICAgICAgICAgICAgPENvbXBvbmVudCBuYW1lPXtuYW1lfSB0YWc9XCJhcnRpY2xlXCIgdHlwZT17dHlwZX0gey4uLnJlc3R9PlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbihTRUNUSU9OX0JBU0VJTlRFUk5BTF9DT05UQUlORVIpfVxuICAgICAgICAgICAgPC9Db21wb25lbnQ+XG4gICAgICAgICAgICA8TW9kYWxcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXttb2RhbEFyaWFEZXNjcmliZWRCeX1cbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXttb2RhbEFyaWFMYWJlbH1cbiAgICAgICAgICAgICAgICBjbG9zZU9uQmdUYXA9e2ZhbHNlfVxuICAgICAgICAgICAgICAgIGhhc0Nsb3NlSWNvbj17ZmFsc2V9XG4gICAgICAgICAgICAgICAgb3Blbj17aGFzVG9TaG93RXh0ZW5kU2Vzc2lvbk1vZGFsfVxuICAgICAgICAgICAgICAgIHRpdGxlPXs8VGV4dCB0YWc9XCJoNFwiPntgJHttb2RhbFRpdGxlfSAke2dyYWNlfWB9PC9UZXh0Pn0+XG4gICAgICAgICAgICAgICAgPE1vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IGlkPXttb2RhbEFyaWFEZXNjcmliZWRCeX0gdXVpZD1cInNwYS5leHRlbmRTZXNzaW9uLnRleHRcIiAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWwuQm9keT5cbiAgICAgICAgICAgICAgICA8TW9kYWwuRm9vdGVyPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17eyB1dWlkOiBcInNwYS5leHRlbmRTZXNzaW9uLmJ1dHRvblwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVFeHRlbmRTZXNzaW9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTW9kYWwuRm9vdGVyPlxuICAgICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgPC9CYXNlTWFpbkNvbnRhaW5lcj5cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlRXh0ZW5kU2Vzc2lvbigpIHtcbiAgICAgICAgaGFuZGxlQWN0aXZpdHlSZXNldCgpO1xuICAgICAgICBkaXNwYXRjaChGZXRjaGVyU2xpY2VTZXNzaW9uLmV4dGVuZFNlc3Npb24obnVsbCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFudXBFdmVudHNXaGVuVW5tb3VudGluZygpIHtcbiAgICAgICAgaWYgKCFyZWZBY3Rpdml0eS5jdXJyZW50KSByZXR1cm47XG4gICAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQub250b3VjaGVuZCA9IG51bGw7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwocmVmQWN0aXZpdHkuY3VycmVudC5pbnRlcnZhbCk7XG4gICAgICAgIHJlZkFjdGl2aXR5LmN1cnJlbnQgPSBudWxsO1xuICAgICAgICBzZXRHcmFjZShudWxsKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBjaGVja1VzZXJBY3Rpdml0eU9uSWZyYW1lKCkge1xuICAgICAgICBsZXQgY2hlY2tBY3Rpdml0eSA9IGZhbHNlO1xuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiU1BBX0lGUkFNRVwiKSkgcmV0dXJuIGNoZWNrQWN0aXZpdHk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuRXZvbHV0aXZlLmNoZWNrVXNlckFjdGl2aXR5KCh1c2VyTWFkZUFueUFjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXNlck1hZGVBbnlBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVXNlciBpcyBkb2luZyBzdHVmZiBpbiB0aGUgaWZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0FjdGl2aXR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoY2hlY2tBY3Rpdml0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJFcnJvclwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IChhd2FpdCByZXNwb25zZSkgPz8gY2hlY2tBY3Rpdml0eTtcbiAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgIH1cbn1cbkJhc2VJbnRlcm5hbENvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSBERUZfQkFTRUlOVEVSTkFMX0NPTlRBSU5FUjtcbiJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceMappingURL=9.4f2e3595.chunk.js.map