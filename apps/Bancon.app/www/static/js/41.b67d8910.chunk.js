(this["webpackJsonp@app/bancon"]=this["webpackJsonp@app/bancon"]||[]).push([[41],{382:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var a=n(2),r=n(16),i=n(11),c=n(39),o=n(6),l=n(8),u=n(137),s=n(152),d=n(187),b=n(33),j=n(38),p=n(82),m=n(100),f=n(616),O=n(50),v=n(490),x=n(488),h=n(515),T=n(500),g=n(676),y=n.n(g),_=n(10);function E(e){var t=e,n=t.renderData,a=t.totalAmount,r=t.handleDelete,i=Object(j.c)().textGet;return Object(_.jsxs)("ul",{className:y.a.orderPaymentDataContainer,children:[Object(_.jsxs)("li",{children:[Object(_.jsx)(j.b,{uuid:"spa.supplier.referencePayment"}),Object(_.jsx)(j.b,{className:y.a.orderDataContent,children:null===n||void 0===n?void 0:n.reference})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)(j.b,{uuid:"spa.supplier"}),Object(_.jsx)(j.b,{className:y.a.orderDataContent,children:null===n||void 0===n?void 0:n.supplierName})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)(j.b,{uuid:"spa.supplier.CBU"}),Object(_.jsx)(j.b,{className:y.a.orderDataContent,children:null===n||void 0===n?void 0:n.supplierCBU})]}),Object(_.jsxs)("li",{children:[Object(_.jsx)(j.b,{uuid:"spa.supplier.paymentOrder.total"}),Object(_.jsx)(T.a,{amount:a})]}),Object(_.jsx)("li",{children:Object(_.jsx)(p.a,{ariaLabel:{uuid:"spa.supplier.discard"},icon:"trash",kind:"icon",label:i({uuid:"spa.supplier.discard"}),type:"button",onClick:r})})]})}var D=n(680);function P(){var e,t=i.b.useState(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],d=i.b.useState([]),b=Object(r.a)(d,2),m=b[0],f=b[1],g=i.b.useState(),P=Object(r.a)(g,2),N=P[0],C=P[1],S=Object(l.b)(),A=Object(j.c)().textGet,M=x.a.useContext().reset,F=Object(l.c)(u.c.deletedTransfers),R=Object(l.c)(u.c.dataGeneratePayment),I=Object(l.c)(u.c.transfer),k=Object(l.c)(u.c.transferTable),B=Boolean(null===k||void 0===k?void 0:k.length),L=m.length>o.Sb,U=Object(l.c)(u.c.supplier),w=Object(l.c)(u.c.getSuppliersAccounts),Y=null===w||void 0===w||null===(e=w.find((function(e){return e.accountNumber===(null===U||void 0===U?void 0:U.supplerAccount)})))||void 0===e?void 0:e.email,G="order-remove-button",V=k&&(k.length>o.fb||k[o.Sb]&&k[o.Sb].transferData.length>o.fb);return i.b.useEffect((function(){F&&k&&m.length>o.Sb&&(f(k),S(u.a.setDeletedTransfers(!1)))}),[S,F,k,m]),Object(_.jsxs)("section",{className:y.a.orderContainer,children:[(null===I||void 0===I?void 0:I.setTransferTable)&&B&&Object(_.jsx)("div",{className:y.a.transferDataOrderContainer,children:Object(_.jsxs)(p.a,{className:y.a.addTransferButton,label:{uuid:"spa.supplier.paymentOrder.title"},type:"button",variant:"solid",onClick:function(){if(!k)return;f(k),function(e){if(I){var t=Object(a.a)(Object(a.a)({},I),{},{setTransferTable:e});S(u.a.transfer(t))}else{var n={setTransferTable:e};S(u.a.transfer(n))}}(!1),S(u.a.setOrder(!0)),M((function(e){return Object(a.a)(Object(a.a)({},e),{},{referencePayment:o.D,amount:o.D,account:e.account,supplier:e.supplier})})),S(u.a.cleanTransferFields(!0))},children:[Object(_.jsx)(O.Icon,{name:"plus",size:"small",stroke:"white"}),Object(_.jsx)(j.b,{tag:"span",uuid:"spa.supplier.paymentOrder.title"})]})}),L&&Object(_.jsxs)(i.b.Fragment,{children:[Object(_.jsx)(j.b,{className:y.a.orderTitle,uuid:"spa.supplier.paymentOrder.add"}),m.map((function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)(E,{handleDelete:function(){return function(e){s(!0),C(e)}(e)},renderData:e,totalAmount:q(e.transferData)}),Object(_.jsx)(D.a,{title:"spa.supplier.detail",children:H(e.transferData,e.supplierName?e.supplierName:o.D)})]},e.key)}))]}),B&&Object(_.jsxs)(i.b.Fragment,{children:[Object(_.jsxs)("div",{className:y.a.transferDataAmount,children:[Object(_.jsx)(j.b,{uuid:"spa.supplier.transfer.total"}),Object(_.jsx)(T.a,{amount:function(){var e=o.Sb;return m.forEach((function(t){t.transferData.forEach((function(t){e+=Number(t.paymentAmount)}))})),e}()})]}),V&&Object(_.jsx)(h.a,{label:A({uuid:"spa.paymentSuppliers.consolidateDebit"}),name:"consolidateDebit"})]}),c&&Object(_.jsxs)(v.a,{closeOnBgTap:!1,hasCloseIcon:!1,initialFocusElementId:G,open:c,title:"spa.supplier.order.modal.title",children:[Object(_.jsx)(v.a.Body,{children:Object(_.jsx)(j.b,{uuid:"spa.supplier.order.modal.body"})}),Object(_.jsx)(v.a.Footer,{children:Object(_.jsxs)("footer",{className:y.a.footer,children:[Object(_.jsx)(p.a,{inline:!0,label:{uuid:"spa.form.cancel"},type:"button",variant:"outlined",onClick:J}),Object(_.jsx)(p.a,{inline:!0,"data-focus-id":G,label:{uuid:"spa.supplier.remove"},type:"button",onClick:function(){if(!k)return;var e=m.filter((function(e){return e.reference!==(null===N||void 0===N?void 0:N.reference)||e.supplierName!==(null===N||void 0===N?void 0:N.supplierName)})),t=k.filter((function(e){return e.reference!==(null===N||void 0===N?void 0:N.reference)||e.supplierName!==(null===N||void 0===N?void 0:N.supplierName)})),n=null===R||void 0===R?void 0:R.filter((function(e){return e.reference!==(null===N||void 0===N?void 0:N.reference)}));f(e),S(u.a.setDeletedOrders(!0)),S(u.a.transferTable(t)),S(u.a.setOrder(t.length!==o.Sb)),S(u.a.generatePaymentPreData({dataGeneratePayment:null!==n&&void 0!==n?n:[]})),J()}})]})})]})]});function H(e,t){return e.map((function(e){return Object(_.jsxs)(O.Table.Row,{children:[Object(_.jsx)(O.Table.Cell,{children:t}),Object(_.jsx)(O.Table.Cell,{children:e.supplierEmail||Y}),Object(_.jsx)(O.Table.Cell,{children:e.paymentDate}),Object(_.jsx)(O.Table.Cell,{children:Object(_.jsx)(T.a,{amount:e.paymentAmount&&parseFloat(e.paymentAmount)})}),Object(_.jsx)(O.Table.Cell,{children:o.D})]},e.key)}))}function q(e){var t=o.Sb;return null===e||void 0===e||e.forEach((function(e){t+=Number(e.paymentAmount)})),t}function J(){s(!1)}}var N=n(850),C=n(801);function S(){return Object(_.jsxs)("section",{children:[Object(_.jsx)(f.a,{rules:!0,title:!0,name:"account"}),Object(_.jsx)(N.a,{title:"spa.suppliers.paymentOrder.title"}),Object(_.jsx)(C.a,{}),Object(_.jsx)(P,{})]})}var A=n(609),M=n(51),F=n(79),R=n(99),I=n(554),k=n(74),B=n(519),L=n(319),U=n(438),w=n.n(U);function Y(){var e=Object(j.c)().textGet,t=Object(M.qb)(),n=Object(R.a)().getValueConfig,f=i.b.useState(!1),x=Object(r.a)(f,2),h=x[0],T=x[1],g=i.b.useState(!0),y=Object(r.a)(g,2),E=y[0],D=y[1],P=Object(l.c)(b.e.token),N=Object(l.c)(u.c.getGeneratePaymentPreData),C=Object(l.c)(s.c.contractId),U=Object(l.c)(u.c.warning),Y=Object(l.c)(u.c.fetching),G=Object(l.c)(u.c.account),V=Object(l.c)(u.c.dataGeneratePayment),H=Object(l.c)(u.c.hasOrders),q=Object(l.c)(u.c.account),J=null===G||void 0===G?void 0:G.accountBalance,z=V&&V.length>o.Sb,Q=Object(l.b)(),X=e({uuid:"spa.generic.field.error.required"}),W=e({uuid:"spa.suppliers.generatePayment.error.account"}),K=e({uuid:"spa.suppliers.generatePayment.error.supplier"}),Z=e({uuid:"spa.suppliers.generatePayment.error.amount"}),$=e({uuid:"spa.suppliers.generatePayment.error.email"}),ee=Object(k.a)(n("core.email.maxLength")),te=Object(k.a)(n("spa.email.validationFormat")),ne=new RegExp(te),ae=e({uuid:"spa.generic.mail.format.invalid"}),re=e({uuid:"spa.email.error.tooBig",replace:"".concat(ee)}),ie=c.e.object({paymentType:c.e.string.equals("manual"),account:Object(c.c)((function(){return ce(!1)||z?c.e.any():Object(d.d)(c.e.string.required(),W)})),supplier:Object(c.c)((function(){return ce(!1)||z?c.e.any():Object(d.d)(c.e.string.required(),K)})),referencePayment:Object(c.c)((function(){return ce(!1)||z?c.e.string():Object(d.d)(c.e.string.required(),X)})),email:c.e.boolean.orUndefined(),emailInput:Object(c.c)((function(e,t){return t.branch[o.Sb].email?Object(I.a)({textErrorRequired:$,textErrorEmail:ae,textErrorMaxLength:re,emailMaxLength:ee,emailValidationRegex:ne}):c.e.any()})),paymentDate:Object(d.d)(c.e.union([c.e.date.orUndefined(),c.e.string()]),X),amount:Object(c.c)((function(e){return ce(!1)||z?c.e.any():String(e)?Object(d.k)(c.e.number(),o.Sb,Z):Object(d.d)(c.e.number(),Z)})),consolidateDebit:c.e.boolean.orUndefined()});return i.b.useEffect((function(){if(N&&J){var e=(null!==N&&void 0!==N?N:[]).reduce((function(e,t){return e+Number(t.amount)}),o.Sb),t=null===N||void 0===N?void 0:N.filter((function(t){return void 0!==t.date&&(n=new Date(Object(m.h)(t.date)),a=new Date,n.getFullYear()===a.getFullYear()&&n.getDate()===a.getDate()&&n.getMonth()===a.getMonth())&&J<Number(e);var n,a}));D((null===t||void 0===t?void 0:t.length)===o.Sb)}}),[J,N]),i.b.useEffect((function(){return function(){Q(u.a.cleanDataGeneratePayment())}}),[Q]),Object(_.jsxs)(A.a,{newTokenCredential:!0,callbackValidate:function(){if(!ce(!1))return Q(F.a.set([{text:{uuid:"spa.suppliers.generatePayment.error.order"},kind:"ERROR",duration:o.w}])),!1;return!0},descriptionSignAndAccept:function(){var t,n=null===V||void 0===V?void 0:V.length,a=null===V||void 0===V?void 0:V.reduce((function(e,t){return e+parseFloat(t.amount?t.amount:"")}),o.Sb),r=null!==(t=null===q||void 0===q?void 0:q.accountCurrency)&&void 0!==t?t:o.g.ARG_ISO,i=o.i[r],c=Object(B.a)(null!==a&&void 0!==a?a:o.Sb,{currencySymbol:i,minimumFractionDigits:o.Jb});return e({uuid:"spa.suppliers.generatePayment.signAndAccept.manual.text",replace:[String(n),"<b>".concat(c,"</b>")]})}(),idActivityToRead:"paymentsSuppliers.generate.send",isLoading:Y,schema:ie,warnings:U,onCredentialCancel:function(){h&&T(!1);Q(u.a.cleanWarnings())},onSubmit:function(e){if(!ce(!0))return;var t=e.account,n=e.email,a=e.paymentDate,r=e.paymentType,i=e.referencePayment,c=e.emailInput,l=e.consolidateDebit,s=e.otp,d=function(){var e=(null!==N&&void 0!==N?N:[]).reduce((function(e,t){return e+Number(t.amount)}),o.Sb);return String(e)}(),b=a||(p=new Date,Object(m.c)(p,{format:m.a.SHORT}).split("/").reverse().join("-")),j={token:P,field_debitAccountSelect:String(t),field_date:b,field_total_amount:d,consolidateDebitFile:!1,consolidateDebit:Boolean(l),contractId:C,dinamicDataTable:(null!==N&&void 0!==N?N:[]).map((function(e,t){var n=e.account,a=e.name,r=e.cbu,i=e.reference,c=e.date,o=e.email,l=e.amount;return{account:n,name:a,cbu:r,reference:i,email:o,amount:l,date:c,id:String(t)}})),action:r,creditAccountSelect:"",reference:String(i),email:n?c:o.D,otp:s};var p;Q(u.b.generatePaymentPre(j))},children:[Object(_.jsxs)(O.Card,{children:[Object(_.jsx)(L.default,{}),Object(_.jsx)(S,{}),Object(_.jsxs)("footer",{children:[Object(_.jsx)(p.a,{label:{uuid:"spa.form.cancel"},type:"button",variant:"outlined",onClick:function(){t(M.a)}}),Object(_.jsx)(p.a,Object(a.a)({label:{uuid:"spa.form.accept"},type:"submit"},!E&&{onClick:function(){ce(!0)&&T(!0)},type:"button"}))]})]}),h&&Object(_.jsxs)(v.a,{closeOnBgTap:!1,hasCloseIcon:!1,open:h,children:[Object(_.jsx)(v.a.Body,{className:w.a.validateModalBody,children:Object(_.jsx)(j.b,{uuid:"spa.paymentSuppliers.validationModal.text"})}),Object(_.jsxs)(v.a.Footer,{className:w.a.validateModalFooter,children:[Object(_.jsx)(p.a,{label:{uuid:"spa.form.cancel"},type:"button",variant:"outlined",onClick:function(){T(!1),t(M.a)}}),Object(_.jsx)(p.a,{label:{uuid:"spa.global.accept"},type:"submit"})]})]})]});function ce(e){return!!H||(e&&Q(F.a.set([{text:{uuid:"spa.suppliers.generatePayment.error.order"},kind:"ERROR",duration:o.w}])),!1)}}},566:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),r=n(19),i=n(11),c=n(50),o=n(41),l=n(488),u=n(567),s=n.n(u),d=n(10),b=["id","name","methods","onChange","defaultValue"],j=s.a.NAME_INPUT_DATE_FIELD,p=s.a.TYPE_INPUT_DATE_FIELD,m=i.b.memo((function(e){var t=e.id,n=e.name,l=e.methods,u=e.onChange,s=e.defaultValue,m=Object(r.a)(e,b),f=l.register,O=l.formState,v=l.setValue,x=l.clearErrors,h=O.errors,T="".concat(n),g=h[n];return i.b.useEffect((function(){v(T,s||void 0)}),[s,T,v]),Object(d.jsx)(o.a,{name:j,type:p,children:Object(d.jsx)(c.DateField,Object(a.a)(Object(a.a)(Object(a.a)({id:t||n},g&&{error:String(g.message)}),f(T)),{},{onChange:function(e){v(T,e),x([T]),u&&u(e)}},m))})}),(function(e,t){return e.methods.formState.errors===t.methods.formState.errors&&e.methods.formState.dirtyFields[e.name]!==t.methods.formState.dirtyFields[t.name]}));function f(e){var t=l.a.useContext();return Object(d.jsx)(m,Object(a.a)({methods:t},e))}f.displayName=j},567:function(e,t,n){e.exports={NAME_INPUT_DATE_FIELD:"InputDateField",TYPE_INPUT_DATE_FIELD:"Element"}},676:function(e,t,n){e.exports={NAME_THEMEPLATFORM:"ThemePlatform",TYPE_THEMEPLATFORM:"Bundle",NAME_CONSUMER_THEMEPLATFORM:"ThemePlatformConsumer",TYPE_CONSUMER_THEMEPLATFORM:"Element",NAME_PROVIDER_THEMEPLATFORM:"ThemePlatformProvider",TYPE_PROVIDER_THEMEPLATFORM:"Provider",NAME_TEXT:"Text",TYPE_TEXT:"Element",NAME_BUTTON:"Button",TYPE_BUTTON:"Element",NAME_AMOUNT_FORMATTER:"AmountFormatter",TYPE_AMOUNT_FORMATTER:"Element",transferDataOrderContainer:"_rules_transferDataOrderContainer__AjztH",addTransferButton:"_rules_addTransferButton__eQnPp",orderPaymentDataContainer:"_rules_orderPaymentDataContainer__J65yR",orderDataContent:"_rules_orderDataContent__3Ye01",orderContainer:"_rules_orderContainer__-hIAs",orderTitle:"_rules_orderTitle__1NVhR",footer:"_rules_footer__1enQN",transferDataAmount:"_rules_transferDataAmount__1lC5P"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VjdGlvbnMvU3VwcGxpZXJzL0dlbmVyYXRlUGF5bWVudC9PcmRlci9PcmRlclBheW1lbnREYXRhLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvc2VjdGlvbnMvU3VwcGxpZXJzL0dlbmVyYXRlUGF5bWVudC9PcmRlci9PcmRlci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlY3Rpb25zL1N1cHBsaWVycy9HZW5lcmF0ZVBheW1lbnQvTWFudWFsUGF5bWVudC9NYW51YWxQYXltZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvU3VwcGxpZXJzL0dlbmVyYXRlUGF5bWVudC9Gb3JtTWFudWFsLnRzeCIsIndlYnBhY2s6Ly8vLi4vYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9Gb3JtL0lucHV0RGF0ZUZpZWxkL2luZGV4LnRzeCIsIndlYnBhY2s6Ly8vLi4vYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9Gb3JtL0lucHV0RGF0ZUZpZWxkL19pbmRleC5zY3NzIiwid2VicGFjazovLy8uL3NyYy9zZWN0aW9ucy9TdXBwbGllcnMvR2VuZXJhdGVQYXltZW50L09yZGVyL19ydWxlcy5tb2R1bGUuc2NzcyJdLCJuYW1lcyI6WyJPcmRlclBheW1lbnREYXRhIiwicHJvcHMiLCJfcmVmIiwicmVuZGVyRGF0YSIsInRvdGFsQW1vdW50IiwiaGFuZGxlRGVsZXRlIiwidGV4dEdldCIsInVzZVRleHQiLCJfanN4cyIsImNsYXNzTmFtZSIsIlJ1bGVzIiwib3JkZXJQYXltZW50RGF0YUNvbnRhaW5lciIsImNoaWxkcmVuIiwiX2pzeCIsIlRleHQiLCJ1dWlkIiwib3JkZXJEYXRhQ29udGVudCIsInJlZmVyZW5jZSIsInN1cHBsaWVyTmFtZSIsInN1cHBsaWVyQ0JVIiwiQW1vdW50Rm9ybWF0dGVyIiwiYW1vdW50IiwiQnV0dG9uIiwiYXJpYUxhYmVsIiwiaWNvbiIsImtpbmQiLCJsYWJlbCIsInR5cGUiLCJvbkNsaWNrIiwiT3JkZXJQYXltZW50IiwiX3RyYW5zZmVyQWNjb3VudHMkZmluIiwiX1JlYWN0JHVzZVN0YXRlIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJfc2xpY2VkVG9BcnJheSIsInNob3dEZWxldGVNb2RhbCIsInNldFNob3dEZWxldGVNb2RhbCIsIl9SZWFjdCR1c2VTdGF0ZTMiLCJfUmVhY3QkdXNlU3RhdGU0IiwibG9jYWxPcmRlclRhYmxlIiwic2V0TG9jYWxPcmRlclRhYmxlIiwiX1JlYWN0JHVzZVN0YXRlNSIsIl9SZWFjdCR1c2VTdGF0ZTYiLCJzZWxlY3RlZE9yZGVyIiwic2V0U2VsZWN0ZWRPcmRlciIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJyZXNldCIsIkZvcm0iLCJ1c2VDb250ZXh0IiwiZGVsZXRlZFRyYW5zZmVycyIsInVzZVNlbGVjdG9yIiwiU2VsZWN0b3JTbGljZUdlbmVyYXRlUGF5bWVudCIsImRhdGFHZW5lcmF0ZVBheW1lbnQiLCJ0cmFuc2ZlclN0YXRlIiwidHJhbnNmZXIiLCJ0cmFuc2ZlclRhYmxlRGF0YSIsInRyYW5zZmVyVGFibGUiLCJzaG93VGFibGUiLCJCb29sZWFuIiwibGVuZ3RoIiwic2hvd09yZGVyVGFibGUiLCJaRVJPIiwic3VwcGxpZXJEYXRhIiwic3VwcGxpZXIiLCJ0cmFuc2ZlckFjY291bnRzIiwiZ2V0U3VwcGxpZXJzQWNjb3VudHMiLCJzdXBwbGllck1haWwiLCJmaW5kIiwiYWNjb3VudCIsImFjY291bnROdW1iZXIiLCJzdXBwbGVyQWNjb3VudCIsImVtYWlsIiwicmVtb3ZlQnV0dG9uSWQiLCJtb3JlVGhhbk9uZVRyYW5zZmVyIiwiT05FIiwidHJhbnNmZXJEYXRhIiwidXNlRWZmZWN0IiwiQWN0aW9uU2xpY2VHZW5lcmF0ZVBheW1lbnQiLCJzZXREZWxldGVkVHJhbnNmZXJzIiwib3JkZXJDb250YWluZXIiLCJzZXRUcmFuc2ZlclRhYmxlIiwidHJhbnNmZXJEYXRhT3JkZXJDb250YWluZXIiLCJhZGRUcmFuc2ZlckJ1dHRvbiIsInZhcmlhbnQiLCJ2YWx1ZSIsIl9vYmplY3RTcHJlYWQiLCJzZXRUcmFuc2ZlclRhYmxlU3RhdGUiLCJzZXRPcmRlciIsImZvcm1WYWx1ZXMiLCJyZWZlcmVuY2VQYXltZW50IiwiRU1QVFlfU1RSSU5HIiwiY2xlYW5UcmFuc2ZlckZpZWxkcyIsIkljb24iLCJuYW1lIiwic2l6ZSIsInN0cm9rZSIsInRhZyIsIkZyYWdtZW50Iiwib3JkZXJUaXRsZSIsIm1hcCIsImVsZW1lbnQiLCJnZXRUb3RhbE9yZGVyQW1vdW50IiwiVHJhbnNmZXJUYWJsZSIsInRpdGxlIiwiZ2V0VGFibGVCb2R5Iiwia2V5IiwidHJhbnNmZXJEYXRhQW1vdW50IiwiZm9yRWFjaCIsImRhdGEiLCJlbCIsIk51bWJlciIsInBheW1lbnRBbW91bnQiLCJnZXRUb3RhbFRyYW5zZmVyQW1vdW50IiwiSW5wdXRDaGVja2JveCIsIk1vZGFsIiwiY2xvc2VPbkJnVGFwIiwiaGFzQ2xvc2VJY29uIiwiaW5pdGlhbEZvY3VzRWxlbWVudElkIiwib3BlbiIsIkJvZHkiLCJGb290ZXIiLCJmb290ZXIiLCJpbmxpbmUiLCJoYW5kbGVIaWRlTW9kYWwiLCJ1cGRhdGVkTG9jYWxPcmRlclRhYmxlIiwiZmlsdGVyIiwib3JkZXIiLCJ1cGRhdGVkVGFibGVEYXRhIiwidXBkYXRlZERhdGFHZW5lcmF0ZVBheW1lbnQiLCJzZXREZWxldGVkT3JkZXJzIiwiZ2VuZXJhdGVQYXltZW50UHJlRGF0YSIsInJvdyIsIlRhYmxlIiwiUm93IiwiQ2VsbCIsInN1cHBsaWVyRW1haWwiLCJwYXltZW50RGF0ZSIsInBhcnNlRmxvYXQiLCJNYW51YWxQYXltZW50IiwiRW1pc3Npb25BY2NvdW50RGF0YSIsInJ1bGVzIiwiU3VwcGxpZXIiLCJUcmFuc2ZlckRhdGEiLCJGb3JtTWFudWFsIiwibmF2aWdhdGUiLCJ1c2VOYXZpZ2F0ZSIsImdldFZhbHVlQ29uZmlnIiwidXNlUGVyc2lzdG9yIiwic2hvd01vZGFsU3RhdGUiLCJzZXRTaG93TW9kYWxTdGF0ZSIsImlzU3VibWl0QnV0dG9uIiwic2V0SXNTdWJtaXRCdXR0b24iLCJ0b2tlbiIsIlNlbGVjdG9yU2xpY2VTZXNzaW9uIiwidHJhbnNmZXJzIiwiZ2V0R2VuZXJhdGVQYXltZW50UHJlRGF0YSIsImNvbnRyYWN0SWQiLCJTZWxlY3RvclNsaWNlQ29uc3VsdFBheW1lbnRzIiwid2FybmluZyIsImZldGNoaW5nIiwic2VsZWN0ZWRBY2NvdW50IiwiaGFzT3JkZXJzIiwicGF5bWVudEFjY291bnQiLCJhY2NvdW50VG90YWxBbW91bnQiLCJhY2NvdW50QmFsYW5jZSIsImhhc1RyYW5zZmVycyIsInRleHRFcnJvclJlcXVpcmVkIiwiYWNjb3VudEVycm9yUmVxdWlyZWQiLCJzdXBwbGllckVycm9yUmVxdWlyZWQiLCJhbW91bnRFcnJvclJlcXVpcmVkIiwiZW1haWxFcnJvclJlcXVpcmVkIiwiZW1haWxNYXhMZW5ndGgiLCJwYXJzZUNvbmZpZyIsImVtYWlsVmFsaWRhdGlvblN0cmluZyIsImVtYWlsVmFsaWRhdGlvblJlZ2V4IiwiUmVnRXhwIiwidGV4dEVycm9yRW1haWwiLCJ0ZXh0RXJyb3JNYXhMZW5ndGgiLCJyZXBsYWNlIiwiY29uY2F0Iiwic2NoZW1hIiwiVHlwZSIsIm9iamVjdCIsInBheW1lbnRUeXBlIiwic3RyaW5nIiwiZXF1YWxzIiwiRHluYW1pYyIsImNoZWNrT3JkZXJzIiwiYW55IiwiQ3VzdG9tRXJyb3IiLCJyZXF1aXJlZCIsImJvb2xlYW4iLCJvclVuZGVmaW5lZCIsImVtYWlsSW5wdXQiLCJicmFuY2giLCJnZXRFbWFpbFZhbGlkYXRvciIsInVuaW9uIiwiZGF0ZSIsIlN0cmluZyIsIkdyZWF0ZXJUaGFuIiwibnVtYmVyIiwiY29uc29saWRhdGVEZWJpdCIsInJlZHVjZSIsInRvdGFsIiwicmVzIiwidHJhbnNmIiwidW5kZWZpbmVkIiwiZDEiLCJEYXRlIiwicmV2ZXJzZURheUFuZE1vbnRoIiwiZDIiLCJnZXRGdWxsWWVhciIsImdldERhdGUiLCJnZXRNb250aCIsImNsZWFuRGF0YUdlbmVyYXRlUGF5bWVudCIsIkZvcm1DcmVkZW50aWFsIiwibmV3VG9rZW5DcmVkZW50aWFsIiwiY2FsbGJhY2tWYWxpZGF0ZSIsIkFjdGlvblNsaWNlVG9hc3QiLCJzZXQiLCJ0ZXh0IiwiZHVyYXRpb24iLCJEVVJBVElPTl9NIiwiZGVzY3JpcHRpb25TaWduQW5kQWNjZXB0IiwiX3BheW1lbnRBY2NvdW50JGFjY291IiwidG90YWxUcmFuc2ZlcnMiLCJ0cmFucyIsImFjY291bnRDdXJyZW5jeSIsIkNVUlJFTkNZIiwiQVJHX0lTTyIsImN1cnJlbmN5IiwiQ1VSUkVOQ1lfTUFQIiwiZm9ybWF0dGVkVG90YWxBbW91bnQiLCJmb3JtYXRBbW91bnQiLCJjdXJyZW5jeVN5bWJvbCIsIm1pbmltdW1GcmFjdGlvbkRpZ2l0cyIsIlRXTyIsImdldFNpZ25BbmRBY2NlcHREZXNjcmlwdGlvblRleHQiLCJpZEFjdGl2aXR5VG9SZWFkIiwiaXNMb2FkaW5nIiwid2FybmluZ3MiLCJvbkNyZWRlbnRpYWxDYW5jZWwiLCJjbGVhbldhcm5pbmdzIiwib25TdWJtaXQiLCJvdHAiLCJnZXRUb3RhbEFtb3VudCIsImZvcm1hdHRlZERhdGUiLCJkYXRlRm9ybWF0dGVyIiwiZm9ybWF0IiwiRGF0ZUZvcm1hdHMiLCJTSE9SVCIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJib2R5IiwiZmllbGRfZGViaXRBY2NvdW50U2VsZWN0IiwiZmllbGRfZGF0ZSIsImZpZWxkX3RvdGFsX2Ftb3VudCIsImNvbnNvbGlkYXRlRGViaXRGaWxlIiwiZGluYW1pY0RhdGFUYWJsZSIsIl9yZWYyIiwiaW5kZXgiLCJjYnUiLCJpZCIsImFjdGlvbiIsImNyZWRpdEFjY291bnRTZWxlY3QiLCJGZXRjaGVyU2xpY2VHZW5lcmF0ZVBheW1lbnQiLCJnZW5lcmF0ZVBheW1lbnRQcmUiLCJDYXJkIiwiUmFkaW9Hcm91cCIsIkJBQ0tfUk9VVEVSIiwidmFsaWRhdGVNb2RhbEJvZHkiLCJ2YWxpZGF0ZU1vZGFsRm9vdGVyIiwiZnJvbVN1Ym1pdCIsIk5BTUVfSU5QVVRfREFURV9GSUVMRCIsIk5hbWVzcGFjZSIsIlRZUEVfSU5QVVRfREFURV9GSUVMRCIsIklucHV0RGF0ZUZpZWxkTWVtb2l6ZWQiLCJtZW1vIiwibWV0aG9kcyIsIm9uQ2hhbmdlIiwiZGVmYXVsdFZhbHVlIiwicmVzdCIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsIl9leGNsdWRlZCIsInJlZ2lzdGVyIiwiZm9ybVN0YXRlIiwic2V0VmFsdWUiLCJjbGVhckVycm9ycyIsImVycm9ycyIsInJlZ2lzdGVyTmFtZSIsImlucHV0RXJyb3IiLCJDb21wb25lbnQiLCJEYXRlRmllbGQiLCJlcnJvciIsIm1lc3NhZ2UiLCJwcmV2UHJvcHMiLCJuZXh0UHJvcHMiLCJkaXJ0eUZpZWxkcyIsIklucHV0RGF0ZUZpZWxkIiwiZGlzcGxheU5hbWUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOFZBbUJPLFNBQVNBLEVBQWlCQyxHQUM3QixJQUFBQyxFQUFrREQsRUFBMUNFLEVBQVVELEVBQVZDLFdBQVlDLEVBQVdGLEVBQVhFLFlBQWFDLEVBQVlILEVBQVpHLGFBRXpCQyxFQUFZQyxjQUFaRCxRQUVSLE9BQ0lFLGVBQUEsTUFBSUMsVUFBV0MsSUFBTUMsMEJBQTBCQyxTQUFBLENBQzNDSixlQUFBLE1BQUFJLFNBQUEsQ0FDSUMsY0FBQ0MsSUFBSSxDQUFDQyxLQUFLLGtDQUNYRixjQUFDQyxJQUFJLENBQUNMLFVBQVdDLElBQU1NLGlCQUFpQkosU0FBWSxPQUFWVCxRQUFVLElBQVZBLE9BQVUsRUFBVkEsRUFBWWMsZUFFMURULGVBQUEsTUFBQUksU0FBQSxDQUNJQyxjQUFDQyxJQUFJLENBQUNDLEtBQUssaUJBQ1hGLGNBQUNDLElBQUksQ0FBQ0wsVUFBV0MsSUFBTU0saUJBQWlCSixTQUFZLE9BQVZULFFBQVUsSUFBVkEsT0FBVSxFQUFWQSxFQUFZZSxrQkFFMURWLGVBQUEsTUFBQUksU0FBQSxDQUNJQyxjQUFDQyxJQUFJLENBQUNDLEtBQUsscUJBQ1hGLGNBQUNDLElBQUksQ0FBQ0wsVUFB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LFlBQWMsU0FBUyxZQUFjLFVBQVUsc0JBQXdCLGtCQUFrQixzQkFBd0IsVUFBVSwyQkFBNkIsMkNBQTJDLGtCQUFvQixrQ0FBa0MsMEJBQTRCLDBDQUEwQyxpQkFBbUIsaUNBQWlDLGVBQWlCLCtCQUErQixXQUFhLDJCQUEyQixPQUFTLHVCQUF1QixtQkFBcUIsbUMiLCJmaWxlIjoic3RhdGljL2pzLzQxLmI2N2Q4OTEwLmNodW5rLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJAcGtnL3JlYWN0XCI7XG5pbXBvcnQgdHlwZSB7IFByb3BFbGVtZW50LCBQcm9wRGVmYXVsdHMsIFByb3BUeXBlcyB9IGZyb20gXCJAcGtnL3JlYWN0LXN0b3J5Ym9vay9Db21wb25lbnRcIjtcbmltcG9ydCB0eXBlIHsgTlNTbGljZUdlbmVyYXRlUGF5bWVudCB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9zdXBwbGllcnMvZ2VuZXJhdGVQYXltZW50L19uYW1lc3BhY2VcIjtcblxuaW1wb3J0IHsgVGV4dCwgdXNlVGV4dCB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvVGV4dFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9CdXR0b25cIjtcbmltcG9ydCB7IEFtb3VudEZvcm1hdHRlciB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvQW1vdW50Rm9ybWF0dGVyXCI7XG5pbXBvcnQgUnVsZXMgZnJvbSBcIi4vX3J1bGVzLm1vZHVsZS5zY3NzXCI7XG5cbmV4cG9ydCB0eXBlIFByb3BPcmRlclBheW1lbnREYXRhID0gUHJvcEVsZW1lbnQgJiB7XG4gICAgcmVuZGVyRGF0YTogTlNTbGljZUdlbmVyYXRlUGF5bWVudC5UYWJsZURhdGEgfCB1bmRlZmluZWQ7XG4gICAgdG90YWxBbW91bnQ6IG51bWJlcjtcbiAgICBoYW5kbGVEZWxldGU6ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgREVGX1BST1BTOiBQcm9wRGVmYXVsdHM8UHJvcE9yZGVyUGF5bWVudERhdGE+ID0ge307XG5cbmV4cG9ydCB0eXBlIFByb3BUeXBlc09yZGVyUGF5bWVudERhdGEgPSBQcm9wVHlwZXM8UHJvcE9yZGVyUGF5bWVudERhdGEsIHR5cGVvZiBERUZfUFJPUFM+O1xuXG5leHBvcnQgZnVuY3Rpb24gT3JkZXJQYXltZW50RGF0YShwcm9wczogUHJvcE9yZGVyUGF5bWVudERhdGEpIHtcbiAgICBjb25zdCB7IHJlbmRlckRhdGEsIHRvdGFsQW1vdW50LCBoYW5kbGVEZWxldGUgfSA9IHByb3BzIGFzIFByb3BUeXBlc09yZGVyUGF5bWVudERhdGE7XG5cbiAgICBjb25zdCB7IHRleHRHZXQgfSA9IHVzZVRleHQoKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDx1bCBjbGFzc05hbWU9e1J1bGVzLm9yZGVyUGF5bWVudERhdGFDb250YWluZXJ9PlxuICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgIDxUZXh0IHV1aWQ9XCJzcGEuc3VwcGxpZXIucmVmZXJlbmNlUGF5bWVudFwiIC8+XG4gICAgICAgICAgICAgICAgPFRleHQgY2xhc3NOYW1lPXtSdWxlcy5vcmRlckRhdGFDb250ZW50fT57cmVuZGVyRGF0YT8ucmVmZXJlbmNlfTwvVGV4dD5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPFRleHQgdXVpZD1cInNwYS5zdXBwbGllclwiIC8+XG4gICAgICAgICAgICAgICAgPFRleHQgY2xhc3NOYW1lPXtSdWxlcy5vcmRlckRhdGFDb250ZW50fT57cmVuZGVyRGF0YT8uc3VwcGxpZXJOYW1lfTwvVGV4dD5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPFRleHQgdXVpZD1cInNwYS5zdXBwbGllci5DQlVcIiAvPlxuICAgICAgICAgICAgICAgIDxUZXh0IGNsYXNzTmFtZT17UnVsZXMub3JkZXJEYXRhQ29udGVudH0+e3JlbmRlckRhdGE/LnN1cHBsaWVyQ0JVfTwvVGV4dD5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPFRleHQgdXVpZD1cInNwYS5zdXBwbGllci5wYXltZW50T3JkZXIudG90YWxcIiAvPlxuICAgICAgICAgICAgICAgIDxBbW91bnRGb3JtYXR0ZXIgYW1vdW50PXt0b3RhbEFtb3VudH0gLz5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBhcmlhTGFiZWw9e3sgdXVpZDogXCJzcGEuc3VwcGxpZXIuZGlzY2FyZFwiIH19XG4gICAgICAgICAgICAgICAgICAgIGljb249XCJ0cmFzaFwiXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ9XCJpY29uXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3RleHRHZXQoeyB1dWlkOiBcInNwYS5zdXBwbGllci5kaXNjYXJkXCIgfSl9XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEZWxldGV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwiQHBrZy9yZWFjdFwiO1xuXG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YVwiO1xuaW1wb3J0IHtcbiAgICBBY3Rpb25TbGljZUdlbmVyYXRlUGF5bWVudCxcbiAgICBTZWxlY3RvclNsaWNlR2VuZXJhdGVQYXltZW50LFxufSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9zbGljZXMvc3VwcGxpZXJzL2dlbmVyYXRlUGF5bWVudFwiO1xuaW1wb3J0IHsgRU1QVFlfU1RSSU5HLCBPTkUsIFpFUk8gfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9jb25zdGFudHNcIjtcbmltcG9ydCB0eXBlIHsgTlNTbGljZUdlbmVyYXRlUGF5bWVudCB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9zdXBwbGllcnMvZ2VuZXJhdGVQYXltZW50L19uYW1lc3BhY2VcIjtcblxuaW1wb3J0IHsgSWNvbiwgVGFibGUgfSBmcm9tIFwiQGFwcC9iYW5jb24tdWlcIjtcbmltcG9ydCB7IE1vZGFsIH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9Nb2RhbFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9CdXR0b25cIjtcbmltcG9ydCB7IEZvcm0gfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0Zvcm1cIjtcbmltcG9ydCB7IFRleHQsIHVzZVRleHQgfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L1RleHRcIjtcbmltcG9ydCB7IElucHV0Q2hlY2tib3ggfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0Zvcm0vSW5wdXRDaGVja2JveFwiO1xuaW1wb3J0IHsgQW1vdW50Rm9ybWF0dGVyIH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9BbW91bnRGb3JtYXR0ZXJcIjtcblxuaW1wb3J0IHsgT3JkZXJQYXltZW50RGF0YSB9IGZyb20gXCIuL09yZGVyUGF5bWVudERhdGFcIjtcbmltcG9ydCB7IFRyYW5zZmVyVGFibGUgfSBmcm9tIFwiLi4vVHJhbnNmZXIvVHJhbnNmZXJUYWJsZVwiO1xuXG5pbXBvcnQgUnVsZXMgZnJvbSBcIi4vX3J1bGVzLm1vZHVsZS5zY3NzXCI7XG5cbnR5cGUgVGFibGVEYXRhID0gTlNTbGljZUdlbmVyYXRlUGF5bWVudC5UYWJsZURhdGE7XG5cbmV4cG9ydCBmdW5jdGlvbiBPcmRlclBheW1lbnQoKSB7XG4gICAgY29uc3QgW3Nob3dEZWxldGVNb2RhbCwgc2V0U2hvd0RlbGV0ZU1vZGFsXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbG9jYWxPcmRlclRhYmxlLCBzZXRMb2NhbE9yZGVyVGFibGVdID0gUmVhY3QudXNlU3RhdGU8VGFibGVEYXRhW10+KFtdKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRPcmRlciwgc2V0U2VsZWN0ZWRPcmRlcl0gPSBSZWFjdC51c2VTdGF0ZTxUYWJsZURhdGE+KCk7XG5cbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgY29uc3QgeyB0ZXh0R2V0IH0gPSB1c2VUZXh0KCk7XG4gICAgY29uc3QgeyByZXNldCB9ID0gRm9ybS51c2VDb250ZXh0KCk7XG5cbiAgICBjb25zdCBkZWxldGVkVHJhbnNmZXJzID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZUdlbmVyYXRlUGF5bWVudC5kZWxldGVkVHJhbnNmZXJzKTtcbiAgICBjb25zdCBkYXRhR2VuZXJhdGVQYXltZW50ID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZUdlbmVyYXRlUGF5bWVudC5kYXRhR2VuZXJhdGVQYXltZW50KTtcbiAgICBjb25zdCB0cmFuc2ZlclN0YXRlID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZUdlbmVyYXRlUGF5bWVudC50cmFuc2Zlcik7XG4gICAgY29uc3QgdHJhbnNmZXJUYWJsZURhdGEgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlR2VuZXJhdGVQYXltZW50LnRyYW5zZmVyVGFibGUpO1xuICAgIGNvbnN0IHNob3dUYWJsZSA9IEJvb2xlYW4odHJhbnNmZXJUYWJsZURhdGE/Lmxlbmd0aCk7XG4gICAgY29uc3Qgc2hvd09yZGVyVGFibGUgPSBsb2NhbE9yZGVyVGFibGUubGVuZ3RoID4gWkVSTztcbiAgICBjb25zdCBzdXBwbGllckRhdGEgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlR2VuZXJhdGVQYXltZW50LnN1cHBsaWVyKTtcbiAgICBjb25zdCB0cmFuc2ZlckFjY291bnRzID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZUdlbmVyYXRlUGF5bWVudC5nZXRTdXBwbGllcnNBY2NvdW50cyk7XG4gICAgY29uc3Qgc3VwcGxpZXJNYWlsID0gdHJhbnNmZXJBY2NvdW50cz8uZmluZChcbiAgICAgICAgKGFjY291bnQpID0+IGFjY291bnQuYWNjb3VudE51bWJlciA9PT0gc3VwcGxpZXJEYXRhPy5zdXBwbGVyQWNjb3VudCxcbiAgICApPy5lbWFpbDtcbiAgICBjb25zdCByZW1vdmVCdXR0b25JZCA9IFwib3JkZXItcmVtb3ZlLWJ1dHRvblwiO1xuICAgIGNvbnN0IG1vcmVUaGFuT25lVHJhbnNmZXIgPVxuICAgICAgICB0cmFuc2ZlclRhYmxlRGF0YSAmJlxuICAgICAgICAodHJhbnNmZXJUYWJsZURhdGEubGVuZ3RoID4gT05FIHx8XG4gICAgICAgICAgICAodHJhbnNmZXJUYWJsZURhdGFbWkVST10gJiYgdHJhbnNmZXJUYWJsZURhdGFbWkVST10udHJhbnNmZXJEYXRhLmxlbmd0aCA+IE9ORSkpO1xuXG4gICAgLyoqXG4gICAgICogSWYgd2UgZGVsZXRlZCB0cmFuc2ZlcnMgdXBkYXRlIHRoZSBvcmRlcnNcbiAgICAgKi9cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGVsZXRlZFRyYW5zZmVycyAmJiB0cmFuc2ZlclRhYmxlRGF0YSAmJiBsb2NhbE9yZGVyVGFibGUubGVuZ3RoID4gWkVSTykge1xuICAgICAgICAgICAgc2V0TG9jYWxPcmRlclRhYmxlKHRyYW5zZmVyVGFibGVEYXRhKTtcbiAgICAgICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlR2VuZXJhdGVQYXltZW50LnNldERlbGV0ZWRUcmFuc2ZlcnMoZmFsc2UpKTtcbiAgICAgICAgfVxuICAgIH0sIFtkaXNwYXRjaCwgZGVsZXRlZFRyYW5zZmVycywgdHJhbnNmZXJUYWJsZURhdGEsIGxvY2FsT3JkZXJUYWJsZV0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPHNlY3Rpb24gY2xhc3NOYW1lPXtSdWxlcy5vcmRlckNvbnRhaW5lcn0+XG4gICAgICAgICAgICB7dHJhbnNmZXJTdGF0ZT8uc2V0VHJhbnNmZXJUYWJsZSAmJiBzaG93VGFibGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtSdWxlcy50cmFuc2ZlckRhdGFPcmRlckNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17UnVsZXMuYWRkVHJhbnNmZXJCdXR0b259XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17eyB1dWlkOiBcInNwYS5zdXBwbGllci5wYXltZW50T3JkZXIudGl0bGVcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic29saWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17YWRkUGF5bWVudE9yZGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIG5hbWU9XCJwbHVzXCIgc2l6ZT1cInNtYWxsXCIgc3Ryb2tlPVwid2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdGFnPVwic3BhblwiIHV1aWQ9XCJzcGEuc3VwcGxpZXIucGF5bWVudE9yZGVyLnRpdGxlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge3Nob3dPcmRlclRhYmxlICYmIChcbiAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0IGNsYXNzTmFtZT17UnVsZXMub3JkZXJUaXRsZX0gdXVpZD1cInNwYS5zdXBwbGllci5wYXltZW50T3JkZXIuYWRkXCIgLz5cbiAgICAgICAgICAgICAgICAgICAge2xvY2FsT3JkZXJUYWJsZS5tYXAoKGVsZW1lbnQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtlbGVtZW50LmtleX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPE9yZGVyUGF5bWVudERhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGVsZXRlPXsoKSA9PiBoYW5kbGVEZWxldGUoZWxlbWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckRhdGE9e2VsZW1lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQW1vdW50PXtnZXRUb3RhbE9yZGVyQW1vdW50KGVsZW1lbnQudHJhbnNmZXJEYXRhKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUcmFuc2ZlclRhYmxlIHRpdGxlPVwic3BhLnN1cHBsaWVyLmRldGFpbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0VGFibGVCb2R5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC50cmFuc2ZlckRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN1cHBsaWVyTmFtZSA/IGVsZW1lbnQuc3VwcGxpZXJOYW1lIDogRU1QVFlfU1RSSU5HLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHJhbnNmZXJUYWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzaG93VGFibGUgJiYgKFxuICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1J1bGVzLnRyYW5zZmVyRGF0YUFtb3VudH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB1dWlkPVwic3BhLnN1cHBsaWVyLnRyYW5zZmVyLnRvdGFsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBbW91bnRGb3JtYXR0ZXIgYW1vdW50PXtnZXRUb3RhbFRyYW5zZmVyQW1vdW50KCl9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7bW9yZVRoYW5PbmVUcmFuc2ZlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt0ZXh0R2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogXCJzcGEucGF5bWVudFN1cHBsaWVycy5jb25zb2xpZGF0ZURlYml0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImNvbnNvbGlkYXRlRGViaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzaG93RGVsZXRlTW9kYWwgJiYgKFxuICAgICAgICAgICAgICAgIDxNb2RhbFxuICAgICAgICAgICAgICAgICAgICBjbG9zZU9uQmdUYXA9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBoYXNDbG9zZUljb249e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsRm9jdXNFbGVtZW50SWQ9e3JlbW92ZUJ1dHRvbklkfVxuICAgICAgICAgICAgICAgICAgICBvcGVuPXtzaG93RGVsZXRlTW9kYWx9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwic3BhLnN1cHBsaWVyLm9yZGVyLm1vZGFsLnRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxNb2RhbC5Cb2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdXVpZD1cInNwYS5zdXBwbGllci5vcmRlci5tb2RhbC5ib2R5XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9Nb2RhbC5Cb2R5PlxuICAgICAgICAgICAgICAgICAgICA8TW9kYWwuRm9vdGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9e1J1bGVzLmZvb3Rlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9e3sgdXVpZDogXCJzcGEuZm9ybS5jYW5jZWxcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlSGlkZU1vZGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1mb2N1cy1pZD17cmVtb3ZlQnV0dG9uSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt7IHV1aWQ6IFwic3BhLnN1cHBsaWVyLnJlbW92ZVwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtkZWxldGVPcmRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9mb290ZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvTW9kYWwuRm9vdGVyPlxuICAgICAgICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGFkZFBheW1lbnRPcmRlcigpIHtcbiAgICAgICAgaWYgKCF0cmFuc2ZlclRhYmxlRGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIHNldExvY2FsT3JkZXJUYWJsZSh0cmFuc2ZlclRhYmxlRGF0YSk7XG4gICAgICAgIHNldFRyYW5zZmVyVGFibGVTdGF0ZShmYWxzZSk7XG4gICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlR2VuZXJhdGVQYXltZW50LnNldE9yZGVyKHRydWUpKTtcblxuICAgICAgICByZXNldCgoZm9ybVZhbHVlcykgPT4gKHtcbiAgICAgICAgICAgIC4uLmZvcm1WYWx1ZXMsXG4gICAgICAgICAgICByZWZlcmVuY2VQYXltZW50OiBFTVBUWV9TVFJJTkcsXG4gICAgICAgICAgICBhbW91bnQ6IEVNUFRZX1NUUklORyxcbiAgICAgICAgICAgIGFjY291bnQ6IGZvcm1WYWx1ZXMuYWNjb3VudCxcbiAgICAgICAgICAgIHN1cHBsaWVyOiBmb3JtVmFsdWVzLnN1cHBsaWVyLFxuICAgICAgICB9KSk7XG4gICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlR2VuZXJhdGVQYXltZW50LmNsZWFuVHJhbnNmZXJGaWVsZHModHJ1ZSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFRyYW5zZmVyVGFibGVTdGF0ZSh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAoIXRyYW5zZmVyU3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVyID0ge1xuICAgICAgICAgICAgICAgIHNldFRyYW5zZmVyVGFibGU6IHZhbHVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIEFjdGlvblNsaWNlR2VuZXJhdGVQYXltZW50LnRyYW5zZmVyKFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlciBhcyBOU1NsaWNlR2VuZXJhdGVQYXltZW50LlRyYW5zZmVyRGF0YSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZmVyID0ge1xuICAgICAgICAgICAgICAgIC4uLnRyYW5zZmVyU3RhdGUsXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNmZXJUYWJsZTogdmFsdWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgQWN0aW9uU2xpY2VHZW5lcmF0ZVBheW1lbnQudHJhbnNmZXIoXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyIGFzIE5TU2xpY2VHZW5lcmF0ZVBheW1lbnQuVHJhbnNmZXJEYXRhLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGFibGVCb2R5KGVsZW1lbnQ6IE5TU2xpY2VHZW5lcmF0ZVBheW1lbnQuVHJhbnNmZXJEYXRhW10sIHN1cHBsaWVyTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHRhYmxlQm9keTogUmVhY3QuUmVhY3ROb2RlID0gZWxlbWVudC5tYXAoKHJvdykgPT4gKFxuICAgICAgICAgICAgPFRhYmxlLlJvdyBrZXk9e3Jvdy5rZXl9PlxuICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPntzdXBwbGllck5hbWV9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPntyb3cuc3VwcGxpZXJFbWFpbCB8fCBzdXBwbGllck1haWx9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPntyb3cucGF5bWVudERhdGV9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgICAgICA8QW1vdW50Rm9ybWF0dGVyIGFtb3VudD17cm93LnBheW1lbnRBbW91bnQgJiYgcGFyc2VGbG9hdChyb3cucGF5bWVudEFtb3VudCl9IC8+XG4gICAgICAgICAgICAgICAgPC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgICAgIDxUYWJsZS5DZWxsPntFTVBUWV9TVFJJTkd9PC9UYWJsZS5DZWxsPlxuICAgICAgICAgICAgPC9UYWJsZS5Sb3c+XG4gICAgICAgICkpO1xuICAgICAgICByZXR1cm4gdGFibGVCb2R5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRvdGFsVHJhbnNmZXJBbW91bnQoKSB7XG4gICAgICAgIGxldCBhbW91bnQgPSBaRVJPO1xuICAgICAgICBsb2NhbE9yZGVyVGFibGUuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgZGF0YS50cmFuc2ZlckRhdGEuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICAgICAgICBhbW91bnQgKz0gTnVtYmVyKGVsLnBheW1lbnRBbW91bnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYW1vdW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRvdGFsT3JkZXJBbW91bnQoZWxlbWVudDogTlNTbGljZUdlbmVyYXRlUGF5bWVudC5UcmFuc2ZlckRhdGFbXSkge1xuICAgICAgICBsZXQgYW1vdW50ID0gWkVSTztcbiAgICAgICAgZWxlbWVudD8uZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgYW1vdW50ICs9IE51bWJlcihkYXRhLnBheW1lbnRBbW91bnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFtb3VudDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVEZWxldGUoZWxlbWVudDogTlNTbGljZUdlbmVyYXRlUGF5bWVudC5UYWJsZURhdGEgfCB1bmRlZmluZWQpIHtcbiAgICAgICAgc2V0U2hvd0RlbGV0ZU1vZGFsKHRydWUpO1xuICAgICAgICBzZXRTZWxlY3RlZE9yZGVyKGVsZW1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUhpZGVNb2RhbCgpIHtcbiAgICAgICAgc2V0U2hvd0RlbGV0ZU1vZGFsKGZhbHNlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxldGVPcmRlcigpIHtcbiAgICAgICAgaWYgKCF0cmFuc2ZlclRhYmxlRGF0YSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRMb2NhbE9yZGVyVGFibGUgPSBsb2NhbE9yZGVyVGFibGUuZmlsdGVyKFxuICAgICAgICAgICAgKG9yZGVyKSA9PlxuICAgICAgICAgICAgICAgIG9yZGVyLnJlZmVyZW5jZSAhPT0gc2VsZWN0ZWRPcmRlcj8ucmVmZXJlbmNlIHx8XG4gICAgICAgICAgICAgICAgb3JkZXIuc3VwcGxpZXJOYW1lICE9PSBzZWxlY3RlZE9yZGVyPy5zdXBwbGllck5hbWUsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRUYWJsZURhdGEgPSB0cmFuc2ZlclRhYmxlRGF0YS5maWx0ZXIoXG4gICAgICAgICAgICAob3JkZXIpID0+XG4gICAgICAgICAgICAgICAgb3JkZXIucmVmZXJlbmNlICE9PSBzZWxlY3RlZE9yZGVyPy5yZWZlcmVuY2UgfHxcbiAgICAgICAgICAgICAgICBvcmRlci5zdXBwbGllck5hbWUgIT09IHNlbGVjdGVkT3JkZXI/LnN1cHBsaWVyTmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgdXBkYXRlZERhdGFHZW5lcmF0ZVBheW1lbnQgPSBkYXRhR2VuZXJhdGVQYXltZW50Py5maWx0ZXIoXG4gICAgICAgICAgICAodHJhbnNmZXIpID0+IHRyYW5zZmVyLnJlZmVyZW5jZSAhPT0gc2VsZWN0ZWRPcmRlcj8ucmVmZXJlbmNlLFxuICAgICAgICApO1xuXG4gICAgICAgIHNldExvY2FsT3JkZXJUYWJsZSh1cGRhdGVkTG9jYWxPcmRlclRhYmxlKTtcbiAgICAgICAgZGlzcGF0Y2goQWN0aW9uU2xpY2VHZW5lcmF0ZVBheW1lbnQuc2V0RGVsZXRlZE9yZGVycyh0cnVlKSk7XG4gICAgICAgIC8vIE9ubHkgdXBkYXRlIHRoZSBzdG9yZSB3aGVuIGRlbGV0aW5nIG9yZGVyc1xuICAgICAgICBkaXNwYXRjaChBY3Rpb25TbGljZUdlbmVyYXRlUGF5bWVudC50cmFuc2ZlclRhYmxlKHVwZGF0ZWRUYWJsZURhdGEpKTtcbiAgICAgICAgZGlzcGF0Y2goQWN0aW9uU2xpY2VHZW5lcmF0ZVBheW1lbnQuc2V0T3JkZXIodXBkYXRlZFRhYmxlRGF0YS5sZW5ndGggIT09IFpFUk8pKTtcbiAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICBBY3Rpb25TbGljZUdlbmVyYXRlUGF5bWVudC5nZW5lcmF0ZVBheW1lbnRQcmVEYXRhKHtcbiAgICAgICAgICAgICAgICBkYXRhR2VuZXJhdGVQYXltZW50OiB1cGRhdGVkRGF0YUdlbmVyYXRlUGF5bWVudCA/PyBbXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgICAgICBoYW5kbGVIaWRlTW9kYWwoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcIkBwa2cvcmVhY3RcIjtcblxuaW1wb3J0IHsgRW1pc3Npb25BY2NvdW50RGF0YSB9IGZyb20gXCIuLi9BY2NvdW50L0VtaXNzaW9uQWNjb3VudERhdGFcIjtcbmltcG9ydCB7IE9yZGVyUGF5bWVudCB9IGZyb20gXCIuLi9PcmRlci9PcmRlclwiO1xuXG5pbXBvcnQgeyBTdXBwbGllciB9IGZyb20gXCIuLi9TdXBwbGllci9TdXBwbGllclwiO1xuaW1wb3J0IHsgVHJhbnNmZXJEYXRhIH0gZnJvbSBcIi4uL1RyYW5zZmVyL1RyYW5zZmVyRGF0YVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gTWFudWFsUGF5bWVudCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICA8c2VjdGlvbj5cbiAgICAgICAgICAgIDxFbWlzc2lvbkFjY291bnREYXRhIHJ1bGVzIHRpdGxlIG5hbWU9XCJhY2NvdW50XCIgLz5cbiAgICAgICAgICAgIDxTdXBwbGllciB0aXRsZT1cInNwYS5zdXBwbGllcnMucGF5bWVudE9yZGVyLnRpdGxlXCIgLz5cbiAgICAgICAgICAgIDxUcmFuc2ZlckRhdGEgLz5cbiAgICAgICAgICAgIDxPcmRlclBheW1lbnQgLz5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcIkBwa2cvcmVhY3RcIjtcbmltcG9ydCB7IFR5cGUsIER5bmFtaWMgfSBmcm9tIFwiQHBrZy91dGlscy9zY2hlbWFcIjtcbmltcG9ydCB7XG4gICAgQ1VSUkVOQ1ksXG4gICAgQ1VSUkVOQ1lfTUFQLFxuICAgIERVUkFUSU9OX00sXG4gICAgRU1QVFlfU1RSSU5HLFxuICAgIFRXTyxcbiAgICBaRVJPLFxufSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9jb25zdGFudHNcIjtcblxuaW1wb3J0IHsgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGFcIjtcbmltcG9ydCB7XG4gICAgU2VsZWN0b3JTbGljZUdlbmVyYXRlUGF5bWVudCxcbiAgICBGZXRjaGVyU2xpY2VHZW5lcmF0ZVBheW1lbnQsXG4gICAgQWN0aW9uU2xpY2VHZW5lcmF0ZVBheW1lbnQsXG59IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9zdXBwbGllcnMvZ2VuZXJhdGVQYXltZW50XCI7XG5pbXBvcnQgeyBTZWxlY3RvclNsaWNlQ29uc3VsdFBheW1lbnRzIH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvc2xpY2VzL3N1cHBsaWVycy9jb25zdWx0UGF5bWVudHNcIjtcbmltcG9ydCB7IEN1c3RvbUVycm9yLCBHcmVhdGVyVGhhbiB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3ZhbGlkYXRpb25zXCI7XG5pbXBvcnQgeyBTZWxlY3RvclNsaWNlU2Vzc2lvbiB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9zZXNzaW9uXCI7XG5pbXBvcnQgeyBUZXh0LCB1c2VUZXh0IH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9UZXh0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0J1dHRvblwiO1xuaW1wb3J0IHsgZGF0ZUZvcm1hdHRlciwgRGF0ZUZvcm1hdHMsIHJldmVyc2VEYXlBbmRNb250aCB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3V0aWxzL2RhdGVcIjtcbmltcG9ydCB7IE1hbnVhbFBheW1lbnQgfSBmcm9tIFwifi9zZWN0aW9ucy9TdXBwbGllcnMvR2VuZXJhdGVQYXltZW50L01hbnVhbFBheW1lbnQvTWFudWFsUGF5bWVudFwiO1xuaW1wb3J0IHR5cGUgeyBJbmZlckNyZWRlbnRpYWwgfSBmcm9tIFwifi9zZWN0aW9ucy9DcmVkZW50aWFsL0Zvcm1DcmVkZW50aWFsXCI7XG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvTW9kYWxcIjtcbmltcG9ydCB7IEZvcm1DcmVkZW50aWFsIH0gZnJvbSBcIn4vc2VjdGlvbnMvQ3JlZGVudGlhbC9Gb3JtQ3JlZGVudGlhbFwiO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUsIEJBQ0tfUk9VVEVSIH0gZnJvbSBcIn4vcm91dGVzXCI7XG5pbXBvcnQgeyBBY3Rpb25TbGljZVRvYXN0IH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvc2xpY2VzL3RvYXN0XCI7XG5pbXBvcnQgeyB1c2VQZXJzaXN0b3IgfSBmcm9tIFwiQHBrZy9yZWFjdC1zdG9yeWJvb2svQ29tcG9uZW50L1BlcnNpc3RvclwiO1xuaW1wb3J0IHsgZ2V0RW1haWxWYWxpZGF0b3IgfSBmcm9tIFwifi91dGlscy9lbWFpbFZhbGlkYXRvclwiO1xuaW1wb3J0IHsgcGFyc2VDb25maWcgfSBmcm9tIFwifi91dGlscy9jb25maWdVdGlsc1wiO1xuaW1wb3J0IHsgZm9ybWF0QW1vdW50IH0gZnJvbSBcIn4vdXRpbHMvYW1vdW50Rm9ybWF0dGVyXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIkBhcHAvYmFuY29uLXVpXCI7XG5pbXBvcnQgUmFkaW9Hcm91cCBmcm9tIFwiLi9SYWRpb0dyb3VwXCI7XG5pbXBvcnQgUnVsZXMgZnJvbSBcIi4vX3J1bGVzLm1vZHVsZS5zY3NzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcm1NYW51YWwoKSB7XG4gICAgY29uc3QgeyB0ZXh0R2V0IH0gPSB1c2VUZXh0KCk7XG4gICAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICAgIGNvbnN0IHsgZ2V0VmFsdWVDb25maWcgfSA9IHVzZVBlcnNpc3RvcigpO1xuXG4gICAgY29uc3QgW3Nob3dNb2RhbFN0YXRlLCBzZXRTaG93TW9kYWxTdGF0ZV0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgY29uc3QgW2lzU3VibWl0QnV0dG9uLCBzZXRJc1N1Ym1pdEJ1dHRvbl0gPSBSZWFjdC51c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcblxuICAgIGNvbnN0IHRva2VuID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZVNlc3Npb24udG9rZW4pO1xuICAgIGNvbnN0IHRyYW5zZmVycyA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VHZW5lcmF0ZVBheW1lbnQuZ2V0R2VuZXJhdGVQYXltZW50UHJlRGF0YSk7XG4gICAgY29uc3QgY29udHJhY3RJZCA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VDb25zdWx0UGF5bWVudHMuY29udHJhY3RJZCk7XG4gICAgY29uc3Qgd2FybmluZyA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VHZW5lcmF0ZVBheW1lbnQud2FybmluZyk7XG4gICAgY29uc3QgZmV0Y2hpbmcgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlR2VuZXJhdGVQYXltZW50LmZldGNoaW5nKTtcbiAgICBjb25zdCBzZWxlY3RlZEFjY291bnQgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlR2VuZXJhdGVQYXltZW50LmFjY291bnQpO1xuICAgIGNvbnN0IGRhdGFHZW5lcmF0ZVBheW1lbnQgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlR2VuZXJhdGVQYXltZW50LmRhdGFHZW5lcmF0ZVBheW1lbnQpO1xuICAgIGNvbnN0IGhhc09yZGVycyA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VHZW5lcmF0ZVBheW1lbnQuaGFzT3JkZXJzKTtcbiAgICBjb25zdCBwYXltZW50QWNjb3VudCA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VHZW5lcmF0ZVBheW1lbnQuYWNjb3VudCk7XG4gICAgY29uc3QgYWNjb3VudFRvdGFsQW1vdW50ID0gc2VsZWN0ZWRBY2NvdW50Py5hY2NvdW50QmFsYW5jZTtcbiAgICBjb25zdCBoYXNUcmFuc2ZlcnMgPSBkYXRhR2VuZXJhdGVQYXltZW50ICYmIGRhdGFHZW5lcmF0ZVBheW1lbnQubGVuZ3RoID4gWkVSTztcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcblxuICAgIGNvbnN0IHRleHRFcnJvclJlcXVpcmVkID0gdGV4dEdldCh7IHV1aWQ6IFwic3BhLmdlbmVyaWMuZmllbGQuZXJyb3IucmVxdWlyZWRcIiB9KTtcbiAgICBjb25zdCBhY2NvdW50RXJyb3JSZXF1aXJlZCA9IHRleHRHZXQoeyB1dWlkOiBcInNwYS5zdXBwbGllcnMuZ2VuZXJhdGVQYXltZW50LmVycm9yLmFjY291bnRcIiB9KTtcbiAgICBjb25zdCBzdXBwbGllckVycm9yUmVxdWlyZWQgPSB0ZXh0R2V0KHsgdXVpZDogXCJzcGEuc3VwcGxpZXJzLmdlbmVyYXRlUGF5bWVudC5lcnJvci5zdXBwbGllclwiIH0pO1xuICAgIGNvbnN0IGFtb3VudEVycm9yUmVxdWlyZWQgPSB0ZXh0R2V0KHsgdXVpZDogXCJzcGEuc3VwcGxpZXJzLmdlbmVyYXRlUGF5bWVudC5lcnJvci5hbW91bnRcIiB9KTtcbiAgICBjb25zdCBlbWFpbEVycm9yUmVxdWlyZWQgPSB0ZXh0R2V0KHsgdXVpZDogXCJzcGEuc3VwcGxpZXJzLmdlbmVyYXRlUGF5bWVudC5lcnJvci5lbWFpbFwiIH0pO1xuXG4gICAgY29uc3QgZW1haWxNYXhMZW5ndGggPSBwYXJzZUNvbmZpZzxudW1iZXI+KGdldFZhbHVlQ29uZmlnKFwiY29yZS5lbWFpbC5tYXhMZW5ndGhcIikpO1xuICAgIGNvbnN0IGVtYWlsVmFsaWRhdGlvblN0cmluZyA9IHBhcnNlQ29uZmlnPHN0cmluZz4oZ2V0VmFsdWVDb25maWcoXCJzcGEuZW1haWwudmFsaWRhdGlvbkZvcm1hdFwiKSk7XG4gICAgY29uc3QgZW1haWxWYWxpZGF0aW9uUmVnZXggPSBuZXcgUmVnRXhwKGVtYWlsVmFsaWRhdGlvblN0cmluZyk7XG4gICAgY29uc3QgdGV4dEVycm9yRW1haWwgPSB0ZXh0R2V0KHsgdXVpZDogXCJzcGEuZ2VuZXJpYy5tYWlsLmZvcm1hdC5pbnZhbGlkXCIgfSk7XG4gICAgY29uc3QgdGV4dEVycm9yTWF4TGVuZ3RoID0gdGV4dEdldCh7XG4gICAgICAgIHV1aWQ6IFwic3BhLmVtYWlsLmVycm9yLnRvb0JpZ1wiLFxuICAgICAgICByZXBsYWNlOiBgJHtlbWFpbE1heExlbmd0aH1gLFxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2NoZW1hID0gVHlwZS5vYmplY3Qoe1xuICAgICAgICBwYXltZW50VHlwZTogVHlwZS5zdHJpbmcuZXF1YWxzKFwibWFudWFsXCIpLFxuICAgICAgICBhY2NvdW50OiBEeW5hbWljKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGVja09yZGVycyhmYWxzZSkgfHwgaGFzVHJhbnNmZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFR5cGUuYW55KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ3VzdG9tRXJyb3IoVHlwZS5zdHJpbmcucmVxdWlyZWQoKSwgYWNjb3VudEVycm9yUmVxdWlyZWQpO1xuICAgICAgICB9KSxcbiAgICAgICAgc3VwcGxpZXI6IER5bmFtaWMoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrT3JkZXJzKGZhbHNlKSB8fCBoYXNUcmFuc2ZlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVHlwZS5hbnkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBDdXN0b21FcnJvcihUeXBlLnN0cmluZy5yZXF1aXJlZCgpLCBzdXBwbGllckVycm9yUmVxdWlyZWQpO1xuICAgICAgICB9KSxcbiAgICAgICAgcmVmZXJlbmNlUGF5bWVudDogRHluYW1pYygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hlY2tPcmRlcnMoZmFsc2UpIHx8IGhhc1RyYW5zZmVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBUeXBlLnN0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEN1c3RvbUVycm9yKFR5cGUuc3RyaW5nLnJlcXVpcmVkKCksIHRleHRFcnJvclJlcXVpcmVkKTtcbiAgICAgICAgfSksXG4gICAgICAgIGVtYWlsOiBUeXBlLmJvb2xlYW4ub3JVbmRlZmluZWQoKSxcbiAgICAgICAgZW1haWxJbnB1dDogRHluYW1pYygodmFsdWUsIHsgYnJhbmNoIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZW1haWwgfSA9IGJyYW5jaFtaRVJPXTtcbiAgICAgICAgICAgIGlmICghZW1haWwpIHJldHVybiBUeXBlLmFueSgpO1xuICAgICAgICAgICAgcmV0dXJuIGdldEVtYWlsVmFsaWRhdG9yKHtcbiAgICAgICAgICAgICAgICB0ZXh0RXJyb3JSZXF1aXJlZDogZW1haWxFcnJvclJlcXVpcmVkLFxuICAgICAgICAgICAgICAgIHRleHRFcnJvckVtYWlsLFxuICAgICAgICAgICAgICAgIHRleHRFcnJvck1heExlbmd0aCxcbiAgICAgICAgICAgICAgICBlbWFpbE1heExlbmd0aCxcbiAgICAgICAgICAgICAgICBlbWFpbFZhbGlkYXRpb25SZWdleCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgcGF5bWVudERhdGU6IEN1c3RvbUVycm9yKFxuICAgICAgICAgICAgVHlwZS51bmlvbihbVHlwZS5kYXRlLm9yVW5kZWZpbmVkKCksIFR5cGUuc3RyaW5nKCldKSxcbiAgICAgICAgICAgIHRleHRFcnJvclJlcXVpcmVkLFxuICAgICAgICApLFxuICAgICAgICBhbW91bnQ6IER5bmFtaWMoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hlY2tPcmRlcnMoZmFsc2UpIHx8IGhhc1RyYW5zZmVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBUeXBlLmFueSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFN0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JlYXRlclRoYW4oVHlwZS5udW1iZXIoKSwgWkVSTywgYW1vdW50RXJyb3JSZXF1aXJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQ3VzdG9tRXJyb3IoVHlwZS5udW1iZXIoKSwgYW1vdW50RXJyb3JSZXF1aXJlZCk7XG4gICAgICAgIH0pLFxuICAgICAgICBjb25zb2xpZGF0ZURlYml0OiBUeXBlLmJvb2xlYW4ub3JVbmRlZmluZWQoKSxcbiAgICB9KTtcblxuICAgIC8vVmFsaWRhdGlvbiB0aGF0IHRoZSB0b3RhbCBhbW91bnQgb2YgdHJhbnNmZXJzIHNjaGVkdWxlZCBmb3IgdGhlIGRheSBkb2VzIG5vdCBleGNlZWQgdGhlIGFtb3VudCBvZiB0aGUgYWNjb3VudFxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdHJhbnNmZXJzIHx8ICFhY2NvdW50VG90YWxBbW91bnQpIHJldHVybjtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gKHRyYW5zZmVycyA/PyBbXSkucmVkdWNlKFxuICAgICAgICAgICAgKHRvdGFsOiBudW1iZXIsIGRhdGEpID0+IHRvdGFsICsgTnVtYmVyKGRhdGEuYW1vdW50KSxcbiAgICAgICAgICAgIFpFUk8sXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgcmVzID0gdHJhbnNmZXJzPy5maWx0ZXIoXG4gICAgICAgICAgICAodHJhbnNmKSA9PlxuICAgICAgICAgICAgICAgIHRyYW5zZi5kYXRlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBzYW1lRGF0ZShuZXcgRGF0ZShyZXZlcnNlRGF5QW5kTW9udGgodHJhbnNmLmRhdGUpKSwgbmV3IERhdGUoKSkgJiZcbiAgICAgICAgICAgICAgICBhY2NvdW50VG90YWxBbW91bnQgPCBOdW1iZXIoYW1vdW50KSxcbiAgICAgICAgKTtcbiAgICAgICAgc2V0SXNTdWJtaXRCdXR0b24ocmVzPy5sZW5ndGggPT09IFpFUk8pO1xuICAgIH0sIFthY2NvdW50VG90YWxBbW91bnQsIHRyYW5zZmVyc10pO1xuXG4gICAgLy8gQ2xlYW5zIGdlbmVyYXRlZCBkYXRhIGZyb20gbWFudWFsXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgY2xlYXJEYXRhID0gKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goQWN0aW9uU2xpY2VHZW5lcmF0ZVBheW1lbnQuY2xlYW5EYXRhR2VuZXJhdGVQYXltZW50KCkpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2xlYXJEYXRhO1xuICAgIH0sIFtkaXNwYXRjaF0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEZvcm1DcmVkZW50aWFsXG4gICAgICAgICAgICBuZXdUb2tlbkNyZWRlbnRpYWxcbiAgICAgICAgICAgIGNhbGxiYWNrVmFsaWRhdGU9e3ZhbGlkYXRlT3JkZXJzfVxuICAgICAgICAgICAgZGVzY3JpcHRpb25TaWduQW5kQWNjZXB0PXtnZXRTaWduQW5kQWNjZXB0RGVzY3JpcHRpb25UZXh0KCl9XG4gICAgICAgICAgICBpZEFjdGl2aXR5VG9SZWFkPVwicGF5bWVudHNTdXBwbGllcnMuZ2VuZXJhdGUuc2VuZFwiXG4gICAgICAgICAgICBpc0xvYWRpbmc9e2ZldGNoaW5nfVxuICAgICAgICAgICAgc2NoZW1hPXtzY2hlbWF9XG4gICAgICAgICAgICB3YXJuaW5ncz17d2FybmluZ31cbiAgICAgICAgICAgIG9uQ3JlZGVudGlhbENhbmNlbD17aGFuZGxlQ2FuY2VsQ3JlZGVudGlhbH1cbiAgICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgICAgPFJhZGlvR3JvdXAgLz5cbiAgICAgICAgICAgICAgICA8TWFudWFsUGF5bWVudCAvPlxuICAgICAgICAgICAgICAgIDxmb290ZXI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt7IHV1aWQ6IFwic3BhLmZvcm0uY2FuY2VsXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJhY2t9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsPXt7IHV1aWQ6IFwic3BhLmZvcm0uYWNjZXB0XCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLighaXNTdWJtaXRCdXR0b24gJiYgeyBvbkNsaWNrOiBoYW5kbGVDbGljaywgdHlwZTogXCJidXR0b25cIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgIHtzaG93TW9kYWxTdGF0ZSAmJiAoXG4gICAgICAgICAgICAgICAgPE1vZGFsIGNsb3NlT25CZ1RhcD17ZmFsc2V9IGhhc0Nsb3NlSWNvbj17ZmFsc2V9IG9wZW49e3Nob3dNb2RhbFN0YXRlfT5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGFsLkJvZHkgY2xhc3NOYW1lPXtSdWxlcy52YWxpZGF0ZU1vZGFsQm9keX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dCB1dWlkPVwic3BhLnBheW1lbnRTdXBwbGllcnMudmFsaWRhdGlvbk1vZGFsLnRleHRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsLkJvZHk+XG4gICAgICAgICAgICAgICAgICAgIDxNb2RhbC5Gb290ZXIgY2xhc3NOYW1lPXtSdWxlcy52YWxpZGF0ZU1vZGFsRm9vdGVyfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17eyB1dWlkOiBcInNwYS5mb3JtLmNhbmNlbFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtkZWNsaW5lVmFsaWRhdGlvbk1vZGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gbGFiZWw9e3sgdXVpZDogXCJzcGEuZ2xvYmFsLmFjY2VwdFwiIH19IHR5cGU9XCJzdWJtaXRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L01vZGFsLkZvb3Rlcj5cbiAgICAgICAgICAgICAgICA8L01vZGFsPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9Gb3JtQ3JlZGVudGlhbD5cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgIGlmIChjaGVja09yZGVycyh0cnVlKSkge1xuICAgICAgICAgICAgc2V0U2hvd01vZGFsU3RhdGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWNsaW5lVmFsaWRhdGlvbk1vZGFsKCkge1xuICAgICAgICBzZXRTaG93TW9kYWxTdGF0ZShmYWxzZSk7XG4gICAgICAgIG5hdmlnYXRlKEJBQ0tfUk9VVEVSKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzYW1lRGF0ZShkMTogRGF0ZSwgZDI6IERhdGUpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCkgJiZcbiAgICAgICAgICAgIGQxLmdldERhdGUoKSA9PT0gZDIuZ2V0RGF0ZSgpICYmXG4gICAgICAgICAgICBkMS5nZXRNb250aCgpID09PSBkMi5nZXRNb250aCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3VibWl0KGRhdGE6IEluZmVyQ3JlZGVudGlhbDx0eXBlb2Ygc2NoZW1hPikge1xuICAgICAgICBpZiAoIWNoZWNrT3JkZXJzKHRydWUpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBheW1lbnREYXRlLFxuICAgICAgICAgICAgcGF5bWVudFR5cGUsXG4gICAgICAgICAgICByZWZlcmVuY2VQYXltZW50LFxuICAgICAgICAgICAgZW1haWxJbnB1dCxcbiAgICAgICAgICAgIGNvbnNvbGlkYXRlRGViaXQsXG4gICAgICAgICAgICBvdHAsXG4gICAgICAgIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCB0b3RhbEFtb3VudCA9IGdldFRvdGFsQW1vdW50KCk7XG4gICAgICAgIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBwYXltZW50RGF0ZSB8fCBmb3JtYXREYXRlKG5ldyBEYXRlKCkpO1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICBmaWVsZF9kZWJpdEFjY291bnRTZWxlY3Q6IFN0cmluZyhhY2NvdW50KSxcbiAgICAgICAgICAgIGZpZWxkX2RhdGU6IGZvcm1hdHRlZERhdGUsXG4gICAgICAgICAgICBmaWVsZF90b3RhbF9hbW91bnQ6IHRvdGFsQW1vdW50LFxuICAgICAgICAgICAgY29uc29saWRhdGVEZWJpdEZpbGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uc29saWRhdGVEZWJpdDogQm9vbGVhbihjb25zb2xpZGF0ZURlYml0KSxcbiAgICAgICAgICAgIGNvbnRyYWN0SWQsXG4gICAgICAgICAgICBkaW5hbWljRGF0YVRhYmxlOiBnZXREeW5hbWljVGFibGUoKSxcbiAgICAgICAgICAgIGFjdGlvbjogcGF5bWVudFR5cGUsXG4gICAgICAgICAgICBjcmVkaXRBY2NvdW50U2VsZWN0OiBcIlwiLFxuICAgICAgICAgICAgcmVmZXJlbmNlOiBTdHJpbmcocmVmZXJlbmNlUGF5bWVudCksXG4gICAgICAgICAgICBlbWFpbDogZW1haWwgPyBlbWFpbElucHV0IDogRU1QVFlfU1RSSU5HLFxuICAgICAgICAgICAgb3RwLFxuICAgICAgICB9O1xuICAgICAgICBkaXNwYXRjaChGZXRjaGVyU2xpY2VHZW5lcmF0ZVBheW1lbnQuZ2VuZXJhdGVQYXltZW50UHJlKGJvZHkpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZU9yZGVycygpIHtcbiAgICAgICAgaWYgKCFjaGVja09yZGVycyhmYWxzZSkpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIEFjdGlvblNsaWNlVG9hc3Quc2V0KFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogeyB1dWlkOiBcInNwYS5zdXBwbGllcnMuZ2VuZXJhdGVQYXltZW50LmVycm9yLm9yZGVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiRVJST1JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBEVVJBVElPTl9NLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmb3JtYXREYXRlKGRhdGU6IERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGVGb3JtYXR0ZXIoZGF0ZSwge1xuICAgICAgICAgICAgZm9ybWF0OiBEYXRlRm9ybWF0cy5TSE9SVCxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5zcGxpdChcIi9cIilcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgIC5qb2luKFwiLVwiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUb3RhbEFtb3VudCgpIHtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gKHRyYW5zZmVycyA/PyBbXSkucmVkdWNlKFxuICAgICAgICAgICAgKHRvdGFsOiBudW1iZXIsIHRyYW5zZmVyKSA9PiB0b3RhbCArIE51bWJlcih0cmFuc2Zlci5hbW91bnQpLFxuICAgICAgICAgICAgWkVSTyxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhhbW91bnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldER5bmFtaWNUYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuICh0cmFuc2ZlcnMgPz8gW10pLm1hcChcbiAgICAgICAgICAgICh7IGFjY291bnQsIG5hbWUsIGNidSwgcmVmZXJlbmNlLCBkYXRlLCBlbWFpbCwgYW1vdW50IH0sIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgICAgIGFjY291bnQsXG4gICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICBjYnUsXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgICAgIGlkOiBTdHJpbmcoaW5kZXgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQmFjaygpIHtcbiAgICAgICAgbmF2aWdhdGUoQkFDS19ST1VURVIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrT3JkZXJzKGZyb21TdWJtaXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgaWYgKCFoYXNPcmRlcnMpIHtcbiAgICAgICAgICAgIGlmIChmcm9tU3VibWl0KSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgIEFjdGlvblNsaWNlVG9hc3Quc2V0KFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB7IHV1aWQ6IFwic3BhLnN1cHBsaWVycy5nZW5lcmF0ZVBheW1lbnQuZXJyb3Iub3JkZXJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IFwiRVJST1JcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogRFVSQVRJT05fTSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2FuY2VsQ3JlZGVudGlhbCgpIHtcbiAgICAgICAgaWYgKHNob3dNb2RhbFN0YXRlKSBzZXRTaG93TW9kYWxTdGF0ZShmYWxzZSk7XG4gICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlR2VuZXJhdGVQYXltZW50LmNsZWFuV2FybmluZ3MoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2lnbkFuZEFjY2VwdERlc2NyaXB0aW9uVGV4dCgpIHtcbiAgICAgICAgY29uc3QgdG90YWxUcmFuc2ZlcnMgPSBkYXRhR2VuZXJhdGVQYXltZW50Py5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHRvdGFsQW1vdW50ID0gZGF0YUdlbmVyYXRlUGF5bWVudD8ucmVkdWNlKFxuICAgICAgICAgICAgKHRvdGFsOiBudW1iZXIsIHRyYW5zKSA9PiB0b3RhbCArIHBhcnNlRmxvYXQodHJhbnMuYW1vdW50ID8gdHJhbnMuYW1vdW50IDogXCJcIiksXG4gICAgICAgICAgICBaRVJPLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGFjY291bnRDdXJyZW5jeTogc3RyaW5nID0gcGF5bWVudEFjY291bnQ/LmFjY291bnRDdXJyZW5jeSA/PyBDVVJSRU5DWS5BUkdfSVNPO1xuICAgICAgICBjb25zdCBjdXJyZW5jeSA9IENVUlJFTkNZX01BUFthY2NvdW50Q3VycmVuY3kgYXMga2V5b2YgdHlwZW9mIENVUlJFTkNZX01BUF07XG5cbiAgICAgICAgY29uc3QgZm9ybWF0dGVkVG90YWxBbW91bnQgPSBmb3JtYXRBbW91bnQodG90YWxBbW91bnQgPz8gWkVSTywge1xuICAgICAgICAgICAgY3VycmVuY3lTeW1ib2w6IGN1cnJlbmN5LFxuICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiBUV08sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGV4dEdldCh7XG4gICAgICAgICAgICB1dWlkOiBcInNwYS5zdXBwbGllcnMuZ2VuZXJhdGVQYXltZW50LnNpZ25BbmRBY2NlcHQubWFudWFsLnRleHRcIixcbiAgICAgICAgICAgIHJlcGxhY2U6IFtTdHJpbmcodG90YWxUcmFuc2ZlcnMpLCBgPGI+JHtmb3JtYXR0ZWRUb3RhbEFtb3VudH08L2I+YF0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwiQHBrZy9yZWFjdFwiO1xuaW1wb3J0IHsgRGF0ZUZpZWxkIH0gZnJvbSBcIkBhcHAvYmFuY29uLXVpXCI7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiQHBrZy9yZWFjdC1zdG9yeWJvb2svQ29tcG9uZW50XCI7XG5pbXBvcnQgdHlwZSB7IFByb3BEZWZhdWx0cywgUHJvcFR5cGVzIH0gZnJvbSBcIkBwa2cvcmVhY3Qtc3Rvcnlib29rL0NvbXBvbmVudFwiO1xuaW1wb3J0IHR5cGUgeyBQcm9wcyBhcyBEYXRlRmllbGRQcm9wcyB9IGZyb20gXCJAYXBwL2JhbmNvbi11aS9kaXN0L2NvbXBvbmVudHMvRGF0ZUZpZWxkL0RhdGVGaWVsZC50eXBlc1wiO1xuaW1wb3J0IHR5cGUgeyBVc2VGb3JtUmV0dXJuIH0gZnJvbSBcInJlYWN0LWhvb2stZm9ybVwiO1xuaW1wb3J0IHR5cGUgeyBPbWl0UHJvcElELCBQcm9wRFMgfSBmcm9tIFwiLi5cIjtcbmltcG9ydCB7IEZvcm0gfSBmcm9tIFwiLi5cIjtcbmltcG9ydCBOYW1lc3BhY2UgZnJvbSBcIi4vX2luZGV4LnNjc3NcIjtcblxuZXhwb3J0IGNvbnN0IHsgTkFNRV9JTlBVVF9EQVRFX0ZJRUxELCBUWVBFX0lOUFVUX0RBVEVfRklFTEQgfSA9IE5hbWVzcGFjZTtcblxuZXhwb3J0IHR5cGUgUHJvcElucHV0RGF0ZUZpZWxkID0gUHJvcERTPERhdGVGaWVsZFByb3BzPiAmIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7XG4gICAgb25DaGFuZ2U/OiAoKGRhdGU6IERhdGUpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICAgIGRlZmF1bHRWYWx1ZT86IERhdGU7XG59O1xuXG5leHBvcnQgY29uc3QgREVGX0lOUFVUX0RBVEVfRklFTEQ6IFByb3BEZWZhdWx0czxcbiAgICBQcm9wSW5wdXREYXRlRmllbGQsXG4gICAgT21pdFByb3BJRDxQcm9wSW5wdXREYXRlRmllbGQ+IHwga2V5b2YgUHJvcERTPERhdGVGaWVsZFByb3BzPlxuPiA9IHsgaWQ6IE5BTUVfSU5QVVRfREFURV9GSUVMRCB9O1xuXG50eXBlIFByb3BJbnB1dERhdGVGaWVsZE1lbW9pemVkID0gRGF0ZUZpZWxkUHJvcHMgJiB7XG4gICAgbWV0aG9kczogVXNlRm9ybVJldHVybjtcbn07XG5cbmNvbnN0IElucHV0RGF0ZUZpZWxkTWVtb2l6ZWQgPSBSZWFjdC5tZW1vKFxuICAgIChwcm9wczogUHJvcElucHV0RGF0ZUZpZWxkTWVtb2l6ZWQpID0+IHtcbiAgICAgICAgY29uc3QgeyBpZCwgbmFtZSwgbWV0aG9kcywgb25DaGFuZ2UsIGRlZmF1bHRWYWx1ZSwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gICAgICAgIGNvbnN0IHsgcmVnaXN0ZXIsIGZvcm1TdGF0ZSwgc2V0VmFsdWUsIGNsZWFyRXJyb3JzIH0gPSBtZXRob2RzO1xuICAgICAgICBjb25zdCB7IGVycm9ycyB9ID0gZm9ybVN0YXRlO1xuXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyTmFtZSA9IGAke25hbWV9YCBhcyBjb25zdDtcblxuICAgICAgICBjb25zdCBpbnB1dEVycm9yID0gZXJyb3JzW25hbWVdO1xuXG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVmYXVsdFZhbHVlKSBzZXRWYWx1ZShyZWdpc3Rlck5hbWUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICBlbHNlIHNldFZhbHVlKHJlZ2lzdGVyTmFtZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgfSwgW2RlZmF1bHRWYWx1ZSwgcmVnaXN0ZXJOYW1lLCBzZXRWYWx1ZV0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8Q29tcG9uZW50IG5hbWU9e05BTUVfSU5QVVRfREFURV9GSUVMRH0gdHlwZT17VFlQRV9JTlBVVF9EQVRFX0ZJRUxEfT5cbiAgICAgICAgICAgICAgICA8RGF0ZUZpZWxkXG4gICAgICAgICAgICAgICAgICAgIGlkPXtpZCB8fCBuYW1lfVxuICAgICAgICAgICAgICAgICAgICB7Li4uKGlucHV0RXJyb3IgJiYgeyBlcnJvcjogU3RyaW5nKGlucHV0RXJyb3IubWVzc2FnZSkgfSl9XG4gICAgICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcihyZWdpc3Rlck5hbWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17cmVzZXRFcnJvcnN9XG4gICAgICAgICAgICAgICAgICAgIHsuLi5yZXN0fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0NvbXBvbmVudD5cbiAgICAgICAgKTtcblxuICAgICAgICBmdW5jdGlvbiByZXNldEVycm9ycyhkYXRlOiBEYXRlKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZShyZWdpc3Rlck5hbWUsIGRhdGUpO1xuICAgICAgICAgICAgY2xlYXJFcnJvcnMoW3JlZ2lzdGVyTmFtZV0pO1xuICAgICAgICAgICAgaWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShkYXRlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgKHByZXZQcm9wcywgbmV4dFByb3BzKSA9PlxuICAgICAgICBwcmV2UHJvcHMubWV0aG9kcy5mb3JtU3RhdGUuZXJyb3JzID09PSBuZXh0UHJvcHMubWV0aG9kcy5mb3JtU3RhdGUuZXJyb3JzICYmXG4gICAgICAgIHByZXZQcm9wcy5tZXRob2RzLmZvcm1TdGF0ZS5kaXJ0eUZpZWxkc1twcmV2UHJvcHMubmFtZV0gIT09XG4gICAgICAgICAgICBuZXh0UHJvcHMubWV0aG9kcy5mb3JtU3RhdGUuZGlydHlGaWVsZHNbbmV4dFByb3BzLm5hbWVdLFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIElucHV0RGF0ZUZpZWxkKHByb3BzOiBQcm9wVHlwZXM8UHJvcElucHV0RGF0ZUZpZWxkLCB0eXBlb2YgREVGX0lOUFVUX0RBVEVfRklFTEQ+KSB7XG4gICAgY29uc3QgbWV0aG9kcyA9IEZvcm0udXNlQ29udGV4dCgpO1xuXG4gICAgcmV0dXJuIDxJbnB1dERhdGVGaWVsZE1lbW9pemVkIG1ldGhvZHM9e21ldGhvZHN9IHsuLi5wcm9wc30gLz47XG59XG5cbklucHV0RGF0ZUZpZWxkLmRpc3BsYXlOYW1lID0gTkFNRV9JTlBVVF9EQVRFX0ZJRUxEO1xuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcIk5BTUVfSU5QVVRfREFURV9GSUVMRFwiOlwiSW5wdXREYXRlRmllbGRcIixcIlRZUEVfSU5QVVRfREFURV9GSUVMRFwiOlwiRWxlbWVudFwifTsiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbm1vZHVsZS5leHBvcnRzID0ge1wiTkFNRV9USEVNRVBMQVRGT1JNXCI6XCJUaGVtZVBsYXRmb3JtXCIsXCJUWVBFX1RIRU1FUExBVEZPUk1cIjpcIkJ1bmRsZVwiLFwiTkFNRV9DT05TVU1FUl9USEVNRVBMQVRGT1JNXCI6XCJUaGVtZVBsYXRmb3JtQ29uc3VtZXJcIixcIlRZUEVfQ09OU1VNRVJfVEhFTUVQTEFURk9STVwiOlwiRWxlbWVudFwiLFwiTkFNRV9QUk9WSURFUl9USEVNRVBMQVRGT1JNXCI6XCJUaGVtZVBsYXRmb3JtUHJvdmlkZXJcIixcIlRZUEVfUFJPVklERVJfVEhFTUVQTEFURk9STVwiOlwiUHJvdmlkZXJcIixcIk5BTUVfVEVYVFwiOlwiVGV4dFwiLFwiVFlQRV9URVhUXCI6XCJFbGVtZW50XCIsXCJOQU1FX0JVVFRPTlwiOlwiQnV0dG9uXCIsXCJUWVBFX0JVVFRPTlwiOlwiRWxlbWVudFwiLFwiTkFNRV9BTU9VTlRfRk9STUFUVEVSXCI6XCJBbW91bnRGb3JtYXR0ZXJcIixcIlRZUEVfQU1PVU5UX0ZPUk1BVFRFUlwiOlwiRWxlbWVudFwiLFwidHJhbnNmZXJEYXRhT3JkZXJDb250YWluZXJcIjpcIl9ydWxlc190cmFuc2ZlckRhdGFPcmRlckNvbnRhaW5lcl9fQWp6dEhcIixcImFkZFRyYW5zZmVyQnV0dG9uXCI6XCJfcnVsZXNfYWRkVHJhbnNmZXJCdXR0b25fX2VRblBwXCIsXCJvcmRlclBheW1lbnREYXRhQ29udGFpbmVyXCI6XCJfcnVsZXNfb3JkZXJQYXltZW50RGF0YUNvbnRhaW5lcl9fSjY1eVJcIixcIm9yZGVyRGF0YUNvbnRlbnRcIjpcIl9ydWxlc19vcmRlckRhdGFDb250ZW50X18zWWUwMVwiLFwib3JkZXJDb250YWluZXJcIjpcIl9ydWxlc19vcmRlckNvbnRhaW5lcl9fLWhJQXNcIixcIm9yZGVyVGl0bGVcIjpcIl9ydWxlc19vcmRlclRpdGxlX18xTlZoUlwiLFwiZm9vdGVyXCI6XCJfcnVsZXNfZm9vdGVyX18xZW5RTlwiLFwidHJhbnNmZXJEYXRhQW1vdW50XCI6XCJfcnVsZXNfdHJhbnNmZXJEYXRhQW1vdW50X18xbEM1UFwifTsiXSwic291cmNlUm9vdCI6IiJ9
//# sourceMappingURL=41.b67d8910.chunk.js.map