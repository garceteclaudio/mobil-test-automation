(this["webpackJsonp@app/bancon"]=this["webpackJsonp@app/bancon"]||[]).push([[99,283],{209:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(0),o=a(5),r=a(2),l=a(16),c=a(38),i=a(11),s=a(497),u=a(8),_=a(151),d=a(501),b=a(499),m=a(33),O=a(600),p=a(270),j=a(630),E=a(765),T=a(6),f=a(80),x=a(20),M=a(621),h=a(74),A=a(99),g=a(768),N=a(50),P=a(82),R=a(36),v=a(335),L=a(437),C=a.n(L),k=a(10);function D(){var e=Object(f.g)(),t=Object(u.b)(),a=Object(b.a)(),L=Object(R.i)().isDesktop,D=Object(A.a)().getValueConfig,F=i.b.useState(!0),w=Object(l.a)(F,2),H=w[0],y=w[1],I=Object(u.c)(m.e.token),S=Object(u.c)(_.c.error),Y=Object(u.c)(_.c.fetchingLoanList),B=Object(u.c)(_.c.fetchingOffer),U=Object(u.c)(_.c.offer),V=Object(u.c)(m.e.isCorporateEnvironment),J=Object(u.c)(_.c.loanList),Q=Object(u.c)(_.c.filename),X=Object(u.c)(_.c.content),z=Object(h.a)(D("spa.loan.offer.url")),W=Object(h.a)(D("spa.loan.offer.url.corporate")),G=V?W:z,q=Object(m.h)("legacy.menu.products.loanbt.downloadSettlementVoucher"),K=Object(m.h)("legacy.menu.products.loanbt.downloadContractFile"),Z=Object(m.h)("legacy.menu.products.loanbt.downloadReceipt"),$=Object(m.h)("legacy.menu.products.loanbt.read"),ee=Object(m.h)("legacy.menu.products.loanbt.create"),te=!V&&ee;return i.b.useEffect((function(){I&&Q&&X&&(a(Q,Object(d.a)(X)),t(_.a.cleanReceipt()))}),[X,t,Q,a,I]),i.b.useEffect((function(){I&&(t(_.a.clean()),te&&t(_.b.getLoanOffer({token:I})),$&&t(_.b.getLoanList({token:I})))}),[t,I,te,$]),Y||B||S||void 0===U&&te?Object(k.jsxs)(s.a,{withoutBox:!0,className:C.a.internalContainer,"header-onBack":re,children:[(Y||B)&&!S&&Object(k.jsx)(p.a,{}),S&&Object(k.jsx)(O.a,{})]}):Object(k.jsx)(s.a,{withoutBox:!0,className:C.a.internalContainer,"header-onBack":re,children:Object(k.jsxs)(i.b.Fragment,{children:[(null===J||void 0===J?void 0:J.some((function(e){var t;return(null===(t=e.loanStateName)||void 0===t?void 0:t.toUpperCase())===T.Y})))&&Object(k.jsx)(j.a,{message:"spa.loan.alert.body",title:"spa.loan.alert.title"}),te&&Object(k.jsx)(E.a,Object(r.a)({},function(){if(!U||!U.loanID)return{title:"spa.widget.loan.offer.text",buttonLabel:"spa.loan.simulate.view.more",to:z};return{amount:null===U||void 0===U?void 0:U.loanProductMaxAmountNet,body:"spa.widget.loan.offer.amount",buttonLabel:"spa.widget.loan.simulate",title:"spa.widget.loan.offer.text",onClick:function(){e(x.u)}}}())),$&&Object(k.jsxs)(i.b.Fragment,{children:[Object(k.jsxs)("div",{className:C.a.tenureHeader,children:[Object(k.jsx)(c.b,{tag:"h4",uuid:"spa.loan.title"}),L&&Object(k.jsxs)("div",{children:[Object(k.jsx)(P.a,{kind:"plain",label:T.D,onClick:function(){y(!0)},children:Object(k.jsx)(N.Icon,{name:"menu",stroke:H?"primary":"gray-600"})}),Object(k.jsx)(P.a,{kind:"plain",label:T.D,onClick:function(){y(!1)},children:Object(k.jsx)(N.Icon,{name:"bullet",stroke:H?"gray-600":"primary"})})]})]}),function(){if(H)return Object(k.jsxs)("div",{className:C.a.cardsLoan,children:[J&&J.map((function(e){return Object(k.jsx)(M.a,{amount:e.loanTotalAmount,amountText:"spa.loans.amount",avatarName:"sack",cardLabel:"cardLavel",date:e.loanCreationDate,dateText:"spa.loans.date",hasOperationTag:!1,operationOptions:ae(e.loanId),title:e.productName,onClick:function(){return t=e.loanId,void($&&ne(t));var t}},e.loanId)})),(!J||J.length===T.Sb)&&Object(k.jsx)(g.a,{isCorporate:V,to:G})]});return Object(k.jsx)(v.default,{getOperationOptions:ae})}()]})]})});function ae(e){var t=[{}];return $&&t.push({label:"spa.loans.options.detail",onOptionClick:function(){return ne(e)}}),V?q&&t.push({label:"spa.loans.options.settlement.receipt",onOptionClick:le.bind(null,e)}):K&&t.push({label:"spa.loans.options.contract",onOptionClick:ie.bind(null,e)}),Z&&t.push({label:"spa.loans.options.last.voucher",onOptionClick:ce.bind(null,e)}),[].concat(t)}function ne(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(o.a)(Object(n.a)().mark((function a(o){return Object(n.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(I){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,t(_.b.getLoanDetail({token:I,idLoan:o})).unwrap();case 4:e(x.t);case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function re(){e(x.m)}function le(e){I&&t(_.b.downloadSettlmentReceipt({idLoan:e,token:I}))}function ce(e){I&&t(_.b.downloadLastReceipt({idLoan:e,token:I}))}function ie(e){I&&t(_.b.downloadContractFile({idLoan:e,token:I}))}}},335:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(2),o=(a(11),a(8)),r=a(151),l=a(50),c=a(6),i=a(38),s=a(504),u=a(100),_=a(582),d=a(519),b=a(437),m=a.n(b),O=a(10),p=[{id:"product",label:"spa.loanbt.table.loan",numeric:!1,align:"center"},{id:"amount",label:"spa.loans.amount",numeric:!1,align:"center"},{id:"date",label:"spa.loans.date",numeric:!1,align:"center"}],j=[{id:"actions",label:c.D,numeric:!1,align:"right",width:c.J}];function E(e){var t=e.getOperationOptions,a=Object(o.c)(r.c.loanList),b=Object(i.c)().textGet;return Object(O.jsx)(l.BasicTable,{className:m.a.table,classNameContainer:m.a.tableContainer,headData:[].concat(p,j).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{label:e.label===c.D?c.D:b({uuid:e.label})})})),id:"tenure",rowsData:(a||[]).map((function(e){var t,a=e.loanId,n=e.loanTotalAmount,o=e.loanCreationDate;return{id:a,product:e.productName,amount:(t=n,Object(d.a)(t||c.Sb,{minimumFractionDigits:c.Jb})),date:Object(O.jsx)(s.a,{date:o,formatParams:{format:u.a.SHORT}}),actions:Object(O.jsx)(_.a,{"aria-label":b({uuid:"spa.a11y.buttons.options"}),options:E(a)})}}))});function E(e){return t(e)}}},437:function(e,t,a){e.exports={NAME_THEMEPLATFORM:"ThemePlatform",TYPE_THEMEPLATFORM:"Bundle",NAME_CONSUMER_THEMEPLATFORM:"ThemePlatformConsumer",TYPE_CONSUMER_THEMEPLATFORM:"Element",NAME_PROVIDER_THEMEPLATFORM:"ThemePlatformProvider",TYPE_PROVIDER_THEMEPLATFORM:"Provider",NAME_TEXT:"Text",TYPE_TEXT:"Element",NAME_XS:"xs",NAME_SM:"sm",NAME_MD:"md",NAME_LG:"lg",NAME_AMOUNT_FORMATTER:"AmountFormatter",TYPE_AMOUNT_FORMATTER:"Element",NAME_DATETIME:"DateTime",TYPE_DATETIME:"Element",NAME_BUTTON:"Button",TYPE_BUTTON:"Element",internalContainer:"_rules_internalContainer__2_bHW",title:"_rules_title__3lbJU",subtitle:"_rules_subtitle__3oo1s",cardsLoan:"_rules_cardsLoan__1eE2M",table:"_rules_table__1qIEY",tableContainer:"_rules_tableContainer__3XHPJ",tenureHeader:"_rules_tenureHeader__rIwBt",loanDetail:"_rules_loanDetail__3x6Nw",cardsDetail:"_rules_cardsDetail__3z-n2",amount:"_rules_amount__3zCU5",sectionAccordion:"_rules_sectionAccordion__1e8x1",contentAccordion:"_rules_contentAccordion__3xTRR",cardLoanAmount:"_rules_cardLoanAmount__2xM2V",tab:"_rules_tab__Af0jH",contentInfo:"_rules_contentInfo__Jppi2",value:"_rules_value__khzS9",accordionSummary:"_rules_accordionSummary__39l_v",titleQuotas:"_rules_titleQuotas__1Aw1N",tagQuotas:"_rules_tagQuotas__2K_5V",accordionDetails:"_rules_accordionDetails__16TUv",contentQuotas:"_rules_contentQuotas__2Yur7",tabsHeader:"_rules_tabsHeader__2oxaX",tag:"_rules_tag__3zWev",pictureName:"_rules_pictureName__2t_6i",modalInstallments:"_rules_modalInstallments__2dcN-",modalBody:"_rules_modalBody__3C3m2",modalFooter:"_rules_modalFooter__2_W5d"}},600:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(38),o=(a(11),a(50)),r=a(601),l=a.n(r),c=a(10);function i(){return Object(c.jsxs)("section",{className:l.a.ErrorRoute,children:[Object(c.jsx)(o.Icon,{name:"error",size:"xlarge",stroke:"gray-light"}),Object(c.jsxs)("div",{className:l.a.ErrorText,children:[Object(c.jsx)(n.b,{tag:"h6",uuid:"spa.error.route.title"}),Object(c.jsx)(n.b,{tag:"p",uuid:"spa.error.route.body"})]})]})}},601:function(e,t,a){e.exports={NAME_THEMEPLATFORM:"ThemePlatform",TYPE_THEMEPLATFORM:"Bundle",NAME_CONSUMER_THEMEPLATFORM:"ThemePlatformConsumer",TYPE_CONSUMER_THEMEPLATFORM:"Element",NAME_PROVIDER_THEMEPLATFORM:"ThemePlatformProvider",TYPE_PROVIDER_THEMEPLATFORM:"Provider",NAME_TEXT:"Text",TYPE_TEXT:"Element",ErrorRoute:"_rules_ErrorRoute__2xxFQ",ErrorText:"_rules_ErrorText__31F_8"}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvTG9hbi9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL0xvYW4vVGVybnVyZVRhYmxlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvTG9hbi9fcnVsZXMubW9kdWxlLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlY3Rpb25zL0Vycm9yUm91dGUvaW5kZXgudHN4Iiwid2VicGFjazovLy8uL3NyYy9zZWN0aW9ucy9FcnJvclJvdXRlL19ydWxlcy5tb2R1bGUuc2NzcyJdLCJuYW1lcyI6WyJMb2FuIiwibmF2aWdhdGUiLCJ1c2VOYXZpZ2F0ZSIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJnZXRGaWxlIiwidXNlRG93bmxvYWRGaWxlIiwiaXNEZXNrdG9wIiwidXNlUGxhdGZvcm0iLCJnZXRWYWx1ZUNvbmZpZyIsInVzZVBlcnNpc3RvciIsIl9SZWFjdCR1c2VTdGF0ZSIsIlJlYWN0IiwidXNlU3RhdGUiLCJfUmVhY3QkdXNlU3RhdGUyIiwiX3NsaWNlZFRvQXJyYXkiLCJpc0NhcmRzIiwic2V0SXNDYXJkcyIsInRva2VuIiwidXNlU2VsZWN0b3IiLCJTZWxlY3RvclNsaWNlU2Vzc2lvbiIsImVycm9yIiwiU2VsZWN0b3JTbGljZUxvYW4iLCJmZXRjaGluZ0xpc3QiLCJmZXRjaGluZ0xvYW5MaXN0IiwiZmV0Y2hpbmdPZmZlciIsIm9mZmVyIiwiaXNDb3Jwb3JhdGUiLCJpc0NvcnBvcmF0ZUVudmlyb25tZW50IiwibG9hbkxpc3QiLCJmaWxlbmFtZSIsImNvbnRlbnQiLCJsb2FuUHJvZHVjdExpbmsiLCJwYXJzZUNvbmZpZyIsImxvYW5Db3Jwb3JhdGVQcm9kdWN0TGluayIsIm9mZmVyTGluayIsImRvd25sb2FkU2V0dGxtZW50Vm91Y2hlcklzQXZhaWxpYWJsZSIsInVzZVBlcm1pc3Npb25GZWF0dXJlIiwiZG93bmxvYWRDb250cmFjdEZpbGVJc0F2YWlsaWFibGUiLCJkb3dubG9hZExhc3RSZWNlaXB0SXNBdmFpbGlhYmxlIiwicmVhZExvYW5Jc0F2YWlsaWFibGUiLCJjcmVhdGVMb2FuSXNBdmFpbGlhYmxlIiwic2hvd0NhcmRPZmZlciIsInVzZUVmZmVjdCIsInRvQmxvYiIsIkFjdGlvblNsaWNlTG9hbiIsImNsZWFuUmVjZWlwdCIsImNsZWFuIiwiRmV0Y2hlclNsaWNlTG9hbiIsImdldExvYW5PZmZlciIsImdldExvYW5MaXN0IiwidW5kZWZpbmVkIiwiX2pzeHMiLCJJbnRlcm5hbENvbnRhaW5lciIsIndpdGhvdXRCb3giLCJjbGFzc05hbWUiLCJSdWxlcyIsImludGVybmFsQ29udGFpbmVyIiwiaGFuZGxlQmFjayIsImNoaWxkcmVuIiwiX2pzeCIsIkxvYWRpbmciLCJFcnJvclJvdXRlIiwiRnJhZ21lbnQiLCJzb21lIiwibG9hbiIsIl9sb2FuJGxvYW5TdGF0ZU5hbWUiLCJsb2FuU3RhdGVOYW1lIiwidG9VcHBlckNhc2UiLCJMT0FOX1BFTkRJTkciLCJTdGF0aWNBbGVydCIsIm1lc3NhZ2UiLCJ0aXRsZSIsIkNhcmRMb2FuT2ZmZXIiLCJfb2JqZWN0U3ByZWFkIiwibG9hbklEIiwiYnV0dG9uTGFiZWwiLCJ0byIsImFtb3VudCIsImxvYW5Qcm9kdWN0TWF4QW1vdW50TmV0IiwiYm9keSIsIm9uQ2xpY2siLCJST1VURV9VUkxfTE9BTl9TSU1VTEFUSU9OIiwiY2FyZExvYW5PZmZlclByb3BzIiwidGVudXJlSGVhZGVyIiwiVGV4dCIsInRhZyIsInV1aWQiLCJCdXR0b24iLCJraW5kIiwibGFiZWwiLCJFTVBUWV9TVFJJTkciLCJJY29uIiwibmFtZSIsInN0cm9rZSIsImNhcmRzTG9hbiIsIm1hcCIsIk9wZXJhdGlvbkNhcmQiLCJsb2FuVG90YWxBbW91bnQiLCJhbW91bnRUZXh0IiwiYXZhdGFyTmFtZSIsImNhcmRMYWJlbCIsImRhdGUiLCJsb2FuQ3JlYXRpb25EYXRlIiwiZGF0ZVRleHQiLCJoYXNPcGVyYXRpb25UYWciLCJvcGVyYXRpb25PcHRpb25zIiwiZ2V0T3BlcmF0aW9uT3B0aW9ucyIsImxvYW5JZCIsInByb2R1Y3ROYW1lIiwiaGFuZGxlTG9hbkRldGFpbCIsImxlbmd0aCIsIlpFUk8iLCJDYXJkTG9hblRlbnVyZSIsIlRlbnVyZVRhYmxlIiwiYnVpbGREZXRhaWxzIiwib3B0aW9ucyIsInB1c2giLCJvbk9wdGlvbkNsaWNrIiwiaGFuZGxlRG93bmxvYWRTZXR0bGVtZW50UmVjZWlwdCIsImJpbmQiLCJoYW5kbGVEb3dubG9hZENvbnRyYWN0RmlsZSIsImhhbmRsZURvd25sb2FkTGFzdFJlY2VpcHQiLCJjb25jYXQiLCJfeCIsIl9oYW5kbGVMb2FuRGV0YWlsIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvciIsIl9yZWdlbmVyYXRvclJ1bnRpbWUiLCJtYXJrIiwiX2NhbGxlZSIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwiYWJydXB0IiwiZ2V0TG9hbkRldGFpbCIsImlkTG9hbiIsInVud3JhcCIsIlJPVVRFX1VSTF9MT0FOX0RFVEFJTCIsInN0b3AiLCJST1VURV9VUkxfSE9NRSIsImRvd25sb2FkU2V0dGxtZW50UmVjZWlwdCIsImRvd25sb2FkTGFzdFJlY2VpcHQiLCJkb3dubG9hZENvbnRyYWN0RmlsZSIsImhlYWREYXRhTG9hbkRldGFpbFN0YXJ0IiwiaWQiLCJudW1lcmljIiwiYWxpZ24iLCJoZWFkRGF0YUxvYW5EZXRhaWxFbmQiLCJ3aWR0aCIsIkZJVkUiLCJwcm9wcyIsInRleHRHZXQiLCJ1c2VUZXh0IiwiVGFibGUiLCJ0YWJsZSIsImNsYXNzTmFtZUNvbnRhaW5lciIsInRhYmxlQ29udGFpbmVyIiwiaGVhZERhdGEiLCJoZWFkIiwicm93c0RhdGEiLCJfcmVmIiwicHJvZHVjdCIsImZvcm1hdEFtb3VudCIsIm1pbmltdW1GcmFjdGlvbkRpZ2l0cyIsIlRXTyIsIkRhdGVUaW1lIiwiZm9ybWF0UGFyYW1zIiwiZm9ybWF0IiwiRGF0ZUZvcm1hdHMiLCJTSE9SVCIsImFjdGlvbnMiLCJEcm9wZG93bkJhc2ljIiwiZ2V0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QUFDeUIsSUFBSSxDQUFDQyxJQUFJLEtBQUtDLEtBQUssMEJBQ3BCM0IsY0FBQ3lCLElBQUksQ0FBQ0MsSUFBSSxJQUFJQyxLQUFLLDhCQUluQyxDLHNCQ2RBeUYsRUFBT0MsUUFBVSxDQUFDLG1CQUFxQixnQkFBZ0IsbUJBQXFCLFNBQVMsNEJBQThCLHdCQUF3Qiw0QkFBOEIsVUFBVSw0QkFBOEIsd0JBQXdCLDRCQUE4QixXQUFXLFVBQVksT0FBTyxVQUFZLFVBQVUsV0FBYSwyQkFBMkIsVUFBWSwwQiIsImZpbGUiOiJzdGF0aWMvanMvOTkuYmI3YWFlNTYuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0IH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9UZXh0XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcIkBwa2cvcmVhY3RcIjtcbmltcG9ydCB7IEludGVybmFsQ29udGFpbmVyIH0gZnJvbSBcIn4vY29udGFpbmVycy9JbnRlcm5hbFwiO1xuaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGFcIjtcbmltcG9ydCB7IEFjdGlvblNsaWNlTG9hbiwgRmV0Y2hlclNsaWNlTG9hbiwgU2VsZWN0b3JTbGljZUxvYW4gfSBmcm9tIFwiQGFwcC9iYW5jb24tZGF0YS9zbGljZXMvbG9hblwiO1xuaW1wb3J0IHsgdG9CbG9iIH0gZnJvbSBcIkBwa2cvdXRpbHMtcmVhY3QvYmFzZTY0XCI7XG5pbXBvcnQgeyB1c2VEb3dubG9hZEZpbGUgfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9Ib29rcy91c2VEb3dubG9hZEZpbGVcIjtcbmltcG9ydCB7IFNlbGVjdG9yU2xpY2VTZXNzaW9uLCB1c2VQZXJtaXNzaW9uRmVhdHVyZSB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9zZXNzaW9uXCI7XG5pbXBvcnQgeyBFcnJvclJvdXRlIH0gZnJvbSBcIn4vc2VjdGlvbnMvRXJyb3JSb3V0ZVwiO1xuaW1wb3J0IHsgTG9hZGluZyB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvTG9hZGluZ1wiO1xuaW1wb3J0IHsgU3RhdGljQWxlcnQgfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L1N0YXRpY0FsZXJ0L2luZGV4XCI7XG5pbXBvcnQgeyBDYXJkTG9hbk9mZmVyIH0gZnJvbSBcIkBhcHAvYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9DYXJkL0NhcmRMb2FuT2ZmZXIvaW5kZXhcIjtcbmltcG9ydCB7IEVNUFRZX1NUUklORywgTE9BTl9QRU5ESU5HLCBaRVJPIH0gZnJvbSBcIkBhcHAvYmFuY29uLWRhdGEvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gXCJAcGtnL3JlYWN0LXN0b3J5Ym9vay9Db21wb25lbnQvUm91dGVyXCI7XG5pbXBvcnQgeyBST1VURV9VUkxfSE9NRSwgUk9VVEVfVVJMX0xPQU5fU0lNVUxBVElPTiwgUk9VVEVfVVJMX0xPQU5fREVUQUlMIH0gZnJvbSBcIn4vcm91dGVzL191cmxcIjtcbmltcG9ydCB7IE9wZXJhdGlvbkNhcmQgfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0NhcmQvT3BlcmF0aW9uXCI7XG5pbXBvcnQgdHlwZSB7IE9wZXJhdGlvbk9wdGlvbnMgfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0NhcmQvT3BlcmF0aW9uXCI7XG5pbXBvcnQgeyBwYXJzZUNvbmZpZyB9IGZyb20gXCJ+L3V0aWxzL2NvbmZpZ1V0aWxzXCI7XG5pbXBvcnQgeyB1c2VQZXJzaXN0b3IgfSBmcm9tIFwiQHBrZy9yZWFjdC1zdG9yeWJvb2svQ29tcG9uZW50L1BlcnNpc3RvclwiO1xuaW1wb3J0IHsgQ2FyZExvYW5UZW51cmUgfSBmcm9tIFwiQGFwcC8vYmFuY29yLWNvbXBvbmVudHMvRWxlbWVudC9DYXJkL0NhcmRMb2FuVGVudXJlL2luZGV4XCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIkBhcHAvYmFuY29uLXVpXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0J1dHRvblwiO1xuaW1wb3J0IHsgdXNlUGxhdGZvcm0gfSBmcm9tIFwiQHBrZy91dGlscy1jb3Jkb3ZhLXBsdWdpbi10cy9pbmZvXCI7XG5pbXBvcnQgVGVudXJlVGFibGUgZnJvbSBcIi4vVGVybnVyZVRhYmxlXCI7XG5cbmltcG9ydCBSdWxlcyBmcm9tIFwiLi9fcnVsZXMubW9kdWxlLnNjc3NcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTG9hbigpIHtcbiAgICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gICAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuICAgIGNvbnN0IGdldEZpbGUgPSB1c2VEb3dubG9hZEZpbGUoKTtcbiAgICBjb25zdCB7IGlzRGVza3RvcCB9ID0gdXNlUGxhdGZvcm0oKTtcbiAgICBjb25zdCB7IGdldFZhbHVlQ29uZmlnIH0gPSB1c2VQZXJzaXN0b3IoKTtcbiAgICBjb25zdCBbaXNDYXJkcywgc2V0SXNDYXJkc10gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcblxuICAgIGNvbnN0IHRva2VuID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZVNlc3Npb24udG9rZW4pO1xuXG4gICAgY29uc3QgZXJyb3IgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlTG9hbi5lcnJvcik7XG4gICAgY29uc3QgZmV0Y2hpbmdMaXN0ID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZUxvYW4uZmV0Y2hpbmdMb2FuTGlzdCk7XG4gICAgY29uc3QgZmV0Y2hpbmdPZmZlciA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VMb2FuLmZldGNoaW5nT2ZmZXIpO1xuICAgIGNvbnN0IG9mZmVyID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZUxvYW4ub2ZmZXIpO1xuICAgIGNvbnN0IGlzQ29ycG9yYXRlID0gdXNlU2VsZWN0b3IoU2VsZWN0b3JTbGljZVNlc3Npb24uaXNDb3Jwb3JhdGVFbnZpcm9ubWVudCk7XG4gICAgY29uc3QgbG9hbkxpc3QgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlTG9hbi5sb2FuTGlzdCk7XG4gICAgY29uc3QgZmlsZW5hbWUgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlTG9hbi5maWxlbmFtZSk7XG4gICAgY29uc3QgY29udGVudCA9IHVzZVNlbGVjdG9yKFNlbGVjdG9yU2xpY2VMb2FuLmNvbnRlbnQpO1xuICAgIGNvbnN0IGxvYW5Qcm9kdWN0TGluayA9IHBhcnNlQ29uZmlnKGdldFZhbHVlQ29uZmlnKFwic3BhLmxvYW4ub2ZmZXIudXJsXCIpKTtcbiAgICBjb25zdCBsb2FuQ29ycG9yYXRlUHJvZHVjdExpbmsgPSBwYXJzZUNvbmZpZyhnZXRWYWx1ZUNvbmZpZyhcInNwYS5sb2FuLm9mZmVyLnVybC5jb3Jwb3JhdGVcIikpO1xuICAgIGNvbnN0IG9mZmVyTGluayA9IGlzQ29ycG9yYXRlID8gbG9hbkNvcnBvcmF0ZVByb2R1Y3RMaW5rIDogbG9hblByb2R1Y3RMaW5rO1xuXG4gICAgY29uc3QgZG93bmxvYWRTZXR0bG1lbnRWb3VjaGVySXNBdmFpbGlhYmxlID0gdXNlUGVybWlzc2lvbkZlYXR1cmUoXG4gICAgICAgIFwibGVnYWN5Lm1lbnUucHJvZHVjdHMubG9hbmJ0LmRvd25sb2FkU2V0dGxlbWVudFZvdWNoZXJcIixcbiAgICApO1xuICAgIGNvbnN0IGRvd25sb2FkQ29udHJhY3RGaWxlSXNBdmFpbGlhYmxlID0gdXNlUGVybWlzc2lvbkZlYXR1cmUoXG4gICAgICAgIFwibGVnYWN5Lm1lbnUucHJvZHVjdHMubG9hbmJ0LmRvd25sb2FkQ29udHJhY3RGaWxlXCIsXG4gICAgKTtcblxuICAgIGNvbnN0IGRvd25sb2FkTGFzdFJlY2VpcHRJc0F2YWlsaWFibGUgPSB1c2VQZXJtaXNzaW9uRmVhdHVyZShcbiAgICAgICAgXCJsZWdhY3kubWVudS5wcm9kdWN0cy5sb2FuYnQuZG93bmxvYWRSZWNlaXB0XCIsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlYWRMb2FuSXNBdmFpbGlhYmxlID0gdXNlUGVybWlzc2lvbkZlYXR1cmUoXCJsZWdhY3kubWVudS5wcm9kdWN0cy5sb2FuYnQucmVhZFwiKTtcbiAgICBjb25zdCBjcmVhdGVMb2FuSXNBdmFpbGlhYmxlID0gdXNlUGVybWlzc2lvbkZlYXR1cmUoXCJsZWdhY3kubWVudS5wcm9kdWN0cy5sb2FuYnQuY3JlYXRlXCIpO1xuICAgIGNvbnN0IHNob3dDYXJkT2ZmZXIgPSAhaXNDb3Jwb3JhdGUgJiYgY3JlYXRlTG9hbklzQXZhaWxpYWJsZTtcblxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdG9rZW4gfHwgIWZpbGVuYW1lIHx8ICFjb250ZW50KSByZXR1cm47XG4gICAgICAgIGdldEZpbGUoZmlsZW5hbWUsIHRvQmxvYihjb250ZW50KSk7XG4gICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlTG9hbi5jbGVhblJlY2VpcHQoKSk7XG4gICAgfSwgW2NvbnRlbnQsIGRpc3BhdGNoLCBmaWxlbmFtZSwgZ2V0RmlsZSwgdG9rZW5dKTtcblxuICAgIC8vR2V0IHRoZSBjdXJyZW50IGxvYW4gb2ZmZXIgb2YgdGhlIHVzZXJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgICAgIGRpc3BhdGNoKEFjdGlvblNsaWNlTG9hbi5jbGVhbigpKTtcbiAgICAgICAgaWYgKHNob3dDYXJkT2ZmZXIpIGRpc3BhdGNoKEZldGNoZXJTbGljZUxvYW4uZ2V0TG9hbk9mZmVyKHsgdG9rZW4gfSkpO1xuICAgICAgICBpZiAocmVhZExvYW5Jc0F2YWlsaWFibGUpIGRpc3BhdGNoKEZldGNoZXJTbGljZUxvYW4uZ2V0TG9hbkxpc3QoeyB0b2tlbiB9KSk7XG4gICAgfSwgW2Rpc3BhdGNoLCB0b2tlbiwgc2hvd0NhcmRPZmZlciwgcmVhZExvYW5Jc0F2YWlsaWFibGVdKTtcblxuICAgIGlmIChmZXRjaGluZ0xpc3QgfHwgZmV0Y2hpbmdPZmZlciB8fCBlcnJvciB8fCAob2ZmZXIgPT09IHVuZGVmaW5lZCAmJiBzaG93Q2FyZE9mZmVyKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxJbnRlcm5hbENvbnRhaW5lclxuICAgICAgICAgICAgICAgIHdpdGhvdXRCb3hcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1J1bGVzLmludGVybmFsQ29udGFpbmVyfVxuICAgICAgICAgICAgICAgIGhlYWRlci1vbkJhY2s9e2hhbmRsZUJhY2t9PlxuICAgICAgICAgICAgICAgIHsoZmV0Y2hpbmdMaXN0IHx8IGZldGNoaW5nT2ZmZXIpICYmICFlcnJvciAmJiA8TG9hZGluZyAvPn1cbiAgICAgICAgICAgICAgICB7ZXJyb3IgJiYgPEVycm9yUm91dGUgLz59XG4gICAgICAgICAgICA8L0ludGVybmFsQ29udGFpbmVyPlxuICAgICAgICApO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEludGVybmFsQ29udGFpbmVyXG4gICAgICAgICAgICB3aXRob3V0Qm94XG4gICAgICAgICAgICBjbGFzc05hbWU9e1J1bGVzLmludGVybmFsQ29udGFpbmVyfVxuICAgICAgICAgICAgaGVhZGVyLW9uQmFjaz17aGFuZGxlQmFja30+XG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAge2hhc1BlbmRpbmdMb2FuKCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8U3RhdGljQWxlcnQgbWVzc2FnZT1cInNwYS5sb2FuLmFsZXJ0LmJvZHlcIiB0aXRsZT1cInNwYS5sb2FuLmFsZXJ0LnRpdGxlXCIgLz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtzaG93Q2FyZE9mZmVyICYmIDxDYXJkTG9hbk9mZmVyIHsuLi5jYXJkTG9hbk9mZmVyUHJvcHMoKX0gLz59XG4gICAgICAgICAgICAgICAge3JlYWRMb2FuSXNBdmFpbGlhYmxlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e1J1bGVzLnRlbnVyZUhlYWRlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHQgdGFnPVwiaDRcIiB1dWlkPVwic3BhLmxvYW4udGl0bGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0Rlc2t0b3AgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBraW5kPVwicGxhaW5cIiBsYWJlbD17RU1QVFlfU1RSSU5HfSBvbkNsaWNrPXtzZWxlY3RDYXJkc30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cIm1lbnVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9e2lzQ2FyZHMgPyBcInByaW1hcnlcIiA6IFwiZ3JheS02MDBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGtpbmQ9XCJwbGFpblwiIGxhYmVsPXtFTVBUWV9TVFJJTkd9IG9uQ2xpY2s9e3NlbGVjdExpc3R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJidWxsZXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9eyFpc0NhcmRzID8gXCJwcmltYXJ5XCIgOiBcImdyYXktNjAwXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YnVpbGREZXRhaWxzKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDwvSW50ZXJuYWxDb250YWluZXI+XG4gICAgKTtcblxuICAgIGZ1bmN0aW9uIGNhcmRMb2FuT2ZmZXJQcm9wcygpIHtcbiAgICAgICAgaWYgKCFvZmZlciB8fCAhb2ZmZXIubG9hbklEKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcInNwYS53aWRnZXQubG9hbi5vZmZlci50ZXh0XCIsXG4gICAgICAgICAgICAgICAgYnV0dG9uTGFiZWw6IFwic3BhLmxvYW4uc2ltdWxhdGUudmlldy5tb3JlXCIsXG4gICAgICAgICAgICAgICAgdG86IGxvYW5Qcm9kdWN0TGluayxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFtb3VudDogb2ZmZXI/LmxvYW5Qcm9kdWN0TWF4QW1vdW50TmV0LFxuICAgICAgICAgICAgYm9keTogXCJzcGEud2lkZ2V0LmxvYW4ub2ZmZXIuYW1vdW50XCIsXG4gICAgICAgICAgICBidXR0b25MYWJlbDogXCJzcGEud2lkZ2V0LmxvYW4uc2ltdWxhdGVcIixcbiAgICAgICAgICAgIHRpdGxlOiBcInNwYS53aWRnZXQubG9hbi5vZmZlci50ZXh0XCIsXG4gICAgICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgIG5hdmlnYXRlKFJPVVRFX1VSTF9MT0FOX1NJTVVMQVRJT04pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZERldGFpbHMoKSB7XG4gICAgICAgIGlmIChpc0NhcmRzKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtSdWxlcy5jYXJkc0xvYW59PlxuICAgICAgICAgICAgICAgICAgICB7bG9hbkxpc3QgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYW5MaXN0Lm1hcCgobG9hbikgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxPcGVyYXRpb25DYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bG9hbi5sb2FuSWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudD17bG9hbi5sb2FuVG90YWxBbW91bnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtb3VudFRleHQ9XCJzcGEubG9hbnMuYW1vdW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyTmFtZT1cInNhY2tcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkTGFiZWw9XCJjYXJkTGF2ZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlPXtsb2FuLmxvYW5DcmVhdGlvbkRhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUZXh0PVwic3BhLmxvYW5zLmRhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNPcGVyYXRpb25UYWc9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25PcHRpb25zPXtnZXRPcGVyYXRpb25PcHRpb25zKGxvYW4ubG9hbklkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2xvYW4ucHJvZHVjdE5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVBlcm1pc3Npb25SZWFkTG9hbihsb2FuLmxvYW5JZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICB7KCFsb2FuTGlzdCB8fCBsb2FuTGlzdC5sZW5ndGggPT09IFpFUk8pICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkTG9hblRlbnVyZSBpc0NvcnBvcmF0ZT17aXNDb3Jwb3JhdGV9IHRvPXtvZmZlckxpbmt9IC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiA8VGVudXJlVGFibGUgZ2V0T3BlcmF0aW9uT3B0aW9ucz17Z2V0T3BlcmF0aW9uT3B0aW9uc30gLz47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0T3BlcmF0aW9uT3B0aW9ucyhsb2FuSWQ6IHN0cmluZyk6IE9wZXJhdGlvbk9wdGlvbnNbXSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnM6IE9wZXJhdGlvbk9wdGlvbnNbXSA9IFt7fV07XG5cbiAgICAgICAgaWYgKHJlYWRMb2FuSXNBdmFpbGlhYmxlKVxuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJzcGEubG9hbnMub3B0aW9ucy5kZXRhaWxcIixcbiAgICAgICAgICAgICAgICBvbk9wdGlvbkNsaWNrOiAoKSA9PiBoYW5kbGVMb2FuRGV0YWlsKGxvYW5JZCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAoaXNDb3Jwb3JhdGUpIHtcbiAgICAgICAgICAgIGlmIChkb3dubG9hZFNldHRsbWVudFZvdWNoZXJJc0F2YWlsaWFibGUpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwic3BhLmxvYW5zLm9wdGlvbnMuc2V0dGxlbWVudC5yZWNlaXB0XCIsXG4gICAgICAgICAgICAgICAgICAgIG9uT3B0aW9uQ2xpY2s6IGhhbmRsZURvd25sb2FkU2V0dGxlbWVudFJlY2VpcHQuYmluZChudWxsLCBsb2FuSWQpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGRvd25sb2FkQ29udHJhY3RGaWxlSXNBdmFpbGlhYmxlKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcInNwYS5sb2Fucy5vcHRpb25zLmNvbnRyYWN0XCIsXG4gICAgICAgICAgICAgICAgICAgIG9uT3B0aW9uQ2xpY2s6IGhhbmRsZURvd25sb2FkQ29udHJhY3RGaWxlLmJpbmQobnVsbCwgbG9hbklkKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb3dubG9hZExhc3RSZWNlaXB0SXNBdmFpbGlhYmxlKSB7XG4gICAgICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsOiBcInNwYS5sb2Fucy5vcHRpb25zLmxhc3Qudm91Y2hlclwiLFxuICAgICAgICAgICAgICAgIG9uT3B0aW9uQ2xpY2s6IGhhbmRsZURvd25sb2FkTGFzdFJlY2VpcHQuYmluZChudWxsLCBsb2FuSWQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gWy4uLm9wdGlvbnNdO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUxvYW5EZXRhaWwobG9hbklkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgICAgICBhd2FpdCBkaXNwYXRjaChGZXRjaGVyU2xpY2VMb2FuLmdldExvYW5EZXRhaWwoeyB0b2tlbiwgaWRMb2FuOiBsb2FuSWQgfSkpLnVud3JhcCgpO1xuICAgICAgICBuYXZpZ2F0ZShST1VURV9VUkxfTE9BTl9ERVRBSUwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUJhY2soKSB7XG4gICAgICAgIG5hdmlnYXRlKFJPVVRFX1VSTF9IT01FKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVEb3dubG9hZFNldHRsZW1lbnRSZWNlaXB0KGlkTG9hbjogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0b2tlbikgZGlzcGF0Y2goRmV0Y2hlclNsaWNlTG9hbi5kb3dubG9hZFNldHRsbWVudFJlY2VpcHQoeyBpZExvYW4sIHRva2VuIH0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNQZW5kaW5nTG9hbigpIHtcbiAgICAgICAgcmV0dXJuIGxvYW5MaXN0Py5zb21lKChsb2FuKSA9PiBsb2FuLmxvYW5TdGF0ZU5hbWU/LnRvVXBwZXJDYXNlKCkgPT09IExPQU5fUEVORElORyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRG93bmxvYWRMYXN0UmVjZWlwdChpZExvYW46IHN0cmluZykge1xuICAgICAgICBpZiAodG9rZW4pIGRpc3BhdGNoKEZldGNoZXJTbGljZUxvYW4uZG93bmxvYWRMYXN0UmVjZWlwdCh7IGlkTG9hbiwgdG9rZW4gfSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZURvd25sb2FkQ29udHJhY3RGaWxlKGlkTG9hbjogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0b2tlbikgZGlzcGF0Y2goRmV0Y2hlclNsaWNlTG9hbi5kb3dubG9hZENvbnRyYWN0RmlsZSh7IGlkTG9hbiwgdG9rZW4gfSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVBlcm1pc3Npb25SZWFkTG9hbihsb2FuSWQ6IHN0cmluZykge1xuICAgICAgICBpZiAocmVhZExvYW5Jc0F2YWlsaWFibGUpIGhhbmRsZUxvYW5EZXRhaWwobG9hbklkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RDYXJkcygpIHtcbiAgICAgICAgc2V0SXNDYXJkcyh0cnVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RMaXN0KCkge1xuICAgICAgICBzZXRJc0NhcmRzKGZhbHNlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcIkBwa2cvcmVhY3RcIjtcbmltcG9ydCB0eXBlIHtcbiAgICBIZWFkQ2VsbCxcbiAgICBUYWJsZURhdGFQcm9wLFxufSBmcm9tIFwiQGFwcC9iYW5jb24tdWkvZGlzdC9jb21wb25lbnRzL1RhYmxlL1RhYmxlTW9kZWxzL1RhYmxlTW9kZWxzLnR5cGVzXCI7XG5pbXBvcnQgeyB1c2VTZWxlY3RvciB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhXCI7XG5pbXBvcnQgeyBTZWxlY3RvclNsaWNlTG9hbiB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3NsaWNlcy9sb2FuXCI7XG5pbXBvcnQgeyBCYXNpY1RhYmxlIGFzIFRhYmxlIH0gZnJvbSBcIkBhcHAvYmFuY29uLXVpXCI7XG5pbXBvcnQgeyBFTVBUWV9TVFJJTkcsIEZJVkUsIFRXTywgWkVSTyB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgdXNlVGV4dCB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvVGV4dFwiO1xuaW1wb3J0IHsgRGF0ZVRpbWUgfSBmcm9tIFwiQGFwcC9iYW5jb3ItY29tcG9uZW50cy9FbGVtZW50L0RhdGVUaW1lXCI7XG5pbXBvcnQgeyBEYXRlRm9ybWF0cyB9IGZyb20gXCJAYXBwL2JhbmNvbi1kYXRhL3V0aWxzL2RhdGVcIjtcbmltcG9ydCB0eXBlIHsgT3BlcmF0aW9uT3B0aW9ucyB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvQ2FyZC9PcGVyYXRpb25cIjtcblxuaW1wb3J0IHsgRHJvcGRvd25CYXNpYyB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvRHJvcGRvd25CYXNpY1wiO1xuaW1wb3J0IHsgZm9ybWF0QW1vdW50IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2Ftb3VudEZvcm1hdHRlclwiO1xuXG5pbXBvcnQgUnVsZXMgZnJvbSBcIi4vX3J1bGVzLm1vZHVsZS5zY3NzXCI7XG5cbnR5cGUgUHJvcHMgPSB7XG4gICAgZ2V0T3BlcmF0aW9uT3B0aW9uczogKGxvYW5JZDogc3RyaW5nKSA9PiBPcGVyYXRpb25PcHRpb25zW107XG59O1xuXG5jb25zdCBoZWFkRGF0YUxvYW5EZXRhaWxTdGFydDogSGVhZENlbGxbXSA9IFtcbiAgICB7XG4gICAgICAgIGlkOiBcInByb2R1Y3RcIixcbiAgICAgICAgbGFiZWw6IFwic3BhLmxvYW5idC50YWJsZS5sb2FuXCIsXG4gICAgICAgIG51bWVyaWM6IGZhbHNlLFxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaWQ6IFwiYW1vdW50XCIsXG4gICAgICAgIGxhYmVsOiBcInNwYS5sb2Fucy5hbW91bnRcIixcbiAgICAgICAgbnVtZXJpYzogZmFsc2UsXG4gICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgIH0sXG4gICAge1xuICAgICAgICBpZDogXCJkYXRlXCIsXG4gICAgICAgIGxhYmVsOiBcInNwYS5sb2Fucy5kYXRlXCIsXG4gICAgICAgIG51bWVyaWM6IGZhbHNlLFxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICB9LFxuXTtcblxuY29uc3QgaGVhZERhdGFMb2FuRGV0YWlsRW5kOiBIZWFkQ2VsbFtdID0gW1xuICAgIHsgaWQ6IFwiYWN0aW9uc1wiLCBsYWJlbDogRU1QVFlfU1RSSU5HLCBudW1lcmljOiBmYWxzZSwgYWxpZ246IFwicmlnaHRcIiwgd2lkdGg6IEZJVkUgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRlbnVyZVRhYmxlKHByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHsgZ2V0T3BlcmF0aW9uT3B0aW9ucyB9ID0gcHJvcHM7XG4gICAgY29uc3QgbG9hbkxpc3QgPSB1c2VTZWxlY3RvcihTZWxlY3RvclNsaWNlTG9hbi5sb2FuTGlzdCk7XG4gICAgY29uc3QgeyB0ZXh0R2V0IH0gPSB1c2VUZXh0KCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8VGFibGVcbiAgICAgICAgICAgIGNsYXNzTmFtZT17UnVsZXMudGFibGV9XG4gICAgICAgICAgICBjbGFzc05hbWVDb250YWluZXI9e1J1bGVzLnRhYmxlQ29udGFpbmVyfVxuICAgICAgICAgICAgaGVhZERhdGE9e2hlYWRUZW51cmVEYXRhKCl9XG4gICAgICAgICAgICBpZD1cInRlbnVyZVwiXG4gICAgICAgICAgICByb3dzRGF0YT17Ym9keVRlbnVyZURhdGEoKX1cbiAgICAgICAgLz5cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gaGVhZFRlbnVyZURhdGEoKTogSGVhZENlbGxbXSB7XG4gICAgICAgIHJldHVybiBbLi4uaGVhZERhdGFMb2FuRGV0YWlsU3RhcnQsIC4uLmhlYWREYXRhTG9hbkRldGFpbEVuZF0ubWFwKChoZWFkKSA9PiAoe1xuICAgICAgICAgICAgLi4uaGVhZCxcbiAgICAgICAgICAgIGxhYmVsOiBoZWFkLmxhYmVsID09PSBFTVBUWV9TVFJJTkcgPyBFTVBUWV9TVFJJTkcgOiB0ZXh0R2V0KHsgdXVpZDogaGVhZC5sYWJlbCB9KSxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJvZHlUZW51cmVEYXRhKCk6IFRhYmxlRGF0YVByb3BbXSB7XG4gICAgICAgIHJldHVybiAobG9hbkxpc3QgfHwgW10pLm1hcChcbiAgICAgICAgICAgICh7IGxvYW5JZCwgbG9hblRvdGFsQW1vdW50LCBsb2FuQ3JlYXRpb25EYXRlLCBwcm9kdWN0TmFtZSB9KSA9PiAoe1xuICAgICAgICAgICAgICAgIGlkOiBsb2FuSWQsXG4gICAgICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdE5hbWUsXG4gICAgICAgICAgICAgICAgYW1vdW50OiBjdXN0b21Gb3JtYXRBbW91bnQobG9hblRvdGFsQW1vdW50KSxcbiAgICAgICAgICAgICAgICBkYXRlOiAoXG4gICAgICAgICAgICAgICAgICAgIDxEYXRlVGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZT17bG9hbkNyZWF0aW9uRGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFBhcmFtcz17eyBmb3JtYXQ6IERhdGVGb3JtYXRzLlNIT1JUIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb25zOiAoXG4gICAgICAgICAgICAgICAgICAgIDxEcm9wZG93bkJhc2ljXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXt0ZXh0R2V0KHsgdXVpZDogXCJzcGEuYTExeS5idXR0b25zLm9wdGlvbnNcIiB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e2dldERyb3Bkb3duSXRlbXMobG9hbklkKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3VzdG9tRm9ybWF0QW1vdW50KGFtb3VudD86IG51bWJlcikge1xuICAgICAgICByZXR1cm4gZm9ybWF0QW1vdW50KGFtb3VudCB8fCBaRVJPLCB7XG4gICAgICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IFRXTyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHJvcGRvd25JdGVtcyhsb2FuSWQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gZ2V0T3BlcmF0aW9uT3B0aW9ucyhsb2FuSWQpO1xuICAgIH1cbn1cbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxubW9kdWxlLmV4cG9ydHMgPSB7XCJOQU1FX1RIRU1FUExBVEZPUk1cIjpcIlRoZW1lUGxhdGZvcm1cIixcIlRZUEVfVEhFTUVQTEFURk9STVwiOlwiQnVuZGxlXCIsXCJOQU1FX0NPTlNVTUVSX1RIRU1FUExBVEZPUk1cIjpcIlRoZW1lUGxhdGZvcm1Db25zdW1lclwiLFwiVFlQRV9DT05TVU1FUl9USEVNRVBMQVRGT1JNXCI6XCJFbGVtZW50XCIsXCJOQU1FX1BST1ZJREVSX1RIRU1FUExBVEZPUk1cIjpcIlRoZW1lUGxhdGZvcm1Qcm92aWRlclwiLFwiVFlQRV9QUk9WSURFUl9USEVNRVBMQVRGT1JNXCI6XCJQcm92aWRlclwiLFwiTkFNRV9URVhUXCI6XCJUZXh0XCIsXCJUWVBFX1RFWFRcIjpcIkVsZW1lbnRcIixcIk5BTUVfWFNcIjpcInhzXCIsXCJOQU1FX1NNXCI6XCJzbVwiLFwiTkFNRV9NRFwiOlwibWRcIixcIk5BTUVfTEdcIjpcImxnXCIsXCJOQU1FX0FNT1VOVF9GT1JNQVRURVJcIjpcIkFtb3VudEZvcm1hdHRlclwiLFwiVFlQRV9BTU9VTlRfRk9STUFUVEVSXCI6XCJFbGVtZW50XCIsXCJOQU1FX0RBVEVUSU1FXCI6XCJEYXRlVGltZVwiLFwiVFlQRV9EQVRFVElNRVwiOlwiRWxlbWVudFwiLFwiTkFNRV9CVVRUT05cIjpcIkJ1dHRvblwiLFwiVFlQRV9CVVRUT05cIjpcIkVsZW1lbnRcIixcImludGVybmFsQ29udGFpbmVyXCI6XCJfcnVsZXNfaW50ZXJuYWxDb250YWluZXJfXzJfYkhXXCIsXCJ0aXRsZVwiOlwiX3J1bGVzX3RpdGxlX18zbGJKVVwiLFwic3VidGl0bGVcIjpcIl9ydWxlc19zdWJ0aXRsZV9fM29vMXNcIixcImNhcmRzTG9hblwiOlwiX3J1bGVzX2NhcmRzTG9hbl9fMWVFMk1cIixcInRhYmxlXCI6XCJfcnVsZXNfdGFibGVfXzFxSUVZXCIsXCJ0YWJsZUNvbnRhaW5lclwiOlwiX3J1bGVzX3RhYmxlQ29udGFpbmVyX18zWEhQSlwiLFwidGVudXJlSGVhZGVyXCI6XCJfcnVsZXNfdGVudXJlSGVhZGVyX19ySXdCdFwiLFwibG9hbkRldGFpbFwiOlwiX3J1bGVzX2xvYW5EZXRhaWxfXzN4Nk53XCIsXCJjYXJkc0RldGFpbFwiOlwiX3J1bGVzX2NhcmRzRGV0YWlsX18zei1uMlwiLFwiYW1vdW50XCI6XCJfcnVsZXNfYW1vdW50X18zekNVNVwiLFwic2VjdGlvbkFjY29yZGlvblwiOlwiX3J1bGVzX3NlY3Rpb25BY2NvcmRpb25fXzFlOHgxXCIsXCJjb250ZW50QWNjb3JkaW9uXCI6XCJfcnVsZXNfY29udGVudEFjY29yZGlvbl9fM3hUUlJcIixcImNhcmRMb2FuQW1vdW50XCI6XCJfcnVsZXNfY2FyZExvYW5BbW91bnRfXzJ4TTJWXCIsXCJ0YWJcIjpcIl9ydWxlc190YWJfX0FmMGpIXCIsXCJjb250ZW50SW5mb1wiOlwiX3J1bGVzX2NvbnRlbnRJbmZvX19KcHBpMlwiLFwidmFsdWVcIjpcIl9ydWxlc192YWx1ZV9fa2h6UzlcIixcImFjY29yZGlvblN1bW1hcnlcIjpcIl9ydWxlc19hY2NvcmRpb25TdW1tYXJ5X18zOWxfdlwiLFwidGl0bGVRdW90YXNcIjpcIl9ydWxlc190aXRsZVF1b3Rhc19fMUF3MU5cIixcInRhZ1F1b3Rhc1wiOlwiX3J1bGVzX3RhZ1F1b3Rhc19fMktfNVZcIixcImFjY29yZGlvbkRldGFpbHNcIjpcIl9ydWxlc19hY2NvcmRpb25EZXRhaWxzX18xNlRVdlwiLFwiY29udGVudFF1b3Rhc1wiOlwiX3J1bGVzX2NvbnRlbnRRdW90YXNfXzJZdXI3XCIsXCJ0YWJzSGVhZGVyXCI6XCJfcnVsZXNfdGFic0hlYWRlcl9fMm94YVhcIixcInRhZ1wiOlwiX3J1bGVzX3RhZ19fM3pXZXZcIixcInBpY3R1cmVOYW1lXCI6XCJfcnVsZXNfcGljdHVyZU5hbWVfXzJ0XzZpXCIsXCJtb2RhbEluc3RhbGxtZW50c1wiOlwiX3J1bGVzX21vZGFsSW5zdGFsbG1lbnRzX18yZGNOLVwiLFwibW9kYWxCb2R5XCI6XCJfcnVsZXNfbW9kYWxCb2R5X18zQzNtMlwiLFwibW9kYWxGb290ZXJcIjpcIl9ydWxlc19tb2RhbEZvb3Rlcl9fMl9XNWRcIn07IiwiaW1wb3J0IHsgVGV4dCB9IGZyb20gXCJAYXBwL2JhbmNvci1jb21wb25lbnRzL0VsZW1lbnQvVGV4dFwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJAcGtnL3JlYWN0XCI7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSBcIkBhcHAvYmFuY29uLXVpXCI7XG5pbXBvcnQgUnVsZXMgZnJvbSBcIi4vX3J1bGVzLm1vZHVsZS5zY3NzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBFcnJvclJvdXRlKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzTmFtZT17UnVsZXMuRXJyb3JSb3V0ZX0+XG4gICAgICAgICAgICA8SWNvbiBuYW1lPVwiZXJyb3JcIiBzaXplPVwieGxhcmdlXCIgc3Ryb2tlPVwiZ3JheS1saWdodFwiIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17UnVsZXMuRXJyb3JUZXh0fT5cbiAgICAgICAgICAgICAgICA8VGV4dCB0YWc9XCJoNlwiIHV1aWQ9XCJzcGEuZXJyb3Iucm91dGUudGl0bGVcIiAvPlxuICAgICAgICAgICAgICAgIDxUZXh0IHRhZz1cInBcIiB1dWlkPVwic3BhLmVycm9yLnJvdXRlLmJvZHlcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICApO1xufVxuIiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5tb2R1bGUuZXhwb3J0cyA9IHtcIk5BTUVfVEhFTUVQTEFURk9STVwiOlwiVGhlbWVQbGF0Zm9ybVwiLFwiVFlQRV9USEVNRVBMQVRGT1JNXCI6XCJCdW5kbGVcIixcIk5BTUVfQ09OU1VNRVJfVEhFTUVQTEFURk9STVwiOlwiVGhlbWVQbGF0Zm9ybUNvbnN1bWVyXCIsXCJUWVBFX0NPTlNVTUVSX1RIRU1FUExBVEZPUk1cIjpcIkVsZW1lbnRcIixcIk5BTUVfUFJPVklERVJfVEhFTUVQTEFURk9STVwiOlwiVGhlbWVQbGF0Zm9ybVByb3ZpZGVyXCIsXCJUWVBFX1BST1ZJREVSX1RIRU1FUExBVEZPUk1cIjpcIlByb3ZpZGVyXCIsXCJOQU1FX1RFWFRcIjpcIlRleHRcIixcIlRZUEVfVEVYVFwiOlwiRWxlbWVudFwiLFwiRXJyb3JSb3V0ZVwiOlwiX3J1bGVzX0Vycm9yUm91dGVfXzJ4eEZRXCIsXCJFcnJvclRleHRcIjpcIl9ydWxlc19FcnJvclRleHRfXzMxRl84XCJ9OyJdLCJzb3VyY2VSb290IjoiIn0=
//# sourceMappingURL=99.bb7aae56.chunk.js.map