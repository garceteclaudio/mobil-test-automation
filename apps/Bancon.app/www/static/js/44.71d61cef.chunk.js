/*! For license information please see 44.71d61cef.chunk.js.LICENSE.txt */
(this["webpackJsonp@app/bancon"]=this["webpackJsonp@app/bancon"]||[]).push([[44],{793:function(e,t,n){!function(e){"use strict";var t=function(e){return e instanceof HTMLElement},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Object.assign({},e),o=[],i=[],a=function(){var e=[].concat(i);i.length=0,e.forEach((function(e){var t=e.type,n=e.data;u(t,n)}))},u=function(e,t,n){!n||document.hidden?(f[e]&&f[e](t),o.push({type:e,data:t})):i.push({type:e,data:t})},s=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return c[e]?(t=c)[e].apply(t,r):null},l={getState:function(){return Object.assign({},r)},processActionQueue:function(){var e=[].concat(o);return o.length=0,e},processDispatchQueue:a,dispatch:u,query:s},c={};t.forEach((function(e){c=Object.assign({},e(r),{},c)}));var f={};return n.forEach((function(e){f=Object.assign({},e(u,s,r),{},f)})),l},r=function(e,t,n){"function"!==typeof n?Object.defineProperty(e,t,Object.assign({},n)):e[t]=n},o=function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},i=function(e){var t={};return o(e,(function(n){r(t,n,e[n])})),t},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},u="http://www.w3.org/2000/svg",s=["svg","path"],l=function(e){return s.includes(e)},c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===typeof t&&(n=t,t=null);var r=l(e)?document.createElementNS(u,e):document.createElement(e);return t&&(l(e)?a(r,"class",t):r.className=t),o(n,(function(e,t){a(r,e,t)})),r},f=function(e){return function(t,n){"undefined"!==typeof n&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)}},d=function(e,t){return function(e,n){return"undefined"!==typeof n?t.splice(n,0,e):t.push(e),e}},p=function(e,t){return function(n){return t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n}},E="undefined"!==typeof window&&"undefined"!==typeof window.document,_=function(){return E},T="children"in(_()?c("svg"):{})?function(e){return e.children.length}:function(e){return e.childNodes.length},I=function(e,t,n,r){var o=n[0]||e.left,i=n[1]||e.top,a=o+e.width,u=i+e.height*(r[1]||1),s={element:Object.assign({},e),inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:i,right:a,bottom:u}};return t.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){v(s.inner,Object.assign({},e.inner)),v(s.outer,Object.assign({},e.outer))})),m(s.inner),s.outer.bottom+=s.element.marginBottom,s.outer.right+=s.element.marginRight,m(s.outer),s},v=function(e,t){t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},m=function(e){e.width=e.right-e.left,e.height=e.bottom-e.top},h=function(e){return"number"===typeof e},g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(e-t)<r&&Math.abs(n)<r},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiffness,n=void 0===t?.5:t,r=e.damping,o=void 0===r?.75:r,a=e.mass,u=void 0===a?10:a,s=null,l=null,c=0,f=!1,d=i({interpolate:function(e,t){if(!f){if(!h(s)||!h(l))return f=!0,void(c=0);g(l+=c+=-(l-s)*n/u,s,c*=o)||t?(l=s,c=0,f=!0,d.onupdate(l),d.oncomplete(l)):d.onupdate(l)}},target:{set:function(e){if(h(e)&&!h(l)&&(l=e),null===s&&(s=e,l=e),l===(s=e)||"undefined"===typeof s)return f=!0,c=0,d.onupdate(l),void d.oncomplete(l);f=!1},get:function(){return s}},resting:{get:function(){return f}},onupdate:function(e){},oncomplete:function(e){}});return d},O=function(e){return e<.5?2*e*e:(4-2*e)*e-1},y=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.duration,o=void 0===r?500:r,a=n.easing,u=void 0===a?O:a,s=n.delay,l=void 0===s?0:s,c=null,f=!0,d=!1,p=null,E=i({interpolate:function(n,r){f||null===p||(null===c&&(c=n),n-c<l||((e=n-c-l)>=o||r?(e=1,t=d?0:1,E.onupdate(t*p),E.oncomplete(t*p),f=!0):(t=e/o,E.onupdate((e>=0?u(d?1-t:t):0)*p))))},target:{get:function(){return d?0:p},set:function(e){if(null===p)return p=e,E.onupdate(e),void E.oncomplete(e);e<p?(p=1,d=!0):(d=!1,p=e),f=!1,c=null}},resting:{get:function(){return f}},onupdate:function(e){},oncomplete:function(e){}});return E},D={spring:R,tween:y},S=function(e,t,n){var r=e[t]&&"object"===typeof e[t][n]?e[t][n]:e[t]||e,o="string"===typeof r?r:r.type,i="object"===typeof r?Object.assign({},r):{};return D[o]?D[o](i):null},A=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(t=Array.isArray(t)?t:[t]).forEach((function(t){e.forEach((function(e){var o=e,i=function(){return n[e]},a=function(t){return n[e]=t};"object"===typeof e&&(o=e.key,i=e.getter||i,a=e.setter||a),t[o]&&!r||(t[o]={get:i,set:a})}))}))},L=function(e){return function(t,n){e.addEventListener(t,n)}},b=function(e){return function(t,n){e.removeEventListener(t,n)}},P=function(e){return null!=e},M={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},N=function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,o=e.viewExternalAPI,i=e.view,a=Object.assign({},n),u={};A(t,[r,o],n);var s=function(){return[n.translateX||0,n.translateY||0]},l=function(){return[n.scaleX||0,n.scaleY||0]},c=function(){return i.rect?I(i.rect,i.childViews,s(),l()):null};return r.rect={get:c},o.rect={get:c},t.forEach((function(e){n[e]="undefined"===typeof a[e]?M[e]:a[e]})),{write:function(){if(w(u,n))return C(i.element,n),Object.assign(u,Object.assign({},n)),!0},destroy:function(){}}},w=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!0;for(var n in t)if(t[n]!==e[n])return!0;return!1},C=function(e,t){var n=t.opacity,r=t.perspective,o=t.translateX,i=t.translateY,a=t.scaleX,u=t.scaleY,s=t.rotateX,l=t.rotateY,c=t.rotateZ,f=t.originX,d=t.originY,p=t.width,E=t.height,_="",T="";(P(f)||P(d))&&(T+="transform-origin: "+(f||0)+"px "+(d||0)+"px;"),P(r)&&(_+="perspective("+r+"px) "),(P(o)||P(i))&&(_+="translate3d("+(o||0)+"px, "+(i||0)+"px, 0) "),(P(a)||P(u))&&(_+="scale3d("+(P(a)?a:1)+", "+(P(u)?u:1)+", 1) "),P(c)&&(_+="rotateZ("+c+"rad) "),P(s)&&(_+="rotateX("+s+"rad) "),P(l)&&(_+="rotateY("+l+"rad) "),_.length&&(T+="transform:"+_+";"),P(n)&&(T+="opacity:"+n+";",0===n&&(T+="visibility:hidden;"),n<1&&(T+="pointer-events:none;")),P(E)&&(T+="height:"+E+"px;"),P(p)&&(T+="width:"+p+"px;");var I=e.elementCurrentStyle||"";T.length===I.length&&T===I||(e.style.cssText=T,e.elementCurrentStyle=T)},G={styles:N,listeners:function(e){e.mixinConfig,e.viewProps,e.viewInternalAPI;var t=e.viewExternalAPI,n=(e.viewState,e.view),r=[],o=L(n.element),i=b(n.element);return t.on=function(e,t){r.push({type:e,fn:t}),o(e,t)},t.off=function(e,t){r.splice(r.findIndex((function(n){return n.type===e&&n.fn===t})),1),i(e,t)},{write:function(){return!0},destroy:function(){r.forEach((function(e){i(e.type,e.fn)}))}}},animations:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewInternalAPI,i=e.viewExternalAPI,a=Object.assign({},n),u=[];return o(t,(function(e,t){var o=S(t);o&&(o.onupdate=function(t){n[e]=t},o.target=a[e],A([{key:e,setter:function(e){o.target!==e&&(o.target=e)},getter:function(){return n[e]}}],[r,i],n,!0),u.push(o))})),{write:function(e){var t=document.hidden,n=!0;return u.forEach((function(r){r.resting||(n=!1),r.interpolate(e,t)})),n},destroy:function(){}}},apis:function(e){var t=e.mixinConfig,n=e.viewProps,r=e.viewExternalAPI;A(t,r,n)}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=null===t.offsetParent,e},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tag,n=void 0===t?"div":t,r=e.name,o=void 0===r?null:r,a=e.attributes,u=void 0===a?{}:a,s=e.read,l=void 0===s?function(){}:s,E=e.write,_=void 0===E?function(){}:E,v=e.create,m=void 0===v?function(){}:v,h=e.destroy,g=void 0===h?function(){}:h,R=e.filterFrameActionsForChild,O=void 0===R?function(e,t){return t}:R,y=e.didCreateView,D=void 0===y?function(){}:y,S=e.didWriteView,A=void 0===S?function(){}:S,L=e.ignoreRect,b=void 0!==L&&L,P=e.ignoreRectUpdate,M=void 0!==P&&P,N=e.mixins,w=void 0===N?[]:N;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=c(n,"filepond--"+o,u),a=window.getComputedStyle(r,null),s=U(),E=null,v=!1,h=[],R=[],y={},S={},L=[_],P=[l],N=[g],C=function(){return r},B=function(){return h.concat()},F=function(){return y},q=function(e){return function(t,n){return t(e,n)}},V=function(){return E||(E=I(s,h,[0,0],[1,1]))},x=function(){E=null,h.forEach((function(e){return e._read()})),!(M&&s.width&&s.height)&&U(s,r,a);var e={root:z,props:t,rect:s};P.forEach((function(t){return t(e)}))},Y=function(e,n,r){var o=0===n.length;return L.forEach((function(i){!1===i({props:t,root:z,actions:n,timestamp:e,shouldOptimize:r})&&(o=!1)})),R.forEach((function(t){!1===t.write(e)&&(o=!1)})),h.filter((function(e){return!!e.element.parentNode})).forEach((function(t){t._write(e,O(t,n),r)||(o=!1)})),h.forEach((function(t,i){t.element.parentNode||(z.appendChild(t.element,i),t._read(),t._write(e,O(t,n),r),o=!1)})),v=o,A({props:t,root:z,actions:n,timestamp:e}),o},k=function(){R.forEach((function(e){return e.destroy()})),N.forEach((function(e){e({root:z,props:t})})),h.forEach((function(e){return e._destroy()}))},j={element:{get:C},style:{get:function(){return a}},childViews:{get:B}},H=Object.assign({},j,{rect:{get:V},ref:{get:F},is:function(e){return o===e},appendChild:f(r),createChildView:q(e),linkView:function(e){return h.push(e),e},unlinkView:function(e){h.splice(h.indexOf(e),1)},appendChildView:d(r,h),removeChildView:p(r,h),registerWriter:function(e){return L.push(e)},registerReader:function(e){return P.push(e)},registerDestroyer:function(e){return N.push(e)},invalidateLayout:function(){return r.layoutCalculated=!1},dispatch:e.dispatch,query:e.query}),W={element:{get:C},childViews:{get:B},rect:{get:V},resting:{get:function(){return v}},isRectIgnored:function(){return b},_read:x,_write:Y,_destroy:k},X=Object.assign({},j,{rect:{get:function(){return s}}});Object.keys(w).sort((function(e,t){return"styles"===e?1:"styles"===t?-1:0})).forEach((function(e){var n=G[e]({mixinConfig:w[e],viewProps:t,viewState:S,viewInternalAPI:H,viewExternalAPI:W,view:i(X)});n&&R.push(n)}));var z=i(H);m({root:z,props:t});var Q=T(r);return h.forEach((function(e,t){z.appendChild(e.element,Q+t)})),D(z),i(W)}},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r="__framePainter";if(window[r])return window[r].readers.push(e),void window[r].writers.push(t);window[r]={readers:[e],writers:[t]};var o=window[r],i=1e3/n,a=null,u=null,s=null,l=null,c=function(){document.hidden?(s=function(){return window.setTimeout((function(){return f(performance.now())}),i)},l=function(){return window.clearTimeout(u)}):(s=function(){return window.requestAnimationFrame(f)},l=function(){return window.cancelAnimationFrame(u)})};document.addEventListener("visibilitychange",(function(){l&&l(),c(),f(performance.now())}));var f=function e(t){u=s(e),a||(a=t);var n=t-a;n<=i||(a=t-n%i,o.readers.forEach((function(e){return e()})),o.writers.forEach((function(e){return e(t)})))};return c(),f(performance.now()),{pause:function(){l(u)}}},q=function(e,t){return function(n){var r=n.root,o=n.props,i=n.actions,a=void 0===i?[]:i,u=n.timestamp,s=n.shouldOptimize;a.filter((function(t){return e[t.type]})).forEach((function(t){return e[t.type]({root:r,props:o,action:t.data,timestamp:u,shouldOptimize:s})})),t&&t({root:r,props:o,actions:a,timestamp:u,shouldOptimize:s})}},V=function(e,t){return t.parentNode.insertBefore(e,t)},x=function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},Y=function(e){return Array.isArray(e)},k=function(e){return null==e},j=function(e){return e.trim()},H=function(e){return""+e},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return k(e)?[]:Y(e)?e:H(e).split(t).map(j).filter((function(e){return e.length}))},X=function(e){return"boolean"===typeof e},z=function(e){return X(e)?e:"true"===e},Q=function(e){return"string"===typeof e},Z=function(e){return h(e)?e:Q(e)?H(e).replace(/[a-z]+/gi,""):0},K=function(e){return parseInt(Z(e),10)},$=function(e){return parseFloat(Z(e))},J=function(e){return h(e)&&isFinite(e)&&Math.floor(e)===e},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(J(e))return e;var n=H(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),K(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),K(n)*t):K(n)},te=function(e){return"function"===typeof e},ne=function(e){for(var t=self,n=e.split("."),r=null;r=n.shift();)if(!(t=t[r]))return null;return t},re={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},oe=function(e){var t={};return t.url=Q(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},o(re,(function(n){t[n]=ie(n,e[n],re[n],t.timeout,t.headers)})),t.process=e.process||Q(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},ie=function(e,t,n,r,o){if(null===t)return null;if("function"===typeof t)return t;var i={url:"GET"===n||"PATCH"===n?"?"+e+"=":"",method:n,headers:o,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(Q(t))return i.url=t,i;if(Object.assign(i,t),Q(i.headers)){var a=i.headers.split(/:(.+)/);i.headers={header:a[0],value:a[1]}}return i.withCredentials=z(i.withCredentials),i},ae=function(e){return null===e},ue=function(e){return"object"===typeof e&&null!==e},se=function(e){return ue(e)&&Q(e.url)&&ue(e.process)&&ue(e.revert)&&ue(e.restore)&&ue(e.fetch)},le=function(e){return Y(e)?"array":ae(e)?"null":J(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":se(e)?"api":typeof e},ce=function(e){return e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')},fe={array:W,boolean:z,int:function(e){return"bytes"===le(e)?ee(e):K(e)},number:$,float:$,bytes:ee,string:function(e){return te(e)?e:H(e)},function:function(e){return ne(e)},serverapi:function(e){return oe(e)},object:function(e){try{return JSON.parse(ce(e))}catch(t){return null}}},de=function(e,t){return fe[t](e)},pe=function(e,t,n){if(e===t)return e;var r=le(e);if(r!==n){var o=de(e,n);if(r=le(o),null===o)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';e=o}return e},Ee=function(e,t){var n=e;return{enumerable:!0,get:function(){return n},set:function(r){n=pe(r,e,t)}}},_e=function(e){var t={};return o(e,(function(n){var r=e[n];t[n]=Ee(r[0],r[1])})),i(t)},Te=function(e){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:_e(e)}},Ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(t)},ve=function(e,t){var n={};return o(t,(function(t){n[t]={get:function(){return e.getState().options[t]},set:function(n){e.dispatch("SET_"+Ie(t,"_").toUpperCase(),{value:n})}}})),n},me=function(e){return function(t,n,r){var i={};return o(e,(function(e){var n=Ie(e,"_").toUpperCase();i["SET_"+n]=function(o){try{r.options[e]=o.value}catch(i){}t("DID_SET_"+n,{value:r.options[e]})}})),i}},he=function(e){return function(t){var n={};return o(e,(function(e){n["GET_"+Ie(e,"_").toUpperCase()]=function(n){return t.options[e]}})),n}},ge={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Re=function(){return Math.random().toString(36).substring(2,11)};function Oe(e){this.wrapped=e}function ye(e){var t,n;function r(e,r){return new Promise((function(i,a){var u={key:e,arg:r,resolve:i,reject:a,next:null};n?n=n.next=u:(t=n=u,o(e,r))}))}function o(t,n){try{var r=e[t](n),a=r.value,u=a instanceof Oe;Promise.resolve(u?a.wrapped:a).then((function(e){u?o("next",e):i(r.done?"return":"normal",e)}),(function(e){o("throw",e)}))}catch(s){i("throw",s)}}function i(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=r,"function"!==typeof e.return&&(this.return=void 0)}function De(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Se(e,t){if(null==e)return{};var n,r,o=De(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ae(e){return Le(e)||be(e)||Pe()}function Le(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function be(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function Pe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}"function"===typeof Symbol&&Symbol.asyncIterator&&(ye.prototype[Symbol.asyncIterator]=function(){return this}),ye.prototype.next=function(e){return this._invoke("next",e)},ye.prototype.throw=function(e){return this._invoke("throw",e)},ye.prototype.return=function(e){return this._invoke("return",e)};var Me=function(e,t){return e.splice(t,1)},Ne=function(e,t){t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},we=function(){var e=[],t=function(t,n){Me(e,e.findIndex((function(e){return e.event===t&&(e.cb===n||!n)})))},n=function(t,n,r){e.filter((function(e){return e.event===t})).map((function(e){return e.cb})).forEach((function(e){return Ne((function(){return e.apply(void 0,Ae(n))}),r)}))};return{fireSync:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!0)},fire:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n(e,r,!1)},on:function(t,n){e.push({event:t,cb:n})},onOnce:function(n,r){e.push({event:n,cb:function(){t(n,r),r.apply(void 0,arguments)}})},off:t}},Ce=function(e,t,n){Object.getOwnPropertyNames(e).filter((function(e){return!n.includes(e)})).forEach((function(n){return Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))},Ge=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Ue=function(e){var t={};return Ce(e,t,Ge),t},Be=function(e){e.forEach((function(t,n){t.released&&Me(e,n)}))},Fe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},qe={INPUT:1,LIMBO:2,LOCAL:3},Ve=function(e){return/[^0-9]+/.exec(e)},xe=function(){return Ve(1.1.toLocaleString())[0]},Ye=function(){var e=xe(),t=1e3.toLocaleString();return t!==1e3.toString()?Ve(t)[0]:"."===e?",":"."},ke={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},je=[],He=function(e,t,n){return new Promise((function(r,o){var i=je.filter((function(t){return t.key===e})).map((function(e){return e.cb}));if(0!==i.length){var a=i.shift();i.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),a(t,n)).then((function(e){return r(e)})).catch((function(e){return o(e)}))}else r(t)}))},We=function(e,t,n){return je.filter((function(t){return t.key===e})).map((function(e){return e.cb(t,n)}))},Xe=function(e,t){return je.push({key:e,cb:t})},ze=function(e){return Object.assign(Ke,e)},Qe=function(){return Object.assign({},Ke)},Ze=function(e){o(e,(function(e,t){Ke[e]&&(Ke[e][0]=pe(t,Ke[e][0],Ke[e][1]))}))},Ke={id:[null,ke.STRING],name:["filepond",ke.STRING],disabled:[!1,ke.BOOLEAN],className:[null,ke.STRING],required:[!1,ke.BOOLEAN],captureMethod:[null,ke.STRING],allowSyncAcceptAttribute:[!0,ke.BOOLEAN],allowDrop:[!0,ke.BOOLEAN],allowBrowse:[!0,ke.BOOLEAN],allowPaste:[!0,ke.BOOLEAN],allowMultiple:[!1,ke.BOOLEAN],allowReplace:[!0,ke.BOOLEAN],allowRevert:[!0,ke.BOOLEAN],allowRemove:[!0,ke.BOOLEAN],allowProcess:[!0,ke.BOOLEAN],allowReorder:[!1,ke.BOOLEAN],allowDirectoriesOnly:[!1,ke.BOOLEAN],storeAsFile:[!1,ke.BOOLEAN],forceRevert:[!1,ke.BOOLEAN],maxFiles:[null,ke.INT],checkValidity:[!1,ke.BOOLEAN],itemInsertLocationFreedom:[!0,ke.BOOLEAN],itemInsertLocation:["before",ke.STRING],itemInsertInterval:[75,ke.INT],dropOnPage:[!1,ke.BOOLEAN],dropOnElement:[!0,ke.BOOLEAN],dropValidation:[!1,ke.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],ke.ARRAY],instantUpload:[!0,ke.BOOLEAN],maxParallelUploads:[2,ke.INT],allowMinimumUploadDuration:[!0,ke.BOOLEAN],chunkUploads:[!1,ke.BOOLEAN],chunkForce:[!1,ke.BOOLEAN],chunkSize:[5e6,ke.INT],chunkRetryDelays:[[500,1e3,3e3],ke.ARRAY],server:[null,ke.SERVER_API],fileSizeBase:[1e3,ke.INT],labelFileSizeBytes:["bytes",ke.STRING],labelFileSizeKilobytes:["KB",ke.STRING],labelFileSizeMegabytes:["MB",ke.STRING],labelFileSizeGigabytes:["GB",ke.STRING],labelDecimalSeparator:[xe(),ke.STRING],labelThousandsSeparator:[Ye(),ke.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',ke.STRING],labelInvalidField:["Field contains invalid files",ke.STRING],labelFileWaitingForSize:["Waiting for size",ke.STRING],labelFileSizeNotAvailable:["Size not available",ke.STRING],labelFileCountSingular:["file in list",ke.STRING],labelFileCountPlural:["files in list",ke.STRING],labelFileLoading:["Loading",ke.STRING],labelFileAdded:["Added",ke.STRING],labelFileLoadError:["Error during load",ke.STRING],labelFileRemoved:["Removed",ke.STRING],labelFileRemoveError:["Error during remove",ke.STRING],labelFileProcessing:["Uploading",ke.STRING],labelFileProcessingComplete:["Upload complete",ke.STRING],labelFileProcessingAborted:["Upload cancelled",ke.STRING],labelFileProcessingError:["Error during upload",ke.STRING],labelFileProcessingRevertError:["Error during revert",ke.STRING],labelTapToCancel:["tap to cancel",ke.STRING],labelTapToRetry:["tap to retry",ke.STRING],labelTapToUndo:["tap to undo",ke.STRING],labelButtonRemoveItem:["Remove",ke.STRING],labelButtonAbortItemLoad:["Abort",ke.STRING],labelButtonRetryItemLoad:["Retry",ke.STRING],labelButtonAbortItemProcessing:["Cancel",ke.STRING],labelButtonUndoItemProcessing:["Undo",ke.STRING],labelButtonRetryItemProcessing:["Retry",ke.STRING],labelButtonProcessItem:["Upload",ke.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',ke.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',ke.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',ke.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',ke.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',ke.STRING],oninit:[null,ke.FUNCTION],onwarning:[null,ke.FUNCTION],onerror:[null,ke.FUNCTION],onactivatefile:[null,ke.FUNCTION],oninitfile:[null,ke.FUNCTION],onaddfilestart:[null,ke.FUNCTION],onaddfileprogress:[null,ke.FUNCTION],onaddfile:[null,ke.FUNCTION],onprocessfilestart:[null,ke.FUNCTION],onprocessfileprogress:[null,ke.FUNCTION],onprocessfileabort:[null,ke.FUNCTION],onprocessfilerevert:[null,ke.FUNCTION],onprocessfile:[null,ke.FUNCTION],onprocessfiles:[null,ke.FUNCTION],onremovefile:[null,ke.FUNCTION],onpreparefile:[null,ke.FUNCTION],onupdatefiles:[null,ke.FUNCTION],onreorderfiles:[null,ke.FUNCTION],beforeDropFile:[null,ke.FUNCTION],beforeAddFile:[null,ke.FUNCTION],beforeRemoveFile:[null,ke.FUNCTION],beforePrepareFile:[null,ke.FUNCTION],stylePanelLayout:[null,ke.STRING],stylePanelAspectRatio:[null,ke.STRING],styleItemPanelAspectRatio:[null,ke.STRING],styleButtonRemoveItemPosition:["left",ke.STRING],styleButtonProcessItemPosition:["right",ke.STRING],styleLoadIndicatorPosition:["right",ke.STRING],styleProgressIndicatorPosition:["right",ke.STRING],styleButtonRemoveItemAlign:[!1,ke.BOOLEAN],files:[[],ke.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],ke.ARRAY]},$e=function(e,t){return k(t)?e[0]||null:J(t)?e[t]||null:("object"===typeof t&&(t=t.id),e.find((function(e){return e.id===t}))||null)},Je=function(e){if(k(e))return e;if(/:/.test(e)){var t=e.split(":");return t[1]/t[0]}return parseFloat(e)},et=function(e){return e.filter((function(e){return!e.archived}))},tt={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},nt=null,rt=function(){if(null===nt)try{var e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));var t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,nt=1===t.files.length}catch(n){nt=!1}return nt},ot=[Fe.LOAD_ERROR,Fe.PROCESSING_ERROR,Fe.PROCESSING_REVERT_ERROR],it=[Fe.LOADING,Fe.PROCESSING,Fe.PROCESSING_QUEUED,Fe.INIT],at=[Fe.PROCESSING_COMPLETE],ut=function(e){return ot.includes(e.status)},st=function(e){return it.includes(e.status)},lt=function(e){return at.includes(e.status)},ct=function(e){return ue(e.options.server)&&(ue(e.options.server.process)||te(e.options.server.process))},ft=function(e){return{GET_STATUS:function(){var t=et(e.items),n=tt.EMPTY,r=tt.ERROR,o=tt.BUSY,i=tt.IDLE,a=tt.READY;return 0===t.length?n:t.some(ut)?r:t.some(st)?o:t.some(lt)?a:i},GET_ITEM:function(t){return $e(e.items,t)},GET_ACTIVE_ITEM:function(t){return $e(et(e.items),t)},GET_ACTIVE_ITEMS:function(){return et(e.items)},GET_ITEMS:function(){return e.items},GET_ITEM_NAME:function(t){var n=$e(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:function(t){var n=$e(e.items,t);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(e.options).filter((function(e){return/^style/.test(e)})).map((function(t){return{name:t,value:e.options[t]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(e.options.stylePanelLayout)?1:Je(e.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return e.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(t){return et(e.items).filter((function(e){return e.status===t}))},GET_TOTAL_ITEMS:function(){return et(e.items).length},SHOULD_UPDATE_FILE_INPUT:function(){return e.options.storeAsFile&&rt()&&!ct(e)},IS_ASYNC:function(){return ct(e)},GET_FILE_SIZE_LABELS:function(e){return{labelBytes:e("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:e("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:e("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:e("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0}}}},dt=function(e){var t=et(e.items).length;if(!e.options.allowMultiple)return 0===t;var n=e.options.maxFiles;return null===n||t<n},pt=function(e,t,n){return Math.max(Math.min(n,e),t)},Et=function(e,t,n){return e.splice(t,0,n)},_t=function(e,t,n){return k(t)?null:"undefined"===typeof n?(e.push(t),t):(n=pt(n,0,e.length),Et(e,n,t),t)},Tt=function(e){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e)},It=function(e){return e.split("/").pop().split("?").shift()},vt=function(e){return e.split(".").pop()},mt=function(e){if("string"!==typeof e)return"";var t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?"jpeg"===t?"jpg":t:""},ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(t+e).slice(-t.length)},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return e.getFullYear()+"-"+ht(e.getMonth()+1,"00")+"-"+ht(e.getDate(),"00")+"_"+ht(e.getHours(),"00")+"-"+ht(e.getMinutes(),"00")+"-"+ht(e.getSeconds(),"00")},Rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="string"===typeof n?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),Q(t)||(t=gt()),t&&null===r&&vt(t)?o.name=t:(r=r||mt(o.type),o.name=t+(r?"."+r:"")),o},Ot=function(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder},yt=function(e,t){var n=Ot();if(n){var r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},Dt=function(e,t){for(var n=new ArrayBuffer(e.length),r=new Uint8Array(n),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return yt(n,t)},St=function(e){return(/^data:(.+);/.exec(e)||[])[1]||null},At=function(e){return e.split(",")[1].replace(/\s/g,"")},Lt=function(e){return atob(At(e))},bt=function(e){var t=St(e),n=Lt(e);return Dt(n,t)},Pt=function(e,t,n){return Rt(bt(e),t,null,n)},Mt=function(e){if(!/^content-disposition:/i.test(e))return null;var t=e.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return t.length?decodeURI(t[t.length-1]):null},Nt=function(e){if(/content-length:/i.test(e)){var t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},wt=function(e){return/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null},Ct=function(e){var t={source:null,name:null,size:null},n=e.split("\n"),r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,l=Mt(s);if(l)t.name=l;else{var c=Nt(s);if(c)t.size=c;else{var f=wt(s);f&&(t.source=f)}}}}catch(d){o=!0,i=d}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return t},Gt=function(e){var t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(){return t.progress},r=function(){t.request&&t.request.abort&&t.request.abort()},o=function(){var e=t.source;a.fire("init",e),e instanceof File?a.fire("load",e):e instanceof Blob?a.fire("load",Rt(e,e.name)):Tt(e)?a.fire("load",Pt(e)):i(e)},i=function(n){e?(t.timestamp=Date.now(),t.request=e(n,(function(e){t.duration=Date.now()-t.timestamp,t.complete=!0,e instanceof Blob&&(e=Rt(e,e.name||It(n))),a.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){a.fire("error","string"===typeof e?{type:"error",code:0,body:e}:e)}),(function(e,n,r){r&&(t.size=r),t.duration=Date.now()-t.timestamp,e?(t.progress=n/r,a.fire("progress",t.progress)):t.progress=null}),(function(){a.fire("abort")}),(function(e){var n=Ct("string"===typeof e?e:e.headers);a.fire("meta",{size:t.size||n.size,filename:n.name,source:n.source})}))):a.fire("error",{type:"error",body:"Can't load URL",code:400})},a=Object.assign({},we(),{setSource:function(e){return t.source=e},getProgress:n,abort:r,load:o});return a},Ut=function(e){return/GET|HEAD/.test(e)},Bt=function(e,t,n){var r={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){o=!0,a.abort()}},o=!1,i=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),t=encodeURI(t),Ut(n.method)&&e&&(t=""+t+encodeURIComponent("string"===typeof e?e:JSON.stringify(e)));var a=new XMLHttpRequest;return(Ut(n.method)?a:a.upload).onprogress=function(e){o||r.onprogress(e.lengthComputable,e.loaded,e.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||i||(i=!0,r.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?r.onload(a):r.onerror(a)},a.onerror=function(){return r.onerror(a)},a.onabort=function(){o=!0,r.onabort()},a.ontimeout=function(){return r.ontimeout(a)},a.open(n.method,t,!0),J(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));a.setRequestHeader(e,t)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(e),r},Ft=function(e,t,n,r){return{type:e,code:t,body:n,headers:r}},qt=function(e){return function(t){e(Ft("error",0,"Timeout",t.getAllResponseHeaders()))}},Vt=function(e){return/\?/.test(e)},xt=function(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e+=Vt(e)&&Vt(t)?t.replace(/\?/,"&"):t})),e},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"===typeof t)return t;if(!t||!Q(t.url))return null;var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a,u,s,l){var c=Bt(o,xt(e,t.url),Object.assign({},t,{responseType:"blob"}));return c.onload=function(e){var r=e.getAllResponseHeaders(),a=Ct(r).name||It(o);i(Ft("load",e.status,"HEAD"===t.method?null:Rt(n(e.response),a),r))},c.onerror=function(e){a(Ft("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},c.onheaders=function(e){l(Ft("headers",e.status,null,e.getAllResponseHeaders()))},c.ontimeout=qt(a),c.onprogress=u,c.onabort=s,c}},kt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},jt=function(e,t,n,r,o,i,a,u,s,l,c){for(var f=[],d=c.chunkTransferId,p=c.chunkServer,E=c.chunkSize,_=c.chunkRetryDelays,T={serverId:d,aborted:!1},I=t.ondata||function(e){return e},v=t.onload||function(e,t){return"HEAD"===t?e.getResponseHeader("Upload-Offset"):e.response},m=t.onerror||function(e){return null},h=function(i){var u=new FormData;ue(o)&&u.append(n,JSON.stringify(o));var s="function"===typeof t.headers?t.headers(r,o):Object.assign({},t.headers,{"Upload-Length":r.size}),l=Object.assign({},t,{headers:s}),c=Bt(I(u),xt(e,t.url),l);c.onload=function(e){return i(v(e,l.method))},c.onerror=function(e){return a(Ft("error",e.status,m(e.response)||e.statusText,e.getAllResponseHeaders()))},c.ontimeout=qt(a)},g=function(n){var r=xt(e,p.url,T.serverId),o={headers:"function"===typeof t.headers?t.headers(T.serverId):Object.assign({},t.headers),method:"HEAD"},i=Bt(null,r,o);i.onload=function(e){return n(v(e,o.method))},i.onerror=function(e){return a(Ft("error",e.status,m(e.response)||e.statusText,e.getAllResponseHeaders()))},i.ontimeout=qt(a)},R=Math.floor(r.size/E),O=0;O<=R;O++){var y=O*E,D=r.slice(y,y+E,"application/offset+octet-stream");f[O]={index:O,size:D.size,offset:y,data:D,file:r,progress:0,retries:Ae(_),status:kt.QUEUED,error:null,request:null,timeout:null}}var S=function(){return i(T.serverId)},A=function(e){return e.status===kt.QUEUED||e.status===kt.ERROR},L=function(t){if(!T.aborted)if(t=t||f.find(A)){t.status=kt.PROCESSING,t.progress=null;var n=p.ondata||function(e){return e},o=p.onerror||function(e){return null},i=xt(e,p.url,T.serverId),u="function"===typeof p.headers?p.headers(t):Object.assign({},p.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":t.offset,"Upload-Length":r.size,"Upload-Name":r.name}),l=t.request=Bt(n(t.data),i,Object.assign({},p,{headers:u}));l.onload=function(){t.status=kt.COMPLETE,t.request=null,M()},l.onprogress=function(e,n,r){t.progress=e?n:null,P()},l.onerror=function(e){t.status=kt.ERROR,t.request=null,t.error=o(e.response)||e.statusText,b(t)||a(Ft("error",e.status,o(e.response)||e.statusText,e.getAllResponseHeaders()))},l.ontimeout=function(e){t.status=kt.ERROR,t.request=null,b(t)||qt(a)(e)},l.onabort=function(){t.status=kt.QUEUED,t.request=null,s()}}else f.every((function(e){return e.status===kt.COMPLETE}))&&S()},b=function(e){return 0!==e.retries.length&&(e.status=kt.WAITING,clearTimeout(e.timeout),e.timeout=setTimeout((function(){L(e)}),e.retries.shift()),!0)},P=function(){var e=f.reduce((function(e,t){return null===e||null===t.progress?null:e+t.progress}),0);if(null===e)return u(!1,0,0);var t=f.reduce((function(e,t){return e+t.size}),0);u(!0,e,t)},M=function(){f.filter((function(e){return e.status===kt.PROCESSING})).length>=1||L()},N=function(){f.forEach((function(e){clearTimeout(e.timeout),e.request&&e.request.abort()}))};return T.serverId?g((function(e){T.aborted||(f.filter((function(t){return t.offset<e})).forEach((function(e){e.status=kt.COMPLETE,e.progress=e.size})),M())})):h((function(e){T.aborted||(l(e),T.serverId=e,M())})),{abort:function(){T.aborted=!0,N()}}},Ht=function(e,t,n,r){return function(o,i,a,u,s,l,c){if(o){var f=r.chunkUploads,d=f&&o.size>r.chunkSize,p=f&&(d||r.chunkForce);if(o instanceof Blob&&p)return jt(e,t,n,o,i,a,u,s,l,c,r);var E=t.ondata||function(e){return e},_=t.onload||function(e){return e},T=t.onerror||function(e){return null},I="function"===typeof t.headers?t.headers(o,i)||{}:Object.assign({},t.headers),v=Object.assign({},t,{headers:I}),m=new FormData;ue(i)&&m.append(n,JSON.stringify(i)),(o instanceof Blob?[{name:null,file:o}]:o).forEach((function(e){m.append(n,e.file,null===e.name?e.file.name:""+e.name+e.file.name)}));var h=Bt(E(m),xt(e,t.url),v);return h.onload=function(e){a(Ft("load",e.status,_(e.response),e.getAllResponseHeaders()))},h.onerror=function(e){u(Ft("error",e.status,T(e.response)||e.statusText,e.getAllResponseHeaders()))},h.ontimeout=qt(u),h.onprogress=s,h.onabort=l,h}}},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return"function"===typeof t?function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return t.apply(void 0,[n].concat(o,[r]))}:t&&Q(t.url)?Ht(e,t,n,r):null},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if("function"===typeof t)return t;if(!t||!Q(t.url))return function(e,t){return t()};var n=t.onload||function(e){return e},r=t.onerror||function(e){return null};return function(o,i,a){var u=Bt(o,e+t.url,t);return u.onload=function(e){i(Ft("load",e.status,n(e.response),e.getAllResponseHeaders()))},u.onerror=function(e){a(Ft("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))},u.ontimeout=qt(a),u}},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e+Math.random()*(t-e)},Qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=null,i=Date.now();return t>0&&function a(){var u=Date.now()-i,s=zt(n,r);u+s>t&&(s=u+s-t);var l=u/t;l>=1||document.hidden?e(1):(e(l),o=setTimeout(a,s))}(),{clear:function(){clearTimeout(o)}}},Zt=function(e,t){var n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},r=t.allowMinimumUploadDuration,o=function(t,o){var i=function(){0!==n.duration&&null!==n.progress&&l.fire("progress",l.getProgress())},a=function(){n.complete=!0,l.fire("load-perceived",n.response.body)};l.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=Qt((function(e){n.perceivedProgress=e,n.perceivedDuration=Date.now()-n.timestamp,i(),n.response&&1===n.perceivedProgress&&!n.complete&&a()}),r?zt(750,1500):0),n.request=e(t,o,(function(e){n.response=ue(e)?e:{type:"load",code:200,body:""+e,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,l.fire("load",n.response.body),(!r||r&&1===n.perceivedProgress)&&a()}),(function(e){n.perceivedPerformanceUpdater.clear(),l.fire("error",ue(e)?e:{type:"error",code:0,body:""+e})}),(function(e,t,r){n.duration=Date.now()-n.timestamp,n.progress=e?t/r:null,i()}),(function(){n.perceivedPerformanceUpdater.clear(),l.fire("abort",n.response?n.response.body:null)}),(function(e){l.fire("transfer",e)}))},i=function(){n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},a=function(){i(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},u=r?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null},s=r?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration},l=Object.assign({},we(),{process:o,abort:i,getProgress:u,getDuration:s,reset:a});return l},Kt=function(e){return e.substring(0,e.lastIndexOf("."))||e},$t=function(e){var t=[e.name,e.size,e.type];return e instanceof Blob||Tt(e)?t[0]=e.name||gt():Tt(e)?(t[1]=e.length,t[2]=St(e)):Q(e)&&(t[0]=It(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},Jt=function(e){return!!(e instanceof File||e instanceof Blob&&e.name)},en=function e(t){if(!ue(t))return t;var n=Y(t)?[]:{};for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];n[r]=o&&ue(o)?e(o):o}return n},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=Re(),o={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?Fe.PROCESSING_COMPLETE:Fe.INIT,activeLoader:null,activeProcessor:null},a=null,u={},s=function(e){return o.status=e},l=function(e){if(!o.released&&!o.frozen){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];O.fire.apply(O,[e].concat(n))}},c=function(){return vt(o.file.name)},f=function(){return o.file.type},d=function(){return o.file.size},p=function(){return o.file},E=function(t,n,r){o.source=t,O.fireSync("init"),o.file?O.fireSync("load-skip"):(o.file=$t(t),n.on("init",(function(){l("load-init")})),n.on("meta",(function(t){o.file.size=t.size,o.file.filename=t.filename,t.source&&(e=qe.LIMBO,o.serverFileReference=t.source,o.status=Fe.PROCESSING_COMPLETE),l("load-meta")})),n.on("progress",(function(e){s(Fe.LOADING),l("load-progress",e)})),n.on("error",(function(e){s(Fe.LOAD_ERROR),l("load-request-error",e)})),n.on("abort",(function(){s(Fe.INIT),l("load-abort")})),n.on("load",(function(t){o.activeLoader=null;var n=function(t){o.file=Jt(t)?t:o.file,e===qe.LIMBO&&o.serverFileReference?s(Fe.PROCESSING_COMPLETE):s(Fe.IDLE),l("load")},i=function(e){o.file=t,l("load-meta"),s(Fe.LOAD_ERROR),l("load-file-error",e)};o.serverFileReference?n(t):r(t,n,i)})),n.setSource(t),o.activeLoader=n,n.load())},_=function(){o.activeLoader&&o.activeLoader.load()},T=function(){o.activeLoader?o.activeLoader.abort():(s(Fe.INIT),l("load-abort"))},I=function e(t,n){if(o.processingAborted)o.processingAborted=!1;else if(s(Fe.PROCESSING),a=null,o.file instanceof Blob){t.on("load",(function(e){o.transferId=null,o.serverFileReference=e})),t.on("transfer",(function(e){o.transferId=e})),t.on("load-perceived",(function(e){o.activeProcessor=null,o.transferId=null,o.serverFileReference=e,s(Fe.PROCESSING_COMPLETE),l("process-complete",e)})),t.on("start",(function(){l("process-start")})),t.on("error",(function(e){o.activeProcessor=null,s(Fe.PROCESSING_ERROR),l("process-error",e)})),t.on("abort",(function(e){o.activeProcessor=null,o.serverFileReference=e,s(Fe.IDLE),l("process-abort"),a&&a()})),t.on("progress",(function(e){l("process-progress",e)}));var r=function(e){o.archived||t.process(e,Object.assign({},u))},i=console.error;n(o.file,r,i),o.activeProcessor=t}else O.on("load",(function(){e(t,n)}))},v=function(){o.processingAborted=!1,s(Fe.PROCESSING_QUEUED)},m=function(){return new Promise((function(e){if(!o.activeProcessor)return o.processingAborted=!0,s(Fe.IDLE),l("process-abort"),void e();a=function(){e()},o.activeProcessor.abort()}))},h=function(e,t){return new Promise((function(n,r){var i=null!==o.serverFileReference?o.serverFileReference:o.transferId;null!==i?(e(i,(function(){o.serverFileReference=null,o.transferId=null,n()}),(function(e){t?(s(Fe.PROCESSING_REVERT_ERROR),l("process-revert-error"),r(e)):n()})),s(Fe.IDLE),l("process-revert")):n()}))},g=function(e,t,n){var r=e.split("."),o=r[0],i=r.pop(),a=u;r.forEach((function(e){return a=a[e]})),JSON.stringify(a[i])!==JSON.stringify(t)&&(a[i]=t,l("metadata-update",{key:o,value:u[o],silent:n}))},R=function(e){return en(e?u[e]:u)},O=Object.assign({id:{get:function(){return r}},origin:{get:function(){return e},set:function(t){return e=t}},serverId:{get:function(){return o.serverFileReference}},transferId:{get:function(){return o.transferId}},status:{get:function(){return o.status}},filename:{get:function(){return o.file.name}},filenameWithoutExtension:{get:function(){return Kt(o.file.name)}},fileExtension:{get:c},fileType:{get:f},fileSize:{get:d},file:{get:p},relativePath:{get:function(){return o.file._relativePath}},source:{get:function(){return o.source}},getMetadata:R,setMetadata:function(e,t,n){if(ue(e)){var r=e;return Object.keys(r).forEach((function(e){g(e,r[e],t)})),e}return g(e,t,n),t},extend:function(e,t){return y[e]=t},abortLoad:T,retryLoad:_,requestProcessing:v,abortProcessing:m,load:E,process:I,revert:h},we(),{freeze:function(){return o.frozen=!0},release:function(){return o.released=!0},released:{get:function(){return o.released}},archive:function(){return o.archived=!0},archived:{get:function(){return o.archived}}}),y=i(O);return y},nn=function(e,t){return k(t)?0:Q(t)?e.findIndex((function(e){return e.id===t})):-1},rn=function(e,t){var n=nn(e,t);if(!(n<0))return e[n]||null},on=function(e,t,n,r,o,i){var a=Bt(null,e,{method:"GET",responseType:"blob"});return a.onload=function(n){var r=n.getAllResponseHeaders(),o=Ct(r).name||It(e);t(Ft("load",n.status,Rt(n.response,o),r))},a.onerror=function(e){n(Ft("error",e.status,e.statusText,e.getAllResponseHeaders()))},a.onheaders=function(e){i(Ft("headers",e.status,null,e.getAllResponseHeaders()))},a.ontimeout=qt(n),a.onprogress=r,a.onabort=o,a},an=function(e){return 0===e.indexOf("//")&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},un=function(e){return(e.indexOf(":")>-1||e.indexOf("//")>-1)&&an(location.href)!==an(e)},sn=function(e){return function(){return te(e)?e.apply(void 0,arguments):e}},ln=function(e){return!Jt(e.file)},cn=function(e,t){clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout((function(){e("DID_UPDATE_ITEMS",{items:et(t.items)})}),0)},fn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t){if(!e)return t(!0);var r=e.apply(void 0,n);return null==r?t(!0):"boolean"===typeof r?t(r):void("function"===typeof r.then&&r.then(t))}))},dn=function(e,t){e.items.sort((function(e,n){return t(Ue(e),Ue(n))}))},pn=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.query,o=n.success,i=void 0===o?function(){}:o,a=n.failure,u=void 0===a?function(){}:a,s=Se(n,["query","success","failure"]),l=$e(e.items,r);l?t(l,i,u,s||{}):u({error:Ft("error",0,"Item not found"),file:null})}},En=function(e,t,n){return{ABORT_ALL:function(){et(n.items).forEach((function(e){e.freeze(),e.abortLoad(),e.abortProcessing()}))},DID_SET_FILES:function(t){var r=t.value,o=(void 0===r?[]:r).map((function(e){return{source:e.source?e.source:e,options:e.options}})),i=et(n.items);i.forEach((function(t){o.find((function(e){return e.source===t.source||e.source===t.file}))||e("REMOVE_ITEM",{query:t,remove:!1})})),i=et(n.items),o.forEach((function(t,n){i.find((function(e){return e.source===t.source||e.file===t.source}))||e("ADD_ITEM",Object.assign({},t,{interactionMethod:ge.NONE,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(r){var o=r.id,i=r.action,a=r.change;a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var r=rn(n.items,o);if(t("IS_ASYNC")){r.origin===qe.LOCAL&&e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.source});var u=function(){setTimeout((function(){e("REQUEST_ITEM_PROCESSING",{query:o})}),32)},s=function(e){r.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(e?u:function(){}).catch((function(){}))},l=function(e){r.abortProcessing().then(e?u:function(){})};return r.status===Fe.PROCESSING_COMPLETE?s(n.options.instantUpload):r.status===Fe.PROCESSING?l(n.options.instantUpload):void(n.options.instantUpload&&u())}He("SHOULD_PREPARE_OUTPUT",!1,{item:r,query:t,action:i,change:a}).then((function(n){var i=t("GET_BEFORE_PREPARE_FILE");i&&(n=i(r,n)),n&&e("REQUEST_PREPARE_OUTPUT",{query:o,item:r,success:function(t){e("DID_PREPARE_OUTPUT",{id:o,file:t})}},!0)}))}),0))},MOVE_ITEM:function(e){var t=e.query,r=e.index,o=$e(n.items,t);if(o){var i=n.items.indexOf(o);i!==(r=pt(r,0,n.items.length-1))&&n.items.splice(r,0,n.items.splice(i,1)[0])}},SORT:function(r){var o=r.compare;dn(n,o),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var r=n.items,o=n.index,i=n.interactionMethod,a=n.success,u=void 0===a?function(){}:a,s=n.failure,l=void 0===s?function(){}:s,c=o;if(-1===o||"undefined"===typeof o){var f=t("GET_ITEM_INSERT_LOCATION"),d=t("GET_TOTAL_ITEMS");c="before"===f?0:d}var p=t("GET_IGNORED_FILES"),E=function(e){return Jt(e)?!p.includes(e.name.toLowerCase()):!k(e)},_=r.filter(E).map((function(t){return new Promise((function(n,r){e("ADD_ITEM",{interactionMethod:i,source:t.source||t,success:n,failure:r,index:c++,options:t.options||{}})}))}));Promise.all(_).then(u).catch(l)},ADD_ITEM:function(r){var o=r.source,i=r.index,a=void 0===i?-1:i,u=r.interactionMethod,s=r.success,l=void 0===s?function(){}:s,c=r.failure,f=void 0===c?function(){}:c,d=r.options,p=void 0===d?{}:d;if(k(o))f({error:Ft("error",0,"No source"),file:null});else if(!Jt(o)||!n.options.ignoredFiles.includes(o.name.toLowerCase())){if(!dt(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var E=Ft("warning",0,"Max files");return e("DID_THROW_MAX_FILES",{source:o,error:E}),void f({error:E,file:null})}var _=et(n.items)[0];if(_.status===Fe.PROCESSING_COMPLETE||_.status===Fe.PROCESSING_REVERT_ERROR){var T=t("GET_FORCE_REVERT");if(_.revert(Xt(n.options.server.url,n.options.server.revert),T).then((function(){T&&e("ADD_ITEM",{source:o,index:a,interactionMethod:u,success:l,failure:f,options:p})})).catch((function(){})),T)return}e("REMOVE_ITEM",{query:_.id})}var I="local"===p.type?qe.LOCAL:"limbo"===p.type?qe.LIMBO:qe.INPUT,v=tn(I,I===qe.INPUT?null:o,p.file);Object.keys(p.metadata||{}).forEach((function(e){v.setMetadata(e,p.metadata[e])})),We("DID_CREATE_ITEM",v,{query:t,dispatch:e});var m=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(a="before"===m?-1:n.items.length),_t(n.items,v,a),te(m)&&o&&dn(n,m);var h=v.id;v.on("init",(function(){e("DID_INIT_ITEM",{id:h})})),v.on("load-init",(function(){e("DID_START_ITEM_LOAD",{id:h})})),v.on("load-meta",(function(){e("DID_UPDATE_ITEM_META",{id:h})})),v.on("load-progress",(function(t){e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:h,progress:t})})),v.on("load-request-error",(function(t){var r=sn(n.options.labelFileLoadError)(t);if(t.code>=400&&t.code<500)return e("DID_THROW_ITEM_INVALID",{id:h,error:t,status:{main:r,sub:t.code+" ("+t.body+")"}}),void f({error:t,file:Ue(v)});e("DID_THROW_ITEM_LOAD_ERROR",{id:h,error:t,status:{main:r,sub:n.options.labelTapToRetry}})})),v.on("load-file-error",(function(t){e("DID_THROW_ITEM_INVALID",{id:h,error:t.status,status:t.status}),f({error:t.status,file:Ue(v)})})),v.on("load-abort",(function(){e("REMOVE_ITEM",{query:h})})),v.on("load-skip",(function(){e("COMPLETE_LOAD_ITEM",{query:h,item:v,data:{source:o,success:l}})})),v.on("load",(function(){var r=function(r){r?(v.on("metadata-update",(function(t){e("DID_UPDATE_ITEM_METADATA",{id:h,change:t})})),He("SHOULD_PREPARE_OUTPUT",!1,{item:v,query:t}).then((function(r){var i=t("GET_BEFORE_PREPARE_FILE");i&&(r=i(v,r));var a=function(){e("COMPLETE_LOAD_ITEM",{query:h,item:v,data:{source:o,success:l}}),cn(e,n)};r?e("REQUEST_PREPARE_OUTPUT",{query:h,item:v,success:function(t){e("DID_PREPARE_OUTPUT",{id:h,file:t}),a()}},!0):a()}))):e("REMOVE_ITEM",{query:h})};He("DID_LOAD_ITEM",v,{query:t,dispatch:e}).then((function(){fn(t("GET_BEFORE_ADD_FILE"),Ue(v)).then(r)})).catch((function(t){if(!t||!t.error||!t.status)return r(!1);e("DID_THROW_ITEM_INVALID",{id:h,error:t.error,status:t.status})}))})),v.on("process-start",(function(){e("DID_START_ITEM_PROCESSING",{id:h})})),v.on("process-progress",(function(t){e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:h,progress:t})})),v.on("process-error",(function(t){e("DID_THROW_ITEM_PROCESSING_ERROR",{id:h,error:t,status:{main:sn(n.options.labelFileProcessingError)(t),sub:n.options.labelTapToRetry}})})),v.on("process-revert-error",(function(t){e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:h,error:t,status:{main:sn(n.options.labelFileProcessingRevertError)(t),sub:n.options.labelTapToRetry}})})),v.on("process-complete",(function(t){e("DID_COMPLETE_ITEM_PROCESSING",{id:h,error:null,serverFileReference:t}),e("DID_DEFINE_VALUE",{id:h,value:t})})),v.on("process-abort",(function(){e("DID_ABORT_ITEM_PROCESSING",{id:h})})),v.on("process-revert",(function(){e("DID_REVERT_ITEM_PROCESSING",{id:h}),e("DID_DEFINE_VALUE",{id:h,value:null})})),e("DID_ADD_ITEM",{id:h,index:a,interactionMethod:u}),cn(e,n);var g=n.options.server||{},R=g.url,O=g.load,y=g.restore,D=g.fetch;v.load(o,Gt(I===qe.INPUT?Q(o)&&un(o)&&D?Yt(R,D):on:I===qe.LIMBO?Yt(R,y):Yt(R,O)),(function(e,n,r){He("LOAD_FILE",e,{query:t}).then(n).catch(r)}))}},REQUEST_PREPARE_OUTPUT:function(e){var n=e.item,r=e.success,o=e.failure,i=void 0===o?function(){}:o,a={error:Ft("error",0,"Item not found"),file:null};if(n.archived)return i(a);He("PREPARE_OUTPUT",n.file,{query:t,item:n}).then((function(e){He("COMPLETE_PREPARE_OUTPUT",e,{query:t,item:n}).then((function(e){if(n.archived)return i(a);r(e)}))}))},COMPLETE_LOAD_ITEM:function(r){var o=r.item,i=r.data,a=i.success,u=i.source,s=t("GET_ITEM_INSERT_LOCATION");if(te(s)&&u&&dn(n,s),e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.origin===qe.INPUT?null:u}),a(Ue(o)),o.origin!==qe.LOCAL)return o.origin===qe.LIMBO?(e("DID_COMPLETE_ITEM_PROCESSING",{id:o.id,error:null,serverFileReference:u}),void e("DID_DEFINE_VALUE",{id:o.id,value:o.serverId||u})):void(t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:o.id}));e("DID_LOAD_LOCAL_ITEM",{id:o.id})},RETRY_ITEM_LOAD:pn(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:pn(n,(function(t,n,r){e("REQUEST_PREPARE_OUTPUT",{query:t.id,item:t,success:function(r){e("DID_PREPARE_OUTPUT",{id:t.id,file:r}),n({file:t,output:r})},failure:r},!0)})),REQUEST_ITEM_PROCESSING:pn(n,(function(r,o,i){if(r.status===Fe.IDLE||r.status===Fe.PROCESSING_ERROR)r.status!==Fe.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:o,failure:i},!0));else{var a=function(){return e("REQUEST_ITEM_PROCESSING",{query:r,success:o,failure:i})},u=function(){return document.hidden?a():setTimeout(a,32)};r.status===Fe.PROCESSING_COMPLETE||r.status===Fe.PROCESSING_REVERT_ERROR?r.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(u).catch((function(){})):r.status===Fe.PROCESSING&&r.abortProcessing().then(u)}})),PROCESS_ITEM:pn(n,(function(r,o,i){var a=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",Fe.PROCESSING).length!==a){if(r.status!==Fe.PROCESSING){var u=function t(){var r=n.processingQueue.shift();if(r){var o=r.id,i=r.success,a=r.failure,u=$e(n.items,o);u&&!u.archived?e("PROCESS_ITEM",{query:o,success:i,failure:a},!0):t()}};r.onOnce("process-complete",(function(){o(Ue(r)),u();var i=n.options.server;if(n.options.instantUpload&&r.origin===qe.LOCAL&&te(i.remove)){var a=function(){};r.origin=qe.LIMBO,n.options.server.remove(r.source,a,a)}t("GET_ITEMS_BY_STATUS",Fe.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")})),r.onOnce("process-error",(function(e){i({error:e,file:Ue(r)}),u()}));var s=n.options;r.process(Zt(Wt(s.server.url,s.server.process,s.name,{chunkTransferId:r.transferId,chunkServer:s.server.patch,chunkUploads:s.chunkUploads,chunkForce:s.chunkForce,chunkSize:s.chunkSize,chunkRetryDelays:s.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,o,i){He("PREPARE_OUTPUT",n,{query:t,item:r}).then((function(t){e("DID_PREPARE_OUTPUT",{id:r.id,file:t}),o(t)})).catch(i)}))}}else n.processingQueue.push({id:r.id,success:o,failure:i})})),RETRY_ITEM_PROCESSING:pn(n,(function(t){e("REQUEST_ITEM_PROCESSING",{query:t})})),REQUEST_REMOVE_ITEM:pn(n,(function(n){fn(t("GET_BEFORE_REMOVE_FILE"),Ue(n)).then((function(t){t&&e("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:pn(n,(function(e){e.release()})),REMOVE_ITEM:pn(n,(function(r,o,i,a){var u=function(){var t=r.id;rn(n.items,t).archive(),e("DID_REMOVE_ITEM",{error:null,id:t,item:r}),cn(e,n),o(Ue(r))},s=n.options.server;r.origin===qe.LOCAL&&s&&te(s.remove)&&!1!==a.remove?(e("DID_START_ITEM_REMOVE",{id:r.id}),s.remove(r.source,(function(){return u()}),(function(t){e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:Ft("error",0,t,null),status:{main:sn(n.options.labelFileRemoveError)(t),sub:n.options.labelTapToRetry}})}))):((a.revert&&r.origin!==qe.LOCAL&&null!==r.serverId||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),u())})),ABORT_ITEM_LOAD:pn(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:pn(n,(function(t){t.serverId?e("REVERT_ITEM_PROCESSING",{id:t.id}):t.abortProcessing().then((function(){n.options.instantUpload&&e("REMOVE_ITEM",{query:t.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:pn(n,(function(r){if(n.options.instantUpload){var o=function(t){t&&e("REVERT_ITEM_PROCESSING",{query:r})},i=t("GET_BEFORE_REMOVE_FILE");if(!i)return o(!0);var a=i(Ue(r));return null==a?o(!0):"boolean"===typeof a?o(a):void("function"===typeof a.then&&a.then(o))}e("REVERT_ITEM_PROCESSING",{query:r})})),REVERT_ITEM_PROCESSING:pn(n,(function(r){r.revert(Xt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||ln(r))&&e("REMOVE_ITEM",{query:r.id})})).catch((function(){}))})),SET_OPTIONS:function(t){var n=t.options,r=Object.keys(n),o=_n.filter((function(e){return r.includes(e)}));[].concat(Ae(o),Ae(Object.keys(n).filter((function(e){return!o.includes(e)})))).forEach((function(t){e("SET_"+Ie(t,"_").toUpperCase(),{value:n[t]})}))}}},_n=["server"],Tn=function(e){return e},In=function(e){return document.createElement(e)},vn=function(e,t){var n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},mn=function(e,t,n,r){var o=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}},hn=function(e,t,n,r,o,i){var a=mn(e,t,n,o),u=mn(e,t,n,r);return["M",a.x,a.y,"A",n,n,0,i,0,u.x,u.y].join(" ")},gn=function(e,t,n,r,o){var i=1;return o>r&&o-r<=.5&&(i=0),r>o&&r-o>=.5&&(i=0),hn(e,t,n,360*Math.min(.9999,r),360*Math.min(.9999,o),i)},Rn=B({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(e){var t=e.root,n=e.props;n.spin=!1,n.progress=0,n.opacity=0;var r=c("svg");t.ref.path=c("path",{"stroke-width":2,"stroke-linecap":"round"}),r.appendChild(t.ref.path),t.ref.svg=r,t.appendChild(r)},write:function(e){var t=e.root,n=e.props;if(0!==n.opacity){n.align&&(t.element.dataset.align=n.align);var r=parseInt(a(t.ref.path,"stroke-width"),10),o=.5*t.rect.element.width,i=0,u=0;n.spin?(i=0,u=.5):(i=0,u=n.progress);var s=gn(o,o,o-r,i,u);a(t.ref.path,"d",s),a(t.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),On=B({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(e){var t=e.root,n=e.props;t.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(e){var t=e.root,n=e.props,r=n.isDisabled,o=t.query("GET_DISABLED")||0===n.opacity;o&&!r?(n.isDisabled=!0,a(t.element,"disabled","disabled")):!o&&r&&(n.isDisabled=!1,t.element.removeAttribute("disabled"))}}),yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.labelBytes,i=void 0===o?"bytes":o,a=r.labelKilobytes,u=void 0===a?"KB":a,s=r.labelMegabytes,l=void 0===s?"MB":s,c=r.labelGigabytes,f=void 0===c?"GB":c,d=n,p=n*n,E=n*n*n;return(e=Math.round(Math.abs(e)))<d?e+" "+i:e<p?Math.floor(e/d)+" "+u:e<E?Dn(e/p,1,t)+" "+l:Dn(e/E,2,t)+" "+f},Dn=function(e,t,n){return e.toFixed(t).split(".").filter((function(e){return"0"!==e})).join(n)},Sn=function(e){var t=e.root,n=e.props,r=In("span");r.className="filepond--file-info-main",a(r,"aria-hidden","true"),t.appendChild(r),t.ref.fileName=r;var o=In("span");o.className="filepond--file-info-sub",t.appendChild(o),t.ref.fileSize=o,vn(o,t.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),vn(r,Tn(t.query("GET_ITEM_NAME",n.id)))},An=function(e){var t=e.root,n=e.props;vn(t.ref.fileSize,yn(t.query("GET_ITEM_SIZE",n.id),".",t.query("GET_FILE_SIZE_BASE"),t.query("GET_FILE_SIZE_LABELS",t.query))),vn(t.ref.fileName,Tn(t.query("GET_ITEM_NAME",n.id)))},Ln=function(e){var t=e.root,n=e.props;J(t.query("GET_ITEM_SIZE",n.id))?An({root:t,props:n}):vn(t.ref.fileSize,t.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},bn=B({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:q({DID_LOAD_ITEM:An,DID_UPDATE_ITEM_META:An,DID_THROW_ITEM_LOAD_ERROR:Ln,DID_THROW_ITEM_INVALID:Ln}),didCreateView:function(e){We("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Sn,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Pn=function(e){return Math.round(100*e)},Mn=function(e){var t=e.root,n=In("span");n.className="filepond--file-status-main",t.appendChild(n),t.ref.main=n;var r=In("span");r.className="filepond--file-status-sub",t.appendChild(r),t.ref.sub=r,Nn({root:t,action:{progress:null}})},Nn=function(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_LOADING"):t.query("GET_LABEL_FILE_LOADING")+" "+Pn(n.progress)+"%";vn(t.ref.main,r),vn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},wn=function(e){var t=e.root;vn(t.ref.main,""),vn(t.ref.sub,"")},Cn=function(e){var t=e.root,n=e.action;vn(t.ref.main,n.status.main),vn(t.ref.sub,n.status.sub)},Gn=B({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:q({DID_LOAD_ITEM:wn,DID_REVERT_ITEM_PROCESSING:wn,DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;vn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING")),vn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(e){var t=e.root;vn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_ABORTED")),vn(t.ref.sub,t.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root;vn(t.ref.main,t.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),vn(t.ref.sub,t.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action,r=null===n.progress?t.query("GET_LABEL_FILE_PROCESSING"):t.query("GET_LABEL_FILE_PROCESSING")+" "+Pn(n.progress)+"%";vn(t.ref.main,r),vn(t.ref.sub,t.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Nn,DID_THROW_ITEM_LOAD_ERROR:Cn,DID_THROW_ITEM_INVALID:Cn,DID_THROW_ITEM_PROCESSING_ERROR:Cn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Cn,DID_THROW_ITEM_REMOVE_ERROR:Cn}),didCreateView:function(e){We("CREATE_VIEW",Object.assign({},e,{view:e}))},create:Mn,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),Un={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},Bn=[];o(Un,(function(e){Bn.push(e)}));var Fn=function(e){if("right"===Yn(e))return 0;var t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},qn=function(e){return e.ref.buttonAbortItemLoad.rect.element.width},Vn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.height/4)},xn=function(e){return Math.floor(e.ref.buttonRemoveItem.rect.element.left/2)},Yn=function(e){return e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},kn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(e){return e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},jn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Fn},status:{translateX:Fn}},Hn={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Wn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Fn},status:{translateX:Fn,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Fn},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Yn},info:{translateX:Fn},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Yn},buttonRemoveItem:{opacity:1},info:{translateX:Fn},status:{opacity:1,translateX:Fn}},DID_LOAD_ITEM:jn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Fn},status:{translateX:Fn}},DID_START_ITEM_PROCESSING:Hn,DID_REQUEST_ITEM_PROCESSING:Hn,DID_UPDATE_ITEM_PROCESS_PROGRESS:Hn,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Fn}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Fn},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:jn},Xn=B({create:function(e){var t=e.root;t.element.innerHTML=t.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),zn=function(e){var t,n=e.root,r=e.props,i=Object.keys(Un).reduce((function(e,t){return e[t]=Object.assign({},Un[t]),e}),{}),a=r.id,u=n.query("GET_ALLOW_REVERT"),s=n.query("GET_ALLOW_REMOVE"),l=n.query("GET_ALLOW_PROCESS"),c=n.query("GET_INSTANT_UPLOAD"),f=n.query("IS_ASYNC"),d=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");f?l&&!u?t=function(e){return!/RevertItemProcessing/.test(e)}:!l&&u?t=function(e){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(e)}:l||u||(t=function(e){return!/Process/.test(e)}):t=function(e){return!/Process/.test(e)};var p=t?Bn.filter(t):Bn.concat();if(c&&u&&(i.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",i.RevertItemProcessing.icon="GET_ICON_REMOVE"),f&&!u){var E=Wn.DID_COMPLETE_ITEM_PROCESSING;E.info.translateX=xn,E.info.translateY=Vn,E.status.translateY=Vn,E.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(f&&!l&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){Wn[e].status.translateY=Vn})),Wn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=qn),d&&u){i.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var _=Wn.DID_COMPLETE_ITEM_PROCESSING;_.info.translateX=Fn,_.status.translateY=Vn,_.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}s||(i.RemoveItem.disabled=!0),o(i,(function(e,t){var r=n.createChildView(On,{label:n.query(t.label),icon:n.query(t.icon),opacity:0});p.includes(e)&&n.appendChildView(r),t.disabled&&(r.element.setAttribute("disabled","disabled"),r.element.setAttribute("hidden","hidden")),r.element.dataset.align=n.query("GET_STYLE_"+t.align),r.element.classList.add(t.className),r.on("click",(function(e){e.stopPropagation(),t.disabled||n.dispatch(t.action,{query:a})})),n.ref["button"+e]=r})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(Xn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView(bn,{id:a})),n.ref.status=n.appendChildView(n.createChildView(Gn,{id:a}));var T=n.appendChildView(n.createChildView(Rn,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));T.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=T;var I=n.appendChildView(n.createChildView(Rn,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));I.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=I,n.ref.activeStyles=[]},Qn=function(e){var t=e.root,n=e.actions,r=e.props;Zn({root:t,actions:n,props:r});var i=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return Wn[e.type]}));if(i){t.ref.activeStyles=[];var a=Wn[i.type];o(kn,(function(e,n){var r=t.ref[e];o(n,(function(n,o){var i=a[e]&&"undefined"!==typeof a[e][n]?a[e][n]:o;t.ref.activeStyles.push({control:r,key:n,value:i})}))}))}t.ref.activeStyles.forEach((function(e){var n=e.control,r=e.key,o=e.value;n[r]="function"===typeof o?o(t):o}))},Zn=q({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(e){var t=e.root,n=e.action;t.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(e){var t=e.root;t.ref.loadProgressIndicator.spin=!0,t.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(e){var t=e.root;t.ref.processProgressIndicator.spin=!0,t.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.loadProgressIndicator.spin=!1,t.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(e){var t=e.root,n=e.action;t.ref.processProgressIndicator.spin=!1,t.ref.processProgressIndicator.progress=n.progress}}),Kn=B({create:zn,write:Qn,didCreateView:function(e){We("CREATE_VIEW",Object.assign({},e,{view:e}))},name:"file"}),$n=B({create:function(e){var t=e.root,n=e.props;t.ref.fileName=In("legend"),t.appendChild(t.ref.fileName),t.ref.file=t.appendChildView(t.createChildView(Kn,{id:n.id})),t.ref.data=!1},ignoreRect:!0,write:q({DID_LOAD_ITEM:function(e){var t=e.root,n=e.props;vn(t.ref.fileName,Tn(t.query("GET_ITEM_NAME",n.id)))}}),didCreateView:function(e){We("CREATE_VIEW",Object.assign({},e,{view:e}))},tag:"fieldset",name:"file-wrapper"}),Jn={type:"spring",damping:.6,mass:7},er=function(e){var t=e.root,n=e.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Jn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Jn},styles:["translateY"]}}].forEach((function(e){tr(t,e,n.name)})),t.element.classList.add("filepond--"+n.name),t.ref.scalable=null},tr=function(e,t,n){var r=B({name:"panel-"+t.name+" filepond--"+n,mixins:t.mixins,ignoreRectUpdate:!0}),o=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(o)},nr=B({name:"panel",read:function(e){var t=e.root;return e.props.heightCurrent=t.ref.bottom.translateY},write:function(e){var t=e.root,n=e.props;if(null!==t.ref.scalable&&n.scalable===t.ref.scalable||(t.ref.scalable=!X(n.scalable)||n.scalable,t.element.dataset.scalable=t.ref.scalable),n.height){var r=t.ref.top.rect.element,o=t.ref.bottom.rect.element,i=Math.max(r.height+o.height,n.height);t.ref.center.translateY=r.height,t.ref.center.scaleY=(i-r.height-o.height)/100,t.ref.bottom.translateY=i-o.height}},create:er,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),rr=function(e){var t=e.map((function(e){return e.id})),n=void 0;return{setIndex:function(e){n=e},getIndex:function(){return n},getItemIndex:function(e){return t.indexOf(e.id)}}},or={type:"spring",stiffness:.75,damping:.45,mass:10},ir="spring",ar={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ur=function(e){var t=e.root,n=e.props;if(t.ref.handleClick=function(e){return t.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},t.element.id="filepond--item-"+n.id,t.element.addEventListener("click",t.ref.handleClick),t.ref.container=t.appendChildView(t.createChildView($n,{id:n.id})),t.ref.panel=t.appendChildView(t.createChildView(nr,{name:"item-panel"})),t.ref.panel.height=null,n.markedForRemoval=!1,t.query("GET_ALLOW_REORDER")){t.element.dataset.dragState="idle";var r=function(e){if(e.isPrimary){var r=!1,o={x:e.pageX,y:e.pageY};n.dragOrigin={x:t.translateX,y:t.translateY},n.dragCenter={x:e.offsetX,y:e.offsetY};var i=rr(t.query("GET_ACTIVE_ITEMS"));t.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:i});var a=function(e){e.isPrimary&&(e.stopPropagation(),e.preventDefault(),n.dragOffset={x:e.pageX-o.x,y:e.pageY-o.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!r&&(r=!0,t.element.removeEventListener("click",t.ref.handleClick)),t.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:i}))},u=function e(u){u.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",e),n.dragOffset={x:u.pageX-o.x,y:u.pageY-o.y},t.dispatch("DID_DROP_ITEM",{id:n.id,dragState:i}),r&&setTimeout((function(){return t.element.addEventListener("click",t.ref.handleClick)}),0))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",u)}};t.element.addEventListener("pointerdown",r)}},sr=q({DID_UPDATE_PANEL_HEIGHT:function(e){var t=e.root,n=e.action;t.height=n.height}}),lr=q({DID_GRAB_ITEM:function(e){var t=e.root;e.props.dragOrigin={x:t.translateX,y:t.translateY}},DID_DRAG_ITEM:function(e){e.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(e){var t=e.root,n=e.props;n.dragOffset=null,n.dragOrigin=null,t.element.dataset.dragState="drop"}},(function(e){var t=e.root,n=e.actions,r=e.props,o=e.shouldOptimize;"drop"===t.element.dataset.dragState&&t.scaleX<=1&&(t.element.dataset.dragState="idle");var i=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return ar[e.type]}));i&&i.type!==r.currentState&&(r.currentState=i.type,t.element.dataset.filepondItemState=ar[r.currentState]||"");var a=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");a?o||(t.height=t.rect.element.width*a):(sr({root:t,actions:n,props:r}),!t.height&&t.ref.container.rect.element.height>0&&(t.height=t.ref.container.rect.element.height)),o&&(t.ref.panel.height=null),t.ref.panel.height=t.height})),cr=B({create:ur,write:lr,destroy:function(e){var t=e.root,n=e.props;t.element.removeEventListener("click",t.ref.handleClick),t.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:ir,scaleY:ir,translateX:or,translateY:or,opacity:{type:"tween",duration:150}}}}),fr=function(e,t){return Math.max(1,Math.floor((e+1)/t))},dr=function(e,t,n){if(n){var r=e.rect.element.width,o=t.length,i=null;if(0===o||n.top<t[0].rect.element.top)return-1;var a=t[0].rect.element,u=a.marginLeft+a.marginRight,s=a.width+u,l=fr(r,s);if(1===l){for(var c=0;c<o;c++){var f=t[c],d=f.rect.outer.top+.5*f.rect.element.height;if(n.top<d)return c}return o}for(var p=a.marginTop+a.marginBottom,E=a.height+p,_=0;_<o;_++){var T=_%l*s,I=Math.floor(_/l)*E,v=I-a.marginTop,m=T+s,h=I+E+a.marginBottom;if(n.top<h&&n.top>v){if(n.left<m)return _;i=_!==o-1?_:null}}return null!==i?i:o}},pr={height:0,width:0,get getHeight(){return this.height},set setHeight(e){0!==this.height&&0!==e||(this.height=e)},get getWidth(){return this.width},set setWidth(e){0!==this.width&&0!==e||(this.width=e)},setDimensions:function(e,t){0!==this.height&&0!==e||(this.height=e),0!==this.width&&0!==t||(this.width=t)}},Er=function(e){var t=e.root;a(t.element,"role","list"),t.ref.lastItemSpanwDate=Date.now()},_r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(0===e.opacity&&Tr(e,t,n,r,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},Tr=function(e,t,n,r,o){e.interactionMethod===ge.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===ge.DROP?(e.translateX=null,e.translateX=t-20*r,e.translateY=null,e.translateY=n-10*o,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===ge.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===ge.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Ir=function(e){return e.rect.element.height+.5*e.rect.element.marginBottom+.5*e.rect.element.marginTop},vr=function(e){return e.rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight},mr=q({DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.index,i=n.interactionMethod;t.ref.addIndex=o;var a=Date.now(),u=a,s=1;if(i!==ge.NONE){s=0;var l=t.query("GET_ITEM_INSERT_INTERVAL"),c=a-t.ref.lastItemSpanwDate;u=c<l?a+(l-c):a}t.ref.lastItemSpanwDate=u,t.appendChildView(t.createChildView(cr,{spawnDate:u,id:r,opacity:s,interactionMethod:i}),o)},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action.id,r=t.childViews.find((function(e){return e.id===n}));r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},DID_DRAG_ITEM:function(e){var t=e.root,n=e.action,r=n.id,o=n.dragState,i=t.query("GET_ITEM",{id:r}),a=t.childViews.find((function(e){return e.id===r})),u=t.childViews.length,s=o.getItemIndex(i);if(a){var l={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},c=Ir(a),f=vr(a),d=Math.floor(t.rect.outer.width/f);d>u&&(d=u);var p=Math.floor(u/d+1);pr.setHeight=c*p,pr.setWidth=f*d;var E={y:Math.floor(l.y/c),x:Math.floor(l.x/f),getGridIndex:function(){return l.y>pr.getHeight||l.y<0||l.x>pr.getWidth||l.x<0?s:this.y*d+this.x},getColIndex:function(){for(var e=t.query("GET_ACTIVE_ITEMS"),n=t.childViews.filter((function(e){return e.rect.element.height})),r=e.map((function(e){return n.find((function(t){return t.id===e.id}))})),o=r.findIndex((function(e){return e===a})),i=Ir(a),u=r.length,s=u,c=0,f=0,d=0;d<u;d++)if(c=(f=c)+Ir(r[d]),l.y<c){if(o>d){if(l.y<f+i){s=d;break}continue}s=d;break}return s}},_=d>1?E.getGridIndex():E.getColIndex();t.dispatch("MOVE_ITEM",{query:a,index:_});var T=o.getIndex();if(void 0===T||T!==_){if(o.setIndex(_),void 0===T)return;t.dispatch("DID_REORDER_ITEMS",{items:t.query("GET_ACTIVE_ITEMS"),origin:s,target:_})}}}}),hr=B({create:Er,write:function(e){var t=e.root,n=e.props,r=e.actions,o=e.shouldOptimize;mr({root:t,props:n,actions:r});var i=n.dragCoordinates,a=t.rect.element.width,u=t.childViews.filter((function(e){return e.rect.element.height})),s=t.query("GET_ACTIVE_ITEMS").map((function(e){return u.find((function(t){return t.id===e.id}))})).filter((function(e){return e})),l=i?dr(t,s,i):null,c=t.ref.addIndex||null;t.ref.addIndex=null;var f=0,d=0,p=0;if(0!==s.length){var E=s[0].rect.element,_=E.marginTop+E.marginBottom,T=E.marginLeft+E.marginRight,I=E.width+T,v=E.height+_,m=fr(a,I);if(1===m){var h=0,g=0;s.forEach((function(e,t){if(l){var n=t-l;g=-2===n?.25*-_:-1===n?.75*-_:0===n?.75*_:1===n?.25*_:0}o&&(e.translateX=null,e.translateY=null),e.markedForRemoval||_r(e,0,h+g);var r=(e.rect.element.height+_)*(e.markedForRemoval?e.opacity:1);h+=r}))}else{var R=0,O=0;s.forEach((function(e,t){t===l&&(f=1),t===c&&(p+=1),e.markedForRemoval&&e.opacity<.5&&(d-=1);var n=t+p+f+d,r=n%m,i=Math.floor(n/m),a=r*I,u=i*v,s=Math.sign(a-R),E=Math.sign(u-O);R=a,O=u,e.markedForRemoval||(o&&(e.translateX=null,e.translateY=null),_r(e,a,u,s,E))}))}}},tag:"ul",name:"list",didWriteView:function(e){var t=e.root;t.childViews.filter((function(e){return e.markedForRemoval&&0===e.opacity&&e.resting})).forEach((function(e){e._destroy(),t.removeChildView(e)}))},filterFrameActionsForChild:function(e,t){return t.filter((function(t){return!t.data||!t.data.id||e.id===t.data.id}))},mixins:{apis:["dragCoordinates"]}}),gr=function(e){var t=e.root,n=e.props;t.ref.list=t.appendChildView(t.createChildView(hr)),n.dragCoordinates=null,n.overflowing=!1},Rr=q({DID_DRAG:function(e){var t=e.root,n=e.props,r=e.action;t.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:r.position.scopeLeft-t.ref.list.rect.element.left,top:r.position.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},DID_END_DRAG:function(e){e.props.dragCoordinates=null}}),Or=B({create:gr,write:function(e){var t=e.root,n=e.props,r=e.actions;if(Rr({root:t,props:n,actions:r}),t.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,t.element.dataset.state="",t.height=null),n.overflow){var o=Math.round(n.overflow);o!==t.height&&(n.overflowing=!0,t.element.dataset.state="overflow",t.height=o)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),yr=function(e,t,n){n?a(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):e.removeAttribute(t)},Dr=function(e){if(e&&""!==e.value){try{e.value=""}catch(o){}if(e.value){var t=In("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},Sr=function(e){var t=e.root,n=e.props;t.element.id="filepond--browser-"+n.id,a(t.element,"name",t.query("GET_NAME")),a(t.element,"aria-controls","filepond--assistant-"+n.id),a(t.element,"aria-labelledby","filepond--drop-label-"+n.id),Ar({root:t,action:{value:t.query("GET_ACCEPTED_FILE_TYPES")}}),Lr({root:t,action:{value:t.query("GET_ALLOW_MULTIPLE")}}),br({root:t,action:{value:t.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Pr({root:t}),Mr({root:t,action:{value:t.query("GET_REQUIRED")}}),Nr({root:t,action:{value:t.query("GET_CAPTURE_METHOD")}}),t.ref.handleChange=function(e){if(t.element.value){var r=Array.from(t.element.files).map((function(e){return e._relativePath=e.webkitRelativePath,e}));setTimeout((function(){n.onload(r),Dr(t.element)}),250)}},t.element.addEventListener("change",t.ref.handleChange)},Ar=function(e){var t=e.root,n=e.action;t.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&yr(t.element,"accept",!!n.value,n.value?n.value.join(","):"")},Lr=function(e){var t=e.root,n=e.action;yr(t.element,"multiple",n.value)},br=function(e){var t=e.root,n=e.action;yr(t.element,"webkitdirectory",n.value)},Pr=function(e){var t=e.root,n=t.query("GET_DISABLED"),r=t.query("GET_ALLOW_BROWSE"),o=n||!r;yr(t.element,"disabled",o)},Mr=function(e){var t=e.root;e.action.value?0===t.query("GET_TOTAL_ITEMS")&&yr(t.element,"required",!0):yr(t.element,"required",!1)},Nr=function(e){var t=e.root,n=e.action;yr(t.element,"capture",!!n.value,!0===n.value?"":n.value)},wr=function(e){var t=e.root,n=t.element;t.query("GET_TOTAL_ITEMS")>0?(yr(n,"required",!1),yr(n,"name",!1)):(yr(n,"name",!0,t.query("GET_NAME")),t.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),t.query("GET_REQUIRED")&&yr(n,"required",!0))},Cr=B({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Sr,destroy:function(e){var t=e.root;t.element.removeEventListener("change",t.ref.handleChange)},write:q({DID_LOAD_ITEM:wr,DID_REMOVE_ITEM:wr,DID_THROW_ITEM_INVALID:function(e){var t=e.root;t.query("GET_CHECK_VALIDITY")&&t.element.setCustomValidity(t.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:Pr,DID_SET_ALLOW_BROWSE:Pr,DID_SET_ALLOW_DIRECTORIES_ONLY:br,DID_SET_ALLOW_MULTIPLE:Lr,DID_SET_ACCEPTED_FILE_TYPES:Ar,DID_SET_CAPTURE_METHOD:Nr,DID_SET_REQUIRED:Mr})}),Gr={ENTER:13,SPACE:32},Ur=function(e){var t=e.root,n=e.props,r=In("label");a(r,"for","filepond--browser-"+n.id),a(r,"id","filepond--drop-label-"+n.id),a(r,"aria-hidden","true"),t.ref.handleKeyDown=function(e){(e.keyCode===Gr.ENTER||e.keyCode===Gr.SPACE)&&(e.preventDefault(),t.ref.label.click())},t.ref.handleClick=function(e){e.target===r||r.contains(e.target)||t.ref.label.click()},r.addEventListener("keydown",t.ref.handleKeyDown),t.element.addEventListener("click",t.ref.handleClick),Br(r,n.caption),t.appendChild(r),t.ref.label=r},Br=function(e,t){e.innerHTML=t;var n=e.querySelector(".filepond--label-action");return n&&a(n,"tabindex","0"),t},Fr=B({name:"drop-label",ignoreRect:!0,create:Ur,destroy:function(e){var t=e.root;t.ref.label.addEventListener("keydown",t.ref.handleKeyDown),t.element.removeEventListener("click",t.ref.handleClick)},write:q({DID_SET_LABEL_IDLE:function(e){var t=e.root,n=e.action;Br(t.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),qr=B({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Vr=function(e){var t=e.root,n=.5*t.rect.element.width,r=.5*t.rect.element.height;t.ref.blob=t.appendChildView(t.createChildView(qr,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:r}))},xr=function(e){var t=e.root,n=e.props,r=e.actions;Yr({root:t,props:n,actions:r});var o=t.ref.blob;0===r.length&&o&&0===o.opacity&&(t.removeChildView(o),t.ref.blob=null)},Yr=q({DID_DRAG:function(e){var t=e.root,n=e.action;t.ref.blob?(t.ref.blob.translateX=n.position.scopeLeft,t.ref.blob.translateY=n.position.scopeTop,t.ref.blob.scaleX=1,t.ref.blob.scaleY=1,t.ref.blob.opacity=1):Vr({root:t})},DID_DROP:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.scaleX=2.5,t.ref.blob.scaleY=2.5,t.ref.blob.opacity=0)},DID_END_DRAG:function(e){var t=e.root;t.ref.blob&&(t.ref.blob.opacity=0)}}),kr=B({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:xr}),jr=function(e,t){try{var n=new DataTransfer;t.forEach((function(e){e instanceof File?n.items.add(e):n.items.add(new File([e],e.name,{type:e.type}))})),e.files=n.files}catch(r){return!1}return!0},Hr=function(e){return e.root.ref.fields={}},Wr=function(e,t){return e.ref.fields[t]},Xr=function(e){e.query("GET_ACTIVE_ITEMS").forEach((function(t){e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])}))},zr=function(e){var t=e.root;return Xr(t)},Qr=q({DID_SET_DISABLED:function(e){var t=e.root;t.element.disabled=t.query("GET_DISABLED")},DID_ADD_ITEM:function(e){var t=e.root,n=e.action,r=!(t.query("GET_ITEM",n.id).origin===qe.LOCAL)&&t.query("SHOULD_UPDATE_FILE_INPUT"),o=In("input");o.type=r?"file":"hidden",o.name=t.query("GET_NAME"),o.disabled=t.query("GET_DISABLED"),t.ref.fields[n.id]=o,Xr(t)},DID_LOAD_ITEM:function(e){var t=e.root,n=e.action,r=Wr(t,n.id);if(r&&(null!==n.serverFileReference&&(r.value=n.serverFileReference),t.query("SHOULD_UPDATE_FILE_INPUT"))){var o=t.query("GET_ITEM",n.id);jr(r,[o.file])}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action,r=Wr(t,n.id);r&&(r.parentNode&&r.parentNode.removeChild(r),delete t.ref.fields[n.id])},DID_DEFINE_VALUE:function(e){var t=e.root,n=e.action,r=Wr(t,n.id);r&&(null===n.value?r.removeAttribute("value"):r.value=n.value,Xr(t))},DID_PREPARE_OUTPUT:function(e){var t=e.root,n=e.action;t.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout((function(){var e=Wr(t,n.id);e&&jr(e,[n.file])}),0)},DID_REORDER_ITEMS:zr,DID_SORT_ITEMS:zr}),Zr=B({tag:"fieldset",name:"data",create:Hr,write:Qr,ignoreRect:!0}),Kr=function(e){return"getRootNode"in e?e.getRootNode():document},$r=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],Jr=["css","csv","html","txt"],eo={zip:"zip|compressed",epub:"application/epub+zip"},to=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e=e.toLowerCase(),$r.includes(e)?"image/"+("jpg"===e?"jpeg":"svg"===e?"svg+xml":e):Jr.includes(e)?"text/"+e:eo[e]||""},no=function(e){return new Promise((function(t,n){var r=po(e);if(r.length&&!ro(e))return t(r);oo(e).then(t)}))},ro=function(e){return!!e.files&&e.files.length>0},oo=function(e){return new Promise((function(t,n){var r=(e.items?Array.from(e.items):[]).filter((function(e){return io(e)})).map((function(e){return ao(e)}));r.length?Promise.all(r).then((function(e){var n=[];e.forEach((function(e){n.push.apply(n,e)})),t(n.filter((function(e){return e})).map((function(e){return e._relativePath||(e._relativePath=e.webkitRelativePath),e})))})).catch(console.error):t(e.files?Array.from(e.files):[])}))},io=function(e){if(co(e)){var t=fo(e);if(t)return t.isFile||t.isDirectory}return"file"===e.kind},ao=function(e){return new Promise((function(t,n){lo(e)?uo(fo(e)).then(t).catch(n):t([e.getAsFile()])}))},uo=function(e){return new Promise((function(t,n){var r=[],o=0,i=0,a=function(){0===i&&0===o&&t(r)},u=function e(t){o++;var u=t.createReader(),s=function t(){u.readEntries((function(n){if(0===n.length)return o--,void a();n.forEach((function(t){t.isDirectory?e(t):(i++,t.file((function(e){var n=so(e);t.fullPath&&(n._relativePath=t.fullPath),r.push(n),i--,a()})))})),t()}),n)};s()};u(e)}))},so=function(e){if(e.type.length)return e;var t=e.lastModifiedDate,n=e.name,r=to(vt(e.name));return r.length?((e=e.slice(0,e.size,r)).name=n,e.lastModifiedDate=t,e):e},lo=function(e){return co(e)&&(fo(e)||{}).isDirectory},co=function(e){return"webkitGetAsEntry"in e},fo=function(e){return e.webkitGetAsEntry()},po=function(e){var t=[];try{if((t=_o(e)).length)return t;t=Eo(e)}catch(n){}return t},Eo=function(e){var t=e.getData("url");return"string"===typeof t&&t.length?[t]:[]},_o=function(e){var t=e.getData("text/html");if("string"===typeof t&&t.length){var n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},To=[],Io=function(e){return{pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}},vo=function(e,t,n){var r=mo(t),o={element:e,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return o.destroy=r.addListener(o),o},mo=function(e){var t=To.find((function(t){return t.element===e}));if(t)return t;var n=ho(e);return To.push(n),n},ho=function(e){var t=[],n={dragenter:Do,dragover:So,dragleave:Lo,drop:Ao},r={};o(n,(function(n,o){r[n]=o(e,t),e.addEventListener(n,r[n],!1)}));var i={element:e,addListener:function(a){return t.push(a),function(){t.splice(t.indexOf(a),1),0===t.length&&(To.splice(To.indexOf(i),1),o(n,(function(t){e.removeEventListener(t,r[t],!1)})))}}};return i},go=function(e,t){return"elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)},Ro=function(e,t){var n=Kr(t),r=go(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)},Oo=null,yo=function(e,t){try{e.dropEffect=t}catch(n){}},Do=function(e,t){return function(e){e.preventDefault(),Oo=e.target,t.forEach((function(t){var n=t.element,r=t.onenter;Ro(e,n)&&(t.state="enter",r(Io(e)))}))}},So=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;no(n).then((function(r){var o=!1;t.some((function(t){var i=t.filterElement,a=t.element,u=t.onenter,s=t.onexit,l=t.ondrag,c=t.allowdrop;yo(n,"copy");var f=c(r);if(f)if(Ro(e,a)){if(o=!0,null===t.state)return t.state="enter",void u(Io(e));if(t.state="over",i&&!f)return void yo(n,"none");l(Io(e))}else i&&!o&&yo(n,"none"),t.state&&(t.state=null,s(Io(e)));else yo(n,"none")}))}))}},Ao=function(e,t){return function(e){e.preventDefault();var n=e.dataTransfer;no(n).then((function(n){t.forEach((function(t){var r=t.filterElement,o=t.element,i=t.ondrop,a=t.onexit,u=t.allowdrop;if(t.state=null,!r||Ro(e,o))return u(n)?void i(Io(e),n):a(Io(e))}))}))}},Lo=function(e,t){return function(e){Oo===e.target&&t.forEach((function(t){var n=t.onexit;t.state=null,n(Io(e))}))}},bo=function(e,t,n){e.classList.add("filepond--hopper");var r=n.catchesDropsOnPage,o=n.requiresDropOnElement,i=n.filterItems,a=void 0===i?function(e){return e}:i,u=vo(e,r?document.documentElement:e,o),s="",l="";u.allowdrop=function(e){return t(a(e))},u.ondrop=function(e,n){var r=a(n);t(r)?(l="drag-drop",c.onload(r,e)):c.ondragend(e)},u.ondrag=function(e){c.ondrag(e)},u.onenter=function(e){l="drag-over",c.ondragstart(e)},u.onexit=function(e){l="drag-exit",c.ondragend(e)};var c={updateHopperState:function(){s!==l&&(e.dataset.hopperState=l,s=l)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){u.destroy()}};return c},Po=!1,Mo=[],No=function(e){var t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){for(var n=!1,r=t;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}no(e.clipboardData).then((function(e){e.length&&Mo.forEach((function(t){return t(e)}))}))},wo=function(e){Mo.includes(e)||(Mo.push(e),Po||(Po=!0,document.addEventListener("paste",No)))},Co=function(e){Me(Mo,Mo.indexOf(e)),0===Mo.length&&(document.removeEventListener("paste",No),Po=!1)},Go=function(){var e=function(e){t.onload(e)},t={destroy:function(){Co(e)},onload:function(){}};return wo(e),t},Uo=null,Bo=null,Fo=[],qo=function(e,t){e.element.textContent=t},Vo=function(e){e.element.textContent=""},xo=function(e,t,n){var r=e.query("GET_TOTAL_ITEMS");qo(e,n+" "+t+", "+r+" "+(1===r?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(Bo),Bo=setTimeout((function(){Vo(e)}),1500)},Yo=function(e){return e.element.parentNode.contains(document.activeElement)},ko=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_ABORTED");qo(t,r+" "+o)},jo=function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename;qo(t,n.status.main+" "+r+" "+n.status.sub)},Ho=B({create:function(e){var t=e.root,n=e.props;t.element.id="filepond--assistant-"+n.id,a(t.element,"role","status"),a(t.element,"aria-live","polite"),a(t.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:q({DID_LOAD_ITEM:function(e){var t=e.root,n=e.action;if(Yo(t)){t.element.textContent="";var r=t.query("GET_ITEM",n.id);Fo.push(r.filename),clearTimeout(Uo),Uo=setTimeout((function(){xo(t,Fo.join(", "),t.query("GET_LABEL_FILE_ADDED")),Fo.length=0}),750)}},DID_REMOVE_ITEM:function(e){var t=e.root,n=e.action;if(Yo(t)){var r=n.item;xo(t,r.filename,t.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(e){var t=e.root,n=e.action,r=t.query("GET_ITEM",n.id).filename,o=t.query("GET_LABEL_FILE_PROCESSING_COMPLETE");qo(t,r+" "+o)},DID_ABORT_ITEM_PROCESSING:ko,DID_REVERT_ITEM_PROCESSING:ko,DID_THROW_ITEM_REMOVE_ERROR:jo,DID_THROW_ITEM_LOAD_ERROR:jo,DID_THROW_ITEM_INVALID:jo,DID_THROW_ITEM_PROCESSING_ERROR:jo}),tag:"span",name:"assistant"}),Wo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.replace(new RegExp(t+".","g"),(function(e){return e.charAt(1).toUpperCase()}))},Xo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Date.now(),o=null;return function(){for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];clearTimeout(o);var s=Date.now()-r,l=function(){r=Date.now(),e.apply(void 0,a)};s<t?n||(o=setTimeout(l,t-s)):l()}},zo=1e6,Qo=function(e){return e.preventDefault()},Zo=function(e){var t=e.root,n=e.props,r=t.query("GET_ID");r&&(t.element.id=r);var o=t.query("GET_CLASS_NAME");o&&o.split(" ").filter((function(e){return e.length})).forEach((function(e){t.element.classList.add(e)})),t.ref.label=t.appendChildView(t.createChildView(Fr,Object.assign({},n,{translateY:null,caption:t.query("GET_LABEL_IDLE")}))),t.ref.list=t.appendChildView(t.createChildView(Or,{translateY:null})),t.ref.panel=t.appendChildView(t.createChildView(nr,{name:"panel-root"})),t.ref.assistant=t.appendChildView(t.createChildView(Ho,Object.assign({},n))),t.ref.data=t.appendChildView(t.createChildView(Zr,Object.assign({},n))),t.ref.measure=In("div"),t.ref.measure.style.height="100%",t.element.appendChild(t.ref.measure),t.ref.bounds=null,t.query("GET_STYLES").filter((function(e){return!k(e.value)})).map((function(e){var n=e.name,r=e.value;t.element.dataset[n]=r})),t.ref.widthPrevious=null,t.ref.widthUpdated=Xo((function(){t.ref.updateHistory=[],t.dispatch("DID_RESIZE_ROOT")}),250),t.ref.previousAspectRatio=null,t.ref.updateHistory=[];var i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;t.query("GET_ALLOW_REORDER")&&a&&!i&&(t.element.addEventListener("touchmove",Qo,{passive:!1}),t.element.addEventListener("gesturestart",Qo));var u=t.query("GET_CREDITS");if(2===u.length){var s=document.createElement("a");s.className="filepond--credits",s.setAttribute("aria-hidden","true"),s.href=u[0],s.tabindex=-1,s.target="_blank",s.rel="noopener noreferrer",s.textContent=u[1],t.element.appendChild(s),t.ref.credits=s}},Ko=function(e){var t=e.root,n=e.props,r=e.actions;if(ai({root:t,props:n,actions:r}),r.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!k(e.data.value)})).map((function(e){var n=e.type,r=e.data,o=Wo(n.substring(8).toLowerCase(),"_");t.element.dataset[o]=r.value,t.invalidateLayout()})),!t.rect.element.hidden){t.rect.element.width!==t.ref.widthPrevious&&(t.ref.widthPrevious=t.rect.element.width,t.ref.widthUpdated());var o=t.ref.bounds;o||(o=t.ref.bounds=ei(t),t.element.removeChild(t.ref.measure),t.ref.measure=null);var i=t.ref,a=i.hopper,u=i.label,s=i.list,l=i.panel;a&&a.updateHopperState();var c=t.query("GET_PANEL_ASPECT_RATIO"),f=t.query("GET_ALLOW_MULTIPLE"),d=t.query("GET_TOTAL_ITEMS"),p=d===(f?t.query("GET_MAX_FILES")||zo:1),E=r.find((function(e){return"DID_ADD_ITEM"===e.type}));if(p&&E){var _=E.data.interactionMethod;u.opacity=0,f?u.translateY=-40:_===ge.API?u.translateX=40:_===ge.BROWSE?u.translateY=40:u.translateY=30}else p||(u.opacity=1,u.translateX=0,u.translateY=0);var T=$o(t),I=Jo(t),v=u.rect.element.height,m=!f||p?0:v,h=p?s.rect.element.marginTop:0,g=0===d?0:s.rect.element.marginBottom,R=m+h+I.visual+g,O=m+h+I.bounds+g;if(s.translateY=Math.max(0,m-s.rect.element.marginTop)-T.top,c){var y=t.rect.element.width,D=y*c;c!==t.ref.previousAspectRatio&&(t.ref.previousAspectRatio=c,t.ref.updateHistory=[]);var S=t.ref.updateHistory;S.push(y);var A=2;if(S.length>2*A)for(var L=S.length,b=L-10,P=0,M=L;M>=b;M--)if(S[M]===S[M-2]&&P++,P>=A)return;l.scalable=!1,l.height=D;var N=D-m-(g-T.bottom)-(p?h:0);I.visual>N?s.overflow=N:s.overflow=null,t.height=D}else if(o.fixedHeight){l.scalable=!1;var w=o.fixedHeight-m-(g-T.bottom)-(p?h:0);I.visual>w?s.overflow=w:s.overflow=null}else if(o.cappedHeight){var C=R>=o.cappedHeight,G=Math.min(o.cappedHeight,R);l.scalable=!0,l.height=C?G:G-T.top-T.bottom;var U=G-m-(g-T.bottom)-(p?h:0);R>o.cappedHeight&&I.visual>U?s.overflow=U:s.overflow=null,t.height=Math.min(o.cappedHeight,O-T.top-T.bottom)}else{var B=d>0?T.top+T.bottom:0;l.scalable=!0,l.height=Math.max(v,R-B),t.height=Math.max(v,O-B)}t.ref.credits&&l.heightCurrent&&(t.ref.credits.style.transform="translateY("+l.heightCurrent+"px)")}},$o=function(e){var t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Jo=function(e){var t=0,n=0,r=e.ref.list,o=r.childViews[0],i=o.childViews.filter((function(e){return e.rect.element.height})),a=e.query("GET_ACTIVE_ITEMS").map((function(e){return i.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(0===a.length)return{visual:t,bounds:n};var u=o.rect.element.width,s=dr(o,a,r.dragCoordinates),l=a[0].rect.element,c=l.marginTop+l.marginBottom,f=l.marginLeft+l.marginRight,d=l.width+f,p=l.height+c,E="undefined"!==typeof s&&s>=0?1:0,_=a.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0,T=a.length+E+_,I=fr(u,d);return 1===I?a.forEach((function(e){var r=e.rect.element.height+c;n+=r,t+=r*e.opacity})):(n=Math.ceil(T/I)*p,t=n),{visual:t,bounds:n}},ei=function(e){var t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:0===t?null:t}},ti=function(e,t){var n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS"),i=e.query("GET_MAX_FILES"),a=t.length;return(!r&&a>1||!(!r&&n)&&!!(J(i=r?i:1)&&o+a>i))&&(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ft("warning",0,"Max files")}),!0)},ni=function(e,t,n){var r=e.childViews[0];return dr(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},ri=function(e){var t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){var o=bo(e.element,(function(t){var n=e.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!e.query("GET_DROP_VALIDATION")||t.every((function(t){return We("ALLOW_HOPPER_ITEM",t,{query:e.query}).every((function(e){return!0===e}))&&n(t)}))}),{filterItems:function(t){var n=e.query("GET_IGNORED_FILES");return t.filter((function(e){return!Jt(e)||!n.includes(e.name.toLowerCase())}))},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});o.onload=function(t,n){var r=e.ref.list.childViews[0].childViews.filter((function(e){return e.rect.element.height})),o=e.query("GET_ACTIVE_ITEMS").map((function(e){return r.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));He("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(ti(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:ni(e.ref.list,o,n),interactionMethod:ge.DROP})})),e.dispatch("DID_DROP",{position:n}),e.dispatch("DID_END_DRAG",{position:n})},o.ondragstart=function(t){e.dispatch("DID_START_DRAG",{position:t})},o.ondrag=Xo((function(t){e.dispatch("DID_DRAG",{position:t})})),o.ondragend=function(t){e.dispatch("DID_END_DRAG",{position:t})},e.ref.hopper=o,e.ref.drip=e.appendChildView(e.createChildView(kr))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},oi=function(e,t){var n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),o=n&&!r;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Cr,Object.assign({},t,{onload:function(t){He("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(ti(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ge.BROWSE})}))}})),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ii=function(e){var t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=Go(),e.ref.paster.onload=function(t){He("ADD_ITEMS",t,{dispatch:e.dispatch}).then((function(t){if(ti(e,t))return!1;e.dispatch("ADD_ITEMS",{items:t,index:-1,interactionMethod:ge.PASTE})}))}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},ai=q({DID_SET_ALLOW_BROWSE:function(e){var t=e.root,n=e.props;oi(t,n)},DID_SET_ALLOW_DROP:function(e){var t=e.root;ri(t)},DID_SET_ALLOW_PASTE:function(e){var t=e.root;ii(t)},DID_SET_DISABLED:function(e){var t=e.root,n=e.props;ri(t),ii(t),oi(t,n),t.query("GET_DISABLED")?t.element.dataset.disabled="disabled":t.element.removeAttribute("data-disabled")}}),ui=B({name:"root",read:function(e){var t=e.root;t.ref.measure&&(t.ref.measureHeight=t.ref.measure.offsetHeight)},create:Zo,write:Ko,destroy:function(e){var t=e.root;t.ref.paster&&t.ref.paster.destroy(),t.ref.hopper&&t.ref.hopper.destroy(),t.element.removeEventListener("touchmove",Qo),t.element.removeEventListener("gesturestart",Qo)},mixins:{styles:["height"]}}),si=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,r=Qe(),o=n(Te(r),[ft,he(r)],[En,me(r)]);o.dispatch("SET_OPTIONS",{options:e});var a=function(){document.hidden||o.dispatch("KICK")};document.addEventListener("visibilitychange",a);var u=null,s=!1,l=!1,c=null,f=null,d=function(){s||(s=!0),clearTimeout(u),u=setTimeout((function(){s=!1,c=null,f=null,l&&(l=!1,o.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",d);var p=ui(o,{id:Re()}),E=!1,_=!1,T={_read:function(){s&&(f=window.innerWidth,c||(c=f),l||f===c||(o.dispatch("DID_START_RESIZE"),l=!0)),_&&E&&(E=null===p.element.offsetParent),E||(p._read(),_=p.rect.element.hidden)},_write:function(e){var t=o.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));E&&!t.length||(g(t),E=p._write(e,t,l),Be(o.query("GET_ITEMS")),E&&o.processDispatchQueue())}},I=function(e){return function(t){var n={type:e};if(!t)return n;if(t.hasOwnProperty("error")&&(n.error=t.error?Object.assign({},t.error):null),t.status&&(n.status=Object.assign({},t.status)),t.file&&(n.output=t.file),t.source)n.file=t.source;else if(t.item||t.id){var r=t.item?t.item:o.query("GET_ITEM",t.id);n.file=r?Ue(r):null}return t.items&&(n.items=t.items.map(Ue)),/progress/.test(e)&&(n.progress=t.progress),t.hasOwnProperty("origin")&&t.hasOwnProperty("target")&&(n.origin=t.origin,n.target=t.target),n}},v={DID_DESTROY:I("destroy"),DID_INIT:I("init"),DID_THROW_MAX_FILES:I("warning"),DID_INIT_ITEM:I("initfile"),DID_START_ITEM_LOAD:I("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:I("addfileprogress"),DID_LOAD_ITEM:I("addfile"),DID_THROW_ITEM_INVALID:[I("error"),I("addfile")],DID_THROW_ITEM_LOAD_ERROR:[I("error"),I("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[I("error"),I("removefile")],DID_PREPARE_OUTPUT:I("preparefile"),DID_START_ITEM_PROCESSING:I("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:I("processfileprogress"),DID_ABORT_ITEM_PROCESSING:I("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:I("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:I("processfiles"),DID_REVERT_ITEM_PROCESSING:I("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[I("error"),I("processfile")],DID_REMOVE_ITEM:I("removefile"),DID_UPDATE_ITEMS:I("updatefiles"),DID_ACTIVATE_ITEM:I("activatefile"),DID_REORDER_ITEMS:I("reorderfiles")},m=function(e){var t=Object.assign({pond:C},e);delete t.type,p.element.dispatchEvent(new CustomEvent("FilePond:"+e.type,{detail:t,bubbles:!0,cancelable:!0,composed:!0}));var n=[];e.hasOwnProperty("error")&&n.push(e.error),e.hasOwnProperty("file")&&n.push(e.file);var r=["type","error","file"];Object.keys(e).filter((function(e){return!r.includes(e)})).forEach((function(t){return n.push(e[t])})),C.fire.apply(C,[e.type].concat(n));var i=o.query("GET_ON"+e.type.toUpperCase());i&&i.apply(void 0,n)},g=function(e){e.length&&e.filter((function(e){return v[e.type]})).forEach((function(e){var t=v[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){"DID_INIT_ITEM"===e.type?m(t(e.data)):setTimeout((function(){m(t(e.data))}),0)}))}))},R=function(e){return o.dispatch("SET_OPTIONS",{options:e})},O=function(e){return o.query("GET_ACTIVE_ITEM",e)},y=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PREPARE",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){L([{source:e,options:t}],{index:t.index}).then((function(e){return n(e&&e[0])})).catch(r)}))},S=function(e){return e.file&&e.id},A=function(e,t){return"object"!==typeof e||S(e)||t||(t=e,e=void 0),o.dispatch("REMOVE_ITEM",Object.assign({},t,{query:e})),null===o.query("GET_ACTIVE_ITEM",e)},L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((function(e,n){var r=[],i={};if(Y(t[0]))r.push.apply(r,t[0]),Object.assign(i,t[1]||{});else{var a=t[t.length-1];"object"!==typeof a||a instanceof Blob||Object.assign(i,t.pop()),r.push.apply(r,t)}o.dispatch("ADD_ITEMS",{items:r,index:i.index,interactionMethod:ge.API,success:e,failure:n})}))},b=function(){return o.query("GET_ACTIVE_ITEMS")},P=function(e){return new Promise((function(t,n){o.dispatch("REQUEST_ITEM_PROCESSING",{query:e,success:function(e){t(e)},failure:function(e){n(e)}})}))},M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t,o=r.length?r:b();return Promise.all(o.map(y))},N=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t;if(!r.length){var o=b().filter((function(e){return!(e.status===Fe.IDLE&&e.origin===qe.LOCAL)&&e.status!==Fe.PROCESSING&&e.status!==Fe.PROCESSING_COMPLETE&&e.status!==Fe.PROCESSING_REVERT_ERROR}));return Promise.all(o.map(P))}return Promise.all(r.map(P))},w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=Array.isArray(t[0])?t[0]:t;"object"===typeof o[o.length-1]?r=o.pop():Array.isArray(t[0])&&(r=t[1]);var i=b();return o.length?o.map((function(e){return h(e)?i[e]?i[e].id:null:e})).filter((function(e){return e})).map((function(e){return A(e,r)})):Promise.all(i.map((function(e){return A(e,r)})))},C=Object.assign({},we(),{},T,{},ve(o,r),{setOptions:R,addFile:D,addFiles:L,getFile:O,processFile:P,prepareFile:y,removeFile:A,moveFile:function(e,t){return o.dispatch("MOVE_ITEM",{query:e,index:t})},getFiles:b,processFiles:N,removeFiles:w,prepareFiles:M,sort:function(e){return o.dispatch("SORT",{compare:e})},browse:function(){var e=p.element.querySelector("input[type=file]");e&&e.click()},destroy:function(){C.fire("destroy",p.element),o.dispatch("ABORT_ALL"),p._destroy(),window.removeEventListener("resize",d),document.removeEventListener("visibilitychange",a),o.dispatch("DID_DESTROY")},insertBefore:function(e){return V(p.element,e)},insertAfter:function(e){return x(p.element,e)},appendTo:function(e){return e.appendChild(p.element)},replaceElement:function(e){V(p.element,e),e.parentNode.removeChild(e),t=e},restoreElement:function(){t&&(x(t,p.element),p.element.parentNode.removeChild(p.element),t=null)},isAttachedTo:function(e){return p.element===e||t===e},element:{get:function(){return p.element}},status:{get:function(){return o.query("GET_STATUS")}}});return o.dispatch("DID_INIT"),i(C)},li=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return o(Qe(),(function(e,n){t[e]=n[0]})),si(Object.assign({},t,{},e))},ci=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},fi=function(e){return Wo(e.replace(/^data-/,""))},di=function e(t,n){o(n,(function(n,r){o(t,(function(e,o){var i=new RegExp(n);if(i.test(e)&&(delete t[e],!1!==r))if(Q(r))t[r]=o;else{var a=r.group;ue(r)&&!t[a]&&(t[a]={}),t[a][ci(e.replace(i,""))]=o}})),r.mapping&&e(t[r.group],r.mapping)}))},pi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];o(e.attributes,(function(t){n.push(e.attributes[t])}));var r=n.filter((function(e){return e.name})).reduce((function(t,n){var r=a(e,n.name);return t[fi(n.name)]=r===n.name||r,t}),{});return di(r,t),r},Ei=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};We("SET_ATTRIBUTE_TO_OPTION_MAP",n);var r=Object.assign({},t),o=pi("FIELDSET"===e.nodeName?e.querySelector("input[type=file]"):e,n);Object.keys(o).forEach((function(e){ue(o[e])?(ue(r[e])||(r[e]={}),Object.assign(r[e],o[e])):r[e]=o[e]})),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var i=li(r);return e.files&&Array.from(e.files).forEach((function(e){i.addFile(e)})),i.replaceElement(e),i},_i=function(){return t(arguments.length<=0?void 0:arguments[0])?Ei.apply(void 0,arguments):li.apply(void 0,arguments)},Ti=["fire","_read","_write"],Ii=function(e){var t={};return Ce(e,t,Ti),t},vi=function(e,t){return e.replace(/(?:{([a-zA-Z]+)})/g,(function(e,n){return t[n]}))},mi=function(e){var t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:function(e,t){},post:function(e,t,n){var o=Re();r.onmessage=function(e){e.data.id===o&&t(e.data.message)},r.postMessage({id:o,message:e},n)},terminate:function(){r.terminate(),URL.revokeObjectURL(n)}}},hi=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},gi=function(e,t){var n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},Ri=function(e){return gi(e,e.name)},Oi=[],yi=function(e){if(!Oi.includes(e)){Oi.push(e);var t=e({addFilter:Xe,utils:{Type:ke,forin:o,isString:Q,isFile:Jt,toNaturalFileSize:yn,replaceInString:vi,getExtensionFromFilename:vt,getFilenameWithoutExtension:Kt,guesstimateMimeType:to,getFileFromBlob:Rt,getFilenameFromURL:It,createRoute:q,createWorker:mi,createView:B,createItemAPI:Ue,loadImage:hi,copyFile:Ri,renameFile:gi,createBlob:yt,applyFilterChain:He,text:vn,getNumericAspectRatioFromString:Je},views:{fileActionButton:On}});ze(t.options)}},Di=function(){return"[object OperaMini]"===Object.prototype.toString.call(window.operamini)},Si=function(){return"Promise"in window},Ai=function(){return"slice"in Blob.prototype},Li=function(){return"URL"in window&&"createObjectURL"in window.URL},bi=function(){return"visibilityState"in document},Pi=function(){return"performance"in window},Mi=function(){return"supports"in(window.CSS||{})},Ni=function(){return/MSIE|Trident/.test(window.navigator.userAgent)},wi=function(){var e=_()&&!Di()&&bi()&&Si()&&Ai()&&Li()&&Pi()&&(Mi()||Ni());return function(){return e}}(),Ci={apps:[]},Gi="filepond",Ui=function(){};if(e.Status={},e.FileStatus={},e.FileOrigin={},e.OptionTypes={},e.create=Ui,e.destroy=Ui,e.parse=Ui,e.find=Ui,e.registerPlugin=Ui,e.getOptions=Ui,e.setOptions=Ui,wi()){F((function(){Ci.apps.forEach((function(e){return e._read()}))}),(function(e){Ci.apps.forEach((function(t){return t._write(e)}))}));var Bi=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:wi,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}})),document.removeEventListener("DOMContentLoaded",t)};"loading"!==document.readyState?setTimeout((function(){return Bi()}),0):document.addEventListener("DOMContentLoaded",Bi);var Fi=function(){return o(Qe(),(function(t,n){e.OptionTypes[t]=n[1]}))};e.Status=Object.assign({},tt),e.FileOrigin=Object.assign({},qe),e.FileStatus=Object.assign({},Fe),e.OptionTypes={},Fi(),e.create=function(){var t=_i.apply(void 0,arguments);return t.on("destroy",e.destroy),Ci.apps.push(t),Ii(t)},e.destroy=function(e){var t=Ci.apps.findIndex((function(t){return t.isAttachedTo(e)}));return t>=0&&(Ci.apps.splice(t,1)[0].restoreElement(),!0)},e.parse=function(t){return Array.from(t.querySelectorAll("."+Gi)).filter((function(e){return!Ci.apps.find((function(t){return t.isAttachedTo(e)}))})).map((function(t){return e.create(t)}))},e.find=function(e){var t=Ci.apps.find((function(t){return t.isAttachedTo(e)}));return t?Ii(t):null},e.registerPlugin=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(yi),Fi()},e.getOptions=function(){var e={};return o(Qe(),(function(t,n){e[t]=n[0]})),e},e.setOptions=function(t){return ue(t)&&(Ci.apps.forEach((function(e){e.setOptions(t)})),Ze(t)),e.getOptions()}}e.supported=wi,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL1VzZXJzL21hcmlhZ2ltZW5hZXNwb3NpdG8vRG9jdW1lbnRzL1JlZGlzZW5vL1JlbGVhc2UyMzYvYXItYmFuY29yLXJlZGlzZW5vLWVudHJlZ2Evbm9kZV9tb2R1bGVzL2ZpbGVwb25kL2Rpc3QvZmlsZXBvbmQuanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsImlzTm9kZSIsInZhbHVlIiwiSFRNTEVsZW1lbnQiLCJjcmVhdGVTdG9yZSIsImluaXRpYWxTdGF0ZSIsInF1ZXJpZXMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJhY3Rpb25zIiwic3RhdGUiLCJPYmplY3QiLCJhc3NpZ24iLCJhY3Rpb25RdWV1ZSIsImRpc3BhdGNoUXVldWUiLCJwcm9jZXNzRGlzcGF0Y2hRdWV1ZSIsInF1ZXVlIiwiY29uY2F0IiwiZm9yRWFjaCIsIl9yZWYiLCJ0eXBlIiwiZGF0YSIsImRpc3BhdGNoIiwiaXNCbG9ja2luZyIsImRvY3VtZW50IiwiaGlkZGVuIiwiYWN0aW9uSGFuZGxlcnMiLCJwdXNoIiwicXVlcnkiLCJzdHIiLCJfcXVlcnlIYW5kbGVzIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJxdWVyeUhhbmRsZXMiLCJhcHBseSIsImFwaSIsImdldFN0YXRlIiwicHJvY2Vzc0FjdGlvblF1ZXVlIiwiYWN0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJwcm9wZXJ0eSIsImRlZmluaXRpb24iLCJmb3JpbiIsImNiIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJjcmVhdGVPYmplY3QiLCJhdHRyIiwibm9kZSIsIm5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJoYXNBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJucyIsInN2Z0VsZW1lbnRzIiwiaXNTVkdFbGVtZW50IiwidGFnIiwiaW5jbHVkZXMiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYXR0cmlidXRlcyIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50TlMiLCJhcHBlbmRDaGlsZCIsInBhcmVudCIsImNoaWxkIiwiaW5kZXgiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkVmlldyIsImNoaWxkVmlld3MiLCJ2aWV3Iiwic3BsaWNlIiwicmVtb3ZlQ2hpbGRWaWV3IiwiaW5kZXhPZiIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIklTX0JST1dTRVIiLCJ3aW5kb3ciLCJpc0Jyb3dzZXIiLCJnZXRDaGlsZENvdW50IiwiZWwiLCJjaGlsZE5vZGVzIiwiZ2V0Vmlld1JlY3QiLCJlbGVtZW50UmVjdCIsIm9mZnNldCIsInNjYWxlIiwibGVmdCIsInRvcCIsInJpZ2h0Iiwid2lkdGgiLCJib3R0b20iLCJoZWlnaHQiLCJyZWN0IiwiaW5uZXIiLCJvdXRlciIsImZpbHRlciIsImNoaWxkVmlldyIsImlzUmVjdElnbm9yZWQiLCJtYXAiLCJjaGlsZFZpZXdSZWN0IiwiZXhwYW5kUmVjdCIsImNhbGN1bGF0ZVJlY3RTaXplIiwibWFyZ2luQm90dG9tIiwibWFyZ2luUmlnaHQiLCJpc051bWJlciIsInRoZXJlWWV0IiwicG9zaXRpb24iLCJkZXN0aW5hdGlvbiIsInZlbG9jaXR5IiwiZXJyb3JNYXJnaW4iLCJNYXRoIiwiYWJzIiwic3ByaW5nIiwiX3JlZiRzdGlmZm5lc3MiLCJzdGlmZm5lc3MiLCJfcmVmJGRhbXBpbmciLCJkYW1waW5nIiwiX3JlZiRtYXNzIiwibWFzcyIsInRhcmdldCIsInJlc3RpbmciLCJpbnRlcnBvbGF0ZSIsInRzIiwic2tpcFRvRW5kU3RhdGUiLCJvbnVwZGF0ZSIsIm9uY29tcGxldGUiLCJzZXQiLCJnZXQiLCJlYXNlSW5PdXRRdWFkIiwidCIsInR3ZWVuIiwicCIsIl9yZWYkZHVyYXRpb24iLCJkdXJhdGlvbiIsIl9yZWYkZWFzaW5nIiwiZWFzaW5nIiwiX3JlZiRkZWxheSIsImRlbGF5Iiwic3RhcnQiLCJyZXZlcnNlIiwiYW5pbWF0b3IiLCJjcmVhdGVBbmltYXRvciIsImNhdGVnb3J5IiwiZGVmIiwicHJvcHMiLCJhZGRHZXRTZXQiLCJrZXlzIiwib3ZlcndyaXRlIiwiaXNBcnJheSIsIm8iLCJnZXR0ZXIiLCJzZXR0ZXIiLCJhZGRFdmVudCIsImZuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRGVmaW5lZCIsImRlZmF1bHRzIiwib3BhY2l0eSIsInNjYWxlWCIsInNjYWxlWSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicm90YXRlWCIsInJvdGF0ZVkiLCJyb3RhdGVaIiwib3JpZ2luWCIsIm9yaWdpblkiLCJzdHlsZXMiLCJtaXhpbkNvbmZpZyIsInZpZXdQcm9wcyIsInZpZXdJbnRlcm5hbEFQSSIsInZpZXdFeHRlcm5hbEFQSSIsImluaXRpYWxQcm9wcyIsImN1cnJlbnRQcm9wcyIsImdldE9mZnNldCIsImdldFNjYWxlIiwiZ2V0UmVjdCIsIndyaXRlIiwicHJvcHNIYXZlQ2hhbmdlZCIsImFwcGx5U3R5bGVzIiwiZGVzdHJveSIsIm5ld1Byb3BzIiwicHJvcCIsIl9yZWYyIiwicGVyc3BlY3RpdmUiLCJ0cmFuc2Zvcm1zIiwiZWxlbWVudEN1cnJlbnRTdHlsZSIsInN0eWxlIiwiY3NzVGV4dCIsIk1peGlucyIsImxpc3RlbmVycyIsInZpZXdTdGF0ZSIsImV2ZW50cyIsImFkZCIsInJlbW92ZSIsIm9uIiwib2ZmIiwiZmluZEluZGV4IiwiZXZlbnQiLCJhbmltYXRpb25zIiwiYW5pbWF0aW9uIiwiYXBpcyIsInVwZGF0ZVJlY3QiLCJsYXlvdXRDYWxjdWxhdGVkIiwicGFkZGluZ1RvcCIsInBhcnNlSW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFRvcCIsIm9mZnNldFBhcmVudCIsImNyZWF0ZVZpZXciLCJfcmVmJHRhZyIsIl9yZWYkbmFtZSIsIl9yZWYkYXR0cmlidXRlcyIsIl9yZWYkcmVhZCIsInJlYWQiLCJfcmVmJHdyaXRlIiwiX3JlZiRjcmVhdGUiLCJjcmVhdGUiLCJfcmVmJGRlc3Ryb3kiLCJfcmVmJGZpbHRlckZyYW1lQWN0aW8iLCJmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCIsIl9yZWYkZGlkQ3JlYXRlVmlldyIsImRpZENyZWF0ZVZpZXciLCJfcmVmJGRpZFdyaXRlVmlldyIsImRpZFdyaXRlVmlldyIsIl9yZWYkaWdub3JlUmVjdCIsImlnbm9yZVJlY3QiLCJfcmVmJGlnbm9yZVJlY3RVcGRhdGUiLCJpZ25vcmVSZWN0VXBkYXRlIiwiX3JlZiRtaXhpbnMiLCJtaXhpbnMiLCJzdG9yZSIsImdldENvbXB1dGVkU3R5bGUiLCJmcmFtZVJlY3QiLCJpc1Jlc3RpbmciLCJhY3RpdmVNaXhpbnMiLCJyZWYiLCJ3cml0ZXJzIiwicmVhZGVycyIsImRlc3Ryb3llcnMiLCJnZXRFbGVtZW50IiwiZ2V0Q2hpbGRWaWV3cyIsImdldFJlZmVyZW5jZSIsImNyZWF0ZUNoaWxkVmlldyIsIl9yZWFkIiwicm9vdCIsImludGVybmFsQVBJIiwicmVhZGVyIiwiX3dyaXRlIiwiZnJhbWVBY3Rpb25zIiwic2hvdWxkT3B0aW1pemUiLCJ3cml0ZXIiLCJ0aW1lc3RhbXAiLCJtaXhpbiIsIl9kZXN0cm95IiwiZGVzdHJveWVyIiwic2hhcmVkQVBJRGVmaW5pdGlvbiIsImludGVybmFsQVBJRGVmaW5pdGlvbiIsImlzIiwibmVlZGxlIiwibGlua1ZpZXciLCJ1bmxpbmtWaWV3IiwicmVnaXN0ZXJXcml0ZXIiLCJyZWdpc3RlclJlYWRlciIsInJlZ2lzdGVyRGVzdHJveWVyIiwiaW52YWxpZGF0ZUxheW91dCIsImV4dGVybmFsQVBJRGVmaW5pdGlvbiIsIm1peGluQVBJRGVmaW5pdGlvbiIsInNvcnQiLCJhIiwiYiIsIm1peGluQVBJIiwiY2hpbGRDb3VudCIsImNyZWF0ZVBhaW50ZXIiLCJmcHMiLCJwYWludGVyIiwiaW50ZXJ2YWwiLCJsYXN0IiwiaWQiLCJyZXF1ZXN0VGljayIsImNhbmNlbFRpY2siLCJzZXRUaW1lclR5cGUiLCJzZXRUaW1lb3V0IiwidGljayIsInBlcmZvcm1hbmNlIiwibm93IiwiY2xlYXJUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJkZWx0YSIsInBhdXNlIiwiY3JlYXRlUm91dGUiLCJyb3V0ZXMiLCJfcmVmJGFjdGlvbnMiLCJuZXdOb2RlIiwicmVmZXJlbmNlTm9kZSIsImluc2VydEFmdGVyIiwibmV4dFNpYmxpbmciLCJpc0VtcHR5IiwidHJpbSIsInRvU3RyaW5nIiwidG9BcnJheSIsInNwbGl0dGVyIiwic3BsaXQiLCJpc0Jvb2xlYW4iLCJ0b0Jvb2xlYW4iLCJpc1N0cmluZyIsInRvTnVtYmVyIiwicmVwbGFjZSIsInRvSW50IiwidG9GbG9hdCIsInBhcnNlRmxvYXQiLCJpc0ludCIsImlzRmluaXRlIiwiZmxvb3IiLCJ0b0J5dGVzIiwiYmFzZSIsIm5hdHVyYWxGaWxlU2l6ZSIsInRlc3QiLCJpc0Z1bmN0aW9uIiwidG9GdW5jdGlvblJlZmVyZW5jZSIsInN0cmluZyIsInNlbGYiLCJsZXZlbHMiLCJsZXZlbCIsInNoaWZ0IiwibWV0aG9kcyIsInByb2Nlc3MiLCJwYXRjaCIsInJldmVydCIsImZldGNoIiwicmVzdG9yZSIsImxvYWQiLCJjcmVhdGVTZXJ2ZXJBUEkiLCJvdXRsaW5lIiwidXJsIiwidGltZW91dCIsImhlYWRlcnMiLCJjcmVhdGVBY3Rpb24iLCJtZXRob2QiLCJ3aXRoQ3JlZGVudGlhbHMiLCJvbmxvYWQiLCJvbmRhdGEiLCJvbmVycm9yIiwicGFydHMiLCJoZWFkZXIiLCJpc051bGwiLCJpc09iamVjdCIsImlzQVBJIiwiZ2V0VHlwZSIsInJlcGxhY2VTaW5nbGVRdW90ZXMiLCJjb252ZXJzaW9uVGFibGUiLCJhcnJheSIsImJvb2xlYW4iLCJpbnQiLCJudW1iZXIiLCJmbG9hdCIsImJ5dGVzIiwiZnVuY3Rpb24iLCJzZXJ2ZXJhcGkiLCJvYmplY3QiLCJKU09OIiwicGFyc2UiLCJlIiwiY29udmVydFRvIiwiZ2V0VmFsdWVCeVR5cGUiLCJuZXdWYWx1ZSIsImRlZmF1bHRWYWx1ZSIsInZhbHVlVHlwZSIsIm5ld1ZhbHVlVHlwZSIsImNvbnZlcnRlZFZhbHVlIiwib3B0aW9uIiwiY3JlYXRlT3B0aW9uIiwiY3VycmVudFZhbHVlIiwiZW51bWVyYWJsZSIsImNyZWF0ZU9wdGlvbnMiLCJvcHRpb25zIiwib3B0aW9uRGVmaW5pdGlvbiIsImNyZWF0ZUluaXRpYWxTdGF0ZSIsIml0ZW1zIiwibGlzdFVwZGF0ZVRpbWVvdXQiLCJpdGVtVXBkYXRlVGltZW91dCIsInByb2Nlc3NpbmdRdWV1ZSIsImZyb21DYW1lbHMiLCJzZXBhcmF0b3IiLCJwYXJ0IiwidG9Mb3dlckNhc2UiLCJqb2luIiwiY3JlYXRlT3B0aW9uQVBJIiwidG9VcHBlckNhc2UiLCJjcmVhdGVPcHRpb25BY3Rpb25zIiwiY3JlYXRlT3B0aW9uUXVlcmllcyIsIkludGVyYWN0aW9uTWV0aG9kIiwiQVBJIiwiRFJPUCIsIkJST1dTRSIsIlBBU1RFIiwiTk9ORSIsImdldFVuaXF1ZUlkIiwicmFuZG9tIiwic3Vic3RyaW5nIiwiX0F3YWl0VmFsdWUiLCJ0aGlzIiwid3JhcHBlZCIsIl9Bc3luY0dlbmVyYXRvciIsImdlbiIsImZyb250IiwiYmFjayIsInNlbmQiLCJhcmciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3QiLCJuZXh0IiwicmVzdW1lIiwicmVzdWx0Iiwid3JhcHBlZEF3YWl0IiwidGhlbiIsInNldHRsZSIsImRvbmUiLCJlcnIiLCJfaW52b2tlIiwicmV0dXJuIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJzb3VyY2UiLCJleGNsdWRlZCIsImkiLCJzb3VyY2VLZXlzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic291cmNlU3ltYm9sS2V5cyIsInByb3RvdHlwZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY2FsbCIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJhcnIyIiwiaXRlciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZnJvbSIsIlR5cGVFcnJvciIsImFzeW5jSXRlcmF0b3IiLCJ0aHJvdyIsImFycmF5UmVtb3ZlIiwicnVuIiwic3luYyIsImxpc3RlbmVyIiwiX2ZpcmUiLCJmaXJlU3luYyIsImZpcmUiLCJfbGVuMiIsIl9rZXkyIiwib25PbmNlIiwiX2NiIiwiY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdCIsInNyYyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJQUklWQVRFIiwiY3JlYXRlSXRlbUFQSSIsIml0ZW0iLCJyZW1vdmVSZWxlYXNlZEl0ZW1zIiwicmVsZWFzZWQiLCJJdGVtU3RhdHVzIiwiSU5JVCIsIklETEUiLCJQUk9DRVNTSU5HX1FVRVVFRCIsIlBST0NFU1NJTkciLCJQUk9DRVNTSU5HX0NPTVBMRVRFIiwiUFJPQ0VTU0lOR19FUlJPUiIsIlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SIiwiTE9BRElORyIsIkxPQURfRVJST1IiLCJGaWxlT3JpZ2luIiwiSU5QVVQiLCJMSU1CTyIsIkxPQ0FMIiwiZ2V0Tm9uTnVtZXJpYyIsImV4ZWMiLCJnZXREZWNpbWFsU2VwYXJhdG9yIiwidG9Mb2NhbGVTdHJpbmciLCJnZXRUaG91c2FuZHNTZXBhcmF0b3IiLCJkZWNpbWFsU2VwYXJhdG9yIiwidGhvdXNhbmRzU3RyaW5nV2l0aFNlcGFyYXRvciIsIlR5cGUiLCJCT09MRUFOIiwiSU5UIiwiTlVNQkVSIiwiU1RSSU5HIiwiQVJSQVkiLCJPQkpFQ1QiLCJGVU5DVElPTiIsIkFDVElPTiIsIlNFUlZFUl9BUEkiLCJSRUdFWCIsImZpbHRlcnMiLCJhcHBseUZpbHRlckNoYWluIiwidXRpbHMiLCJtYXRjaGluZ0ZpbHRlcnMiLCJmIiwiaW5pdGlhbEZpbHRlciIsInJlZHVjZSIsImN1cnJlbnQiLCJjYXRjaCIsImVycm9yIiwiYXBwbHlGaWx0ZXJzIiwiYWRkRmlsdGVyIiwiZXh0ZW5kRGVmYXVsdE9wdGlvbnMiLCJhZGRpdGlvbmFsT3B0aW9ucyIsImRlZmF1bHRPcHRpb25zIiwiZ2V0T3B0aW9ucyIsInNldE9wdGlvbnMiLCJvcHRzIiwiZGlzYWJsZWQiLCJyZXF1aXJlZCIsImNhcHR1cmVNZXRob2QiLCJhbGxvd1N5bmNBY2NlcHRBdHRyaWJ1dGUiLCJhbGxvd0Ryb3AiLCJhbGxvd0Jyb3dzZSIsImFsbG93UGFzdGUiLCJhbGxvd011bHRpcGxlIiwiYWxsb3dSZXBsYWNlIiwiYWxsb3dSZXZlcnQiLCJhbGxvd1JlbW92ZSIsImFsbG93UHJvY2VzcyIsImFsbG93UmVvcmRlciIsImFsbG93RGlyZWN0b3JpZXNPbmx5Iiwic3RvcmVBc0ZpbGUiLCJmb3JjZVJldmVydCIsIm1heEZpbGVzIiwiY2hlY2tWYWxpZGl0eSIsIml0ZW1JbnNlcnRMb2NhdGlvbkZyZWVkb20iLCJpdGVtSW5zZXJ0TG9jYXRpb24iLCJpdGVtSW5zZXJ0SW50ZXJ2YWwiLCJkcm9wT25QYWdlIiwiZHJvcE9uRWxlbWVudCIsImRyb3BWYWxpZGF0aW9uIiwiaWdub3JlZEZpbGVzIiwiaW5zdGFudFVwbG9hZCIsIm1heFBhcmFsbGVsVXBsb2FkcyIsImFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uIiwiY2h1bmtVcGxvYWRzIiwiY2h1bmtGb3JjZSIsImNodW5rU2l6ZSIsImNodW5rUmV0cnlEZWxheXMiLCJzZXJ2ZXIiLCJmaWxlU2l6ZUJhc2UiLCJsYWJlbEZpbGVTaXplQnl0ZXMiLCJsYWJlbEZpbGVTaXplS2lsb2J5dGVzIiwibGFiZWxGaWxlU2l6ZU1lZ2FieXRlcyIsImxhYmVsRmlsZVNpemVHaWdhYnl0ZXMiLCJsYWJlbERlY2ltYWxTZXBhcmF0b3IiLCJsYWJlbFRob3VzYW5kc1NlcGFyYXRvciIsImxhYmVsSWRsZSIsImxhYmVsSW52YWxpZEZpZWxkIiwibGFiZWxGaWxlV2FpdGluZ0ZvclNpemUiLCJsYWJlbEZpbGVTaXplTm90QXZhaWxhYmxlIiwibGFiZWxGaWxlQ291bnRTaW5ndWxhciIsImxhYmVsRmlsZUNvdW50UGx1cmFsIiwibGFiZWxGaWxlTG9hZGluZyIsImxhYmVsRmlsZUFkZGVkIiwibGFiZWxGaWxlTG9hZEVycm9yIiwibGFiZWxGaWxlUmVtb3ZlZCIsImxhYmVsRmlsZVJlbW92ZUVycm9yIiwibGFiZWxGaWxlUHJvY2Vzc2luZyIsImxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZSIsImxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkIiwibGFiZWxGaWxlUHJvY2Vzc2luZ0Vycm9yIiwibGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yIiwibGFiZWxUYXBUb0NhbmNlbCIsImxhYmVsVGFwVG9SZXRyeSIsImxhYmVsVGFwVG9VbmRvIiwibGFiZWxCdXR0b25SZW1vdmVJdGVtIiwibGFiZWxCdXR0b25BYm9ydEl0ZW1Mb2FkIiwibGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkIiwibGFiZWxCdXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nIiwibGFiZWxCdXR0b25VbmRvSXRlbVByb2Nlc3NpbmciLCJsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3NpbmciLCJsYWJlbEJ1dHRvblByb2Nlc3NJdGVtIiwiaWNvblJlbW92ZSIsImljb25Qcm9jZXNzIiwiaWNvblJldHJ5IiwiaWNvblVuZG8iLCJpY29uRG9uZSIsIm9uaW5pdCIsIm9ud2FybmluZyIsIm9uYWN0aXZhdGVmaWxlIiwib25pbml0ZmlsZSIsIm9uYWRkZmlsZXN0YXJ0Iiwib25hZGRmaWxlcHJvZ3Jlc3MiLCJvbmFkZGZpbGUiLCJvbnByb2Nlc3NmaWxlc3RhcnQiLCJvbnByb2Nlc3NmaWxlcHJvZ3Jlc3MiLCJvbnByb2Nlc3NmaWxlYWJvcnQiLCJvbnByb2Nlc3NmaWxlcmV2ZXJ0Iiwib25wcm9jZXNzZmlsZSIsIm9ucHJvY2Vzc2ZpbGVzIiwib25yZW1vdmVmaWxlIiwib25wcmVwYXJlZmlsZSIsIm9udXBkYXRlZmlsZXMiLCJvbnJlb3JkZXJmaWxlcyIsImJlZm9yZURyb3BGaWxlIiwiYmVmb3JlQWRkRmlsZSIsImJlZm9yZVJlbW92ZUZpbGUiLCJiZWZvcmVQcmVwYXJlRmlsZSIsInN0eWxlUGFuZWxMYXlvdXQiLCJzdHlsZVBhbmVsQXNwZWN0UmF0aW8iLCJzdHlsZUl0ZW1QYW5lbEFzcGVjdFJhdGlvIiwic3R5bGVCdXR0b25SZW1vdmVJdGVtUG9zaXRpb24iLCJzdHlsZUJ1dHRvblByb2Nlc3NJdGVtUG9zaXRpb24iLCJzdHlsZUxvYWRJbmRpY2F0b3JQb3NpdGlvbiIsInN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbiIsInN0eWxlQnV0dG9uUmVtb3ZlSXRlbUFsaWduIiwiZmlsZXMiLCJjcmVkaXRzIiwiZ2V0SXRlbUJ5UXVlcnkiLCJmaW5kIiwiZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyIsImFzcGVjdFJhdGlvIiwiZ2V0QWN0aXZlSXRlbXMiLCJhcmNoaXZlZCIsIlN0YXR1cyIsIkVNUFRZIiwiRVJST1IiLCJCVVNZIiwiUkVBRFkiLCJyZXMiLCJjYW5VcGRhdGVGaWxlSW5wdXQiLCJkYXRhVHJhbnNmZXIiLCJEYXRhVHJhbnNmZXIiLCJGaWxlIiwiSVRFTV9FUlJPUiIsIklURU1fQlVTWSIsIklURU1fUkVBRFkiLCJpc0l0ZW1JbkVycm9yU3RhdGUiLCJzdGF0dXMiLCJpc0l0ZW1JbkJ1c3lTdGF0ZSIsImlzSXRlbUluUmVhZHlTdGF0ZSIsImlzQXN5bmMiLCJHRVRfU1RBVFVTIiwic29tZSIsIkdFVF9JVEVNIiwiR0VUX0FDVElWRV9JVEVNIiwiR0VUX0FDVElWRV9JVEVNUyIsIkdFVF9JVEVNUyIsIkdFVF9JVEVNX05BTUUiLCJmaWxlbmFtZSIsIkdFVF9JVEVNX1NJWkUiLCJmaWxlU2l6ZSIsIkdFVF9TVFlMRVMiLCJHRVRfUEFORUxfQVNQRUNUX1JBVElPIiwiR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPIiwiR0VUX0lURU1TX0JZX1NUQVRVUyIsIkdFVF9UT1RBTF9JVEVNUyIsIlNIT1VMRF9VUERBVEVfRklMRV9JTlBVVCIsIklTX0FTWU5DIiwiR0VUX0ZJTEVfU0laRV9MQUJFTFMiLCJsYWJlbEJ5dGVzIiwibGFiZWxLaWxvYnl0ZXMiLCJsYWJlbE1lZ2FieXRlcyIsImxhYmVsR2lnYWJ5dGVzIiwiaGFzUm9vbUZvckl0ZW0iLCJjb3VudCIsIm1heEZpbGVDb3VudCIsImxpbWl0IiwibWluIiwibWF4IiwiYXJyYXlJbnNlcnQiLCJpbnNlcnRJdGVtIiwiaXNCYXNlNjREYXRhVVJJIiwiZ2V0RmlsZW5hbWVGcm9tVVJMIiwicG9wIiwiZ2V0RXh0ZW5zaW9uRnJvbUZpbGVuYW1lIiwiZ3Vlc3N0aW1hdGVFeHRlbnNpb24iLCJzdWJ0eXBlIiwibGVmdFBhZCIsInBhZGRpbmciLCJzbGljZSIsImdldERhdGVTdHJpbmciLCJkYXRlIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldEZpbGVGcm9tQmxvYiIsImJsb2IiLCJleHRlbnNpb24iLCJmaWxlIiwic2l6ZSIsImxhc3RNb2RpZmllZERhdGUiLCJfcmVsYXRpdmVQYXRoIiwiZ2V0QmxvYkJ1aWxkZXIiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiY3JlYXRlQmxvYiIsImFycmF5QnVmZmVyIiwibWltZVR5cGUiLCJCQiIsImJiIiwiYXBwZW5kIiwiZ2V0QmxvYiIsIkJsb2IiLCJnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUiLCJieXRlU3RyaW5nIiwiYWIiLCJBcnJheUJ1ZmZlciIsImlhIiwiVWludDhBcnJheSIsImNoYXJDb2RlQXQiLCJnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJIiwiZGF0YVVSSSIsImdldEJhc2U2NERhdGFGcm9tQmFzZTY0RGF0YVVSSSIsImdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSSIsImF0b2IiLCJnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkiLCJnZXRGaWxlRnJvbUJhc2U2NERhdGFVUkkiLCJnZXRGaWxlTmFtZUZyb21IZWFkZXIiLCJtYXRjaGVzIiwiZGVjb2RlVVJJIiwiZ2V0RmlsZVNpemVGcm9tSGVhZGVyIiwibWF0Y2giLCJnZXRUcmFuZnNlcklkRnJvbUhlYWRlciIsImdldEZpbGVJbmZvRnJvbUhlYWRlcnMiLCJpbmZvIiwicm93cyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJjcmVhdGVGaWxlTG9hZGVyIiwiZmV0Y2hGbiIsImNvbXBsZXRlIiwicHJvZ3Jlc3MiLCJnZXRQcm9ncmVzcyIsImFib3J0IiwibG9hZFVSTCIsInJlc3BvbnNlIiwiYm9keSIsImNvZGUiLCJjb21wdXRhYmxlIiwidG90YWwiLCJmaWxlaW5mbyIsInNldFNvdXJjZSIsImlzR2V0Iiwic2VuZFJlcXVlc3QiLCJvbmhlYWRlcnMiLCJvbnByb2dyZXNzIiwib250aW1lb3V0Iiwib25hYm9ydCIsImFib3J0ZWQiLCJ4aHIiLCJoZWFkZXJzUmVjZWl2ZWQiLCJlbmNvZGVVUkkiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnkiLCJYTUxIdHRwUmVxdWVzdCIsInVwbG9hZCIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwib3BlbiIsInVuZXNjYXBlIiwic2V0UmVxdWVzdEhlYWRlciIsInJlc3BvbnNlVHlwZSIsImNyZWF0ZVJlc3BvbnNlIiwiY3JlYXRlVGltZW91dFJlc3BvbnNlIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwiaGFzUVMiLCJidWlsZFVSTCIsImNyZWF0ZUZldGNoRnVuY3Rpb24iLCJhcGlVcmwiLCJzdGF0dXNUZXh0IiwiQ2h1bmtTdGF0dXMiLCJRVUVVRUQiLCJDT01QTEVURSIsIldBSVRJTkciLCJwcm9jZXNzRmlsZUNodW5rZWQiLCJtZXRhZGF0YSIsInRyYW5zZmVyIiwiY2h1bmtzIiwiY2h1bmtUcmFuc2ZlcklkIiwiY2h1bmtTZXJ2ZXIiLCJzZXJ2ZXJJZCIsImZkIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJyZXF1ZXN0VHJhbnNmZXJJZCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJyZXF1ZXN0UGFyYW1zIiwicmVxdWVzdFRyYW5zZmVyT2Zmc2V0IiwicmVxdWVzdFVybCIsImxhc3RDaHVua0luZGV4IiwicmV0cmllcyIsImNvbXBsZXRlUHJvY2Vzc2luZ0NodW5rcyIsImNhblByb2Nlc3NDaHVuayIsImNodW5rIiwicHJvY2Vzc0NodW5rIiwicHJvY2Vzc0NodW5rcyIsInVwZGF0ZVRvdGFsUHJvZ3Jlc3MiLCJyZXRyeVByb2Nlc3NDaHVuayIsImV2ZXJ5IiwidG90YWxCeXRlc1RyYW5zZmVyZWQiLCJ0b3RhbFNpemUiLCJhYm9ydENodW5rcyIsImNyZWF0ZUZpbGVQcm9jZXNzb3JGdW5jdGlvbiIsImNhbkNodW5rVXBsb2FkIiwic2hvdWxkQ2h1bmtVcGxvYWQiLCJ3aWxsQ2h1bmtVcGxvYWQiLCJjcmVhdGVQcm9jZXNzb3JGdW5jdGlvbiIsInBhcmFtcyIsImNyZWF0ZVJldmVydEZ1bmN0aW9uIiwidW5pcXVlRmlsZUlkIiwiZ2V0UmFuZG9tTnVtYmVyIiwiY3JlYXRlUGVyY2VpdmVkUGVyZm9ybWFuY2VVcGRhdGVyIiwidGlja01pbiIsInRpY2tNYXgiLCJydW50aW1lIiwiY2xlYXIiLCJjcmVhdGVGaWxlUHJvY2Vzc29yIiwicHJvY2Vzc0ZuIiwicGVyY2VpdmVkUHJvZ3Jlc3MiLCJwZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIiLCJwZXJjZWl2ZWREdXJhdGlvbiIsInByb2dyZXNzRm4iLCJjb21wbGV0ZUZuIiwidHJhbnNmZXJJZCIsInJlc2V0IiwiZ2V0RHVyYXRpb24iLCJnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24iLCJsYXN0SW5kZXhPZiIsImNyZWF0ZUZpbGVTdHViIiwiaXNGaWxlIiwiZGVlcENsb25lT2JqZWN0IiwidiIsImNyZWF0ZUl0ZW0iLCJvcmlnaW4iLCJzZXJ2ZXJGaWxlUmVmZXJlbmNlIiwiZnJvemVuIiwicHJvY2Vzc2luZ0Fib3J0ZWQiLCJhY3RpdmVMb2FkZXIiLCJhY3RpdmVQcm9jZXNzb3IiLCJhYm9ydFByb2Nlc3NpbmdSZXF1ZXN0Q29tcGxldGUiLCJzZXRTdGF0dXMiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZ2V0RmlsZVR5cGUiLCJnZXRGaWxlU2l6ZSIsImdldEZpbGUiLCJsb2FkZXIiLCJtZXRhIiwic3VjY2VzcyIsInJldHJ5TG9hZCIsImFib3J0TG9hZCIsInByb2Nlc3NvciIsIm9ucHJvY2VzcyIsImNvbnNvbGUiLCJyZXF1ZXN0UHJvY2Vzc2luZyIsImFib3J0UHJvY2Vzc2luZyIsInJldmVydEZpbGVVcGxvYWQiLCJzZXJ2ZXJUcmFuc2ZlcklkIiwiX3NldE1ldGFkYXRhIiwic2lsZW50IiwiZ2V0TWV0YWRhdGEiLCJmaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24iLCJmaWxlRXh0ZW5zaW9uIiwiZmlsZVR5cGUiLCJyZWxhdGl2ZVBhdGgiLCJzZXRNZXRhZGF0YSIsImV4dGVuZCIsImhhbmRsZXIiLCJpdGVtQVBJIiwiZnJlZXplIiwicmVsZWFzZSIsImFyY2hpdmUiLCJnZXRJdGVtSW5kZXhCeVF1ZXJ5IiwiZ2V0SXRlbUJ5SWQiLCJpdGVtSWQiLCJmZXRjaEJsb2IiLCJnZXREb21haW5Gcm9tVVJMIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImlzRXh0ZXJuYWxVUkwiLCJocmVmIiwiZHluYW1pY0xhYmVsIiwibGFiZWwiLCJpc01vY2tJdGVtIiwibGlzdFVwZGF0ZWQiLCJvcHRpb25hbFByb21pc2UiLCJzb3J0SXRlbXMiLCJjb21wYXJlIiwiZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUiLCJpdGVtSGFuZGxlciIsIl9yZWYkc3VjY2VzcyIsIl9yZWYkZmFpbHVyZSIsImZhaWx1cmUiLCJBQk9SVF9BTEwiLCJESURfU0VUX0ZJTEVTIiwiX3JlZjIkdmFsdWUiLCJhY3RpdmVJdGVtcyIsImludGVyYWN0aW9uTWV0aG9kIiwiRElEX1VQREFURV9JVEVNX01FVEFEQVRBIiwiX3JlZjMiLCJjaGFuZ2UiLCJkb1VwbG9hZCIsInNob3VsZFByZXBhcmVPdXRwdXQiLCJNT1ZFX0lURU0iLCJfcmVmNCIsImN1cnJlbnRJbmRleCIsIlNPUlQiLCJfcmVmNSIsIkFERF9JVEVNUyIsIl9yZWY2IiwiX3JlZjYkc3VjY2VzcyIsIl9yZWY2JGZhaWx1cmUiLCJpbnNlcnRMb2NhdGlvbiIsInRvdGFsSXRlbXMiLCJpc1ZhbGlkRmlsZSIsInByb21pc2VzIiwiYWxsIiwiQUREX0lURU0iLCJfcmVmNyIsIl9yZWY3JGluZGV4IiwiX3JlZjckc3VjY2VzcyIsIl9yZWY3JGZhaWx1cmUiLCJfcmVmNyRvcHRpb25zIiwiX2l0ZW0iLCJtYWluU3RhdHVzIiwibWFpbiIsInN1YiIsImhhbmRsZUFkZCIsInNob3VsZEFkZCIsImxvYWRDb21wbGV0ZSIsIl9yZWY4IiwiUkVRVUVTVF9QUkVQQVJFX09VVFBVVCIsIl9yZWY5IiwiX3JlZjkkZmFpbHVyZSIsIkNPTVBMRVRFX0xPQURfSVRFTSIsIl9yZWYxMCIsIlJFVFJZX0lURU1fTE9BRCIsIlJFUVVFU1RfSVRFTV9QUkVQQVJFIiwiX3N1Y2Nlc3MiLCJvdXRwdXQiLCJSRVFVRVNUX0lURU1fUFJPQ0VTU0lORyIsInByb2Nlc3NOb3ciLCJQUk9DRVNTX0lURU0iLCJwcm9jZXNzTmV4dCIsInF1ZXVlRW50cnkiLCJpdGVtUmVmZXJlbmNlIiwibm9vcCIsIlJFVFJZX0lURU1fUFJPQ0VTU0lORyIsIlJFUVVFU1RfUkVNT1ZFX0lURU0iLCJzaG91bGRSZW1vdmUiLCJSRUxFQVNFX0lURU0iLCJSRU1PVkVfSVRFTSIsInJlbW92ZUZyb21WaWV3IiwiQUJPUlRfSVRFTV9MT0FEIiwiQUJPUlRfSVRFTV9QUk9DRVNTSU5HIiwiUkVRVUVTVF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HIiwiaGFuZGxlUmV2ZXJ0Iiwic2hvdWxkUmV2ZXJ0IiwicmVxdWVzdFJlbW92ZVJlc3VsdCIsIlJFVkVSVF9JVEVNX1BST0NFU1NJTkciLCJTRVRfT1BUSU9OUyIsIl9yZWYxMSIsIm9wdGlvbktleXMiLCJwcmlvcml0aXplZE9wdGlvbktleXMiLCJQcmlvcml0aXplZE9wdGlvbnMiLCJmb3JtYXRGaWxlbmFtZSIsImNyZWF0ZUVsZW1lbnQkMSIsInRhZ05hbWUiLCJ0ZXh0IiwidGV4dE5vZGUiLCJub2RlVmFsdWUiLCJjcmVhdGVUZXh0Tm9kZSIsInBvbGFyVG9DYXJ0ZXNpYW4iLCJjZW50ZXJYIiwiY2VudGVyWSIsInJhZGl1cyIsImFuZ2xlSW5EZWdyZWVzIiwiYW5nbGVJblJhZGlhbnMiLCJQSSIsIngiLCJjb3MiLCJ5Iiwic2luIiwiZGVzY3JpYmVBcmMiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhcmNTd2VlcCIsImVuZCIsInBlcmNlbnRhZ2VBcmMiLCJ0byIsInByb2dyZXNzSW5kaWNhdG9yIiwic3BpbiIsInN2ZyIsInBhdGgiLCJhbGlnbiIsImRhdGFzZXQiLCJyaW5nU3Ryb2tlV2lkdGgiLCJyaW5nRnJvbSIsInJpbmdUbyIsImNvb3JkaW5hdGVzIiwiZmlsZUFjdGlvbkJ1dHRvbiIsImlubmVySFRNTCIsImljb24iLCJpc0Rpc2FibGVkIiwic2hvdWxkRGlzYWJsZSIsInJlbW92ZUF0dHJpYnV0ZSIsInRvTmF0dXJhbEZpbGVTaXplIiwiX29wdGlvbnMkbGFiZWxCeXRlcyIsIl9vcHRpb25zJGxhYmVsS2lsb2J5dCIsIl9vcHRpb25zJGxhYmVsTWVnYWJ5dCIsIl9vcHRpb25zJGxhYmVsR2lnYWJ5dCIsIktCIiwiTUIiLCJHQiIsInJvdW5kIiwicmVtb3ZlRGVjaW1hbHNXaGVuWmVybyIsImRlY2ltYWxDb3VudCIsInRvRml4ZWQiLCJjcmVhdGUkMiIsImZpbGVOYW1lIiwidXBkYXRlRmlsZSIsInVwZGF0ZUZpbGVTaXplT25FcnJvciIsImZpbGVJbmZvIiwiRElEX0xPQURfSVRFTSIsIkRJRF9VUERBVEVfSVRFTV9NRVRBIiwiRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUiIsIkRJRF9USFJPV19JVEVNX0lOVkFMSUQiLCJ0b1BlcmNlbnRhZ2UiLCJjcmVhdGUkMyIsImRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MiLCJ0aXRsZSIsImZpbGVTdGF0dXMiLCJESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkciLCJESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HIiwiRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1MiLCJESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUyIsIkRJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1IiLCJESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUiIsIkRJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUiIsIkJ1dHRvbnMiLCJBYm9ydEl0ZW1Mb2FkIiwiUmV0cnlJdGVtTG9hZCIsIlJlbW92ZUl0ZW0iLCJQcm9jZXNzSXRlbSIsIkFib3J0SXRlbVByb2Nlc3NpbmciLCJSZXRyeUl0ZW1Qcm9jZXNzaW5nIiwiUmV2ZXJ0SXRlbVByb2Nlc3NpbmciLCJCdXR0b25LZXlzIiwiY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQiLCJnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudCIsImJ1dHRvblJlY3QiLCJidXR0b25SZW1vdmVJdGVtIiwiY2FsY3VsYXRlQnV0dG9uV2lkdGgiLCJidXR0b25BYm9ydEl0ZW1Mb2FkIiwiY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0IiwiY2FsY3VsYXRlRmlsZUhvcml6b250YWxDZW50ZXJPZmZzZXQiLCJEZWZhdWx0U3R5bGUiLCJidXR0b25SZXRyeUl0ZW1Mb2FkIiwiYnV0dG9uUHJvY2Vzc0l0ZW0iLCJidXR0b25BYm9ydEl0ZW1Qcm9jZXNzaW5nIiwiYnV0dG9uUmV0cnlJdGVtUHJvY2Vzc2luZyIsImJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nIiwibG9hZFByb2dyZXNzSW5kaWNhdG9yIiwicHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yIiwicHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yIiwiSWRsZVN0eWxlIiwiUHJvY2Vzc2luZ1N0eWxlIiwiU3R5bGVNYXAiLCJESURfU1RBUlRfSVRFTV9MT0FEIiwiRElEX1NUQVJUX0lURU1fUkVNT1ZFIiwiRElEX0xPQURfTE9DQUxfSVRFTSIsIkRJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkciLCJwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3IiwiY3JlYXRlJDQiLCJidXR0b25GaWx0ZXIiLCJMb2NhbEJ1dHRvbnMiLCJwcmV2IiwiY3VyciIsImFsaWduUmVtb3ZlSXRlbUJ1dHRvbiIsImVuYWJsZWRCdXR0b25zIiwiX21hcCIsImJ1dHRvblZpZXciLCJjbGFzc0xpc3QiLCJzdG9wUHJvcGFnYXRpb24iLCJsb2FkSW5kaWNhdG9yVmlldyIsInByb2dyZXNzSW5kaWNhdG9yVmlldyIsImFjdGl2ZVN0eWxlcyIsIndyaXRlJDIiLCJyb3V0ZSIsInN0eWxlc1RvQXBwbHkiLCJkZWZhdWx0U3R5bGVzIiwiY29udHJvbCIsIkRJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUFJPQ0VTU0lORyIsIkRJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRCIsIkRJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUkVNT1ZBTCIsImJ1dHRvbkFib3J0SXRlbVJlbW92YWwiLCJfcmVmMTIiLCJmaWxlV3JhcHBlciIsIlBBTkVMX1NQUklOR19QUk9QUyIsImNyZWF0ZSQ2Iiwic2VjdGlvbiIsImNyZWF0ZVNlY3Rpb24iLCJzY2FsYWJsZSIsInZpZXdDb25zdHJ1Y3RvciIsInBhbmVsIiwiaGVpZ2h0Q3VycmVudCIsInRvcFJlY3QiLCJib3R0b21SZWN0IiwiY2VudGVyIiwiY3JlYXRlRHJhZ0hlbHBlciIsIml0ZW1JZHMiLCJwcmV2SW5kZXgiLCJzZXRJbmRleCIsImdldEluZGV4IiwiZ2V0SXRlbUluZGV4IiwiSVRFTV9UUkFOU0xBVEVfU1BSSU5HIiwiSVRFTV9TQ0FMRV9TUFJJTkciLCJTdGF0ZU1hcCIsImNyZWF0ZSQ3IiwiaGFuZGxlQ2xpY2siLCJjb250YWluZXIiLCJtYXJrZWRGb3JSZW1vdmFsIiwiZHJhZ1N0YXRlIiwiZ3JhYiIsImlzUHJpbWFyeSIsInJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyIiwicGFnZVgiLCJwYWdlWSIsImRyYWdPcmlnaW4iLCJkcmFnQ2VudGVyIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJkcmFnIiwicHJldmVudERlZmF1bHQiLCJkcmFnT2Zmc2V0IiwiZHJvcCIsInJvdXRlJDEiLCJESURfVVBEQVRFX1BBTkVMX0hFSUdIVCIsIndyaXRlJDQiLCJESURfR1JBQl9JVEVNIiwiRElEX0RSQUdfSVRFTSIsIkRJRF9EUk9QX0lURU0iLCJjdXJyZW50U3RhdGUiLCJmaWxlcG9uZEl0ZW1TdGF0ZSIsImdldEl0ZW1zUGVyUm93IiwiaG9yaXpvbnRhbFNwYWNlIiwiaXRlbVdpZHRoIiwiZ2V0SXRlbUluZGV4QnlQb3NpdGlvbiIsInBvc2l0aW9uSW5WaWV3IiwibCIsIml0ZW1SZWN0IiwiaXRlbUhvcml6b250YWxNYXJnaW4iLCJpdGVtc1BlclJvdyIsImNoaWxkTWlkIiwiaXRlbVZlcnRpY2FsTWFyZ2luIiwiaXRlbUhlaWdodCIsIl9pbmRleCIsIml0ZW1Ub3AiLCJpdGVtUmlnaHQiLCJpdGVtQm90dG9tIiwiZHJvcEFyZWFEaW1lbnNpb25zIiwiZ2V0SGVpZ2h0Iiwic2V0SGVpZ2h0IiwidmFsIiwiZ2V0V2lkdGgiLCJzZXRXaWR0aCIsInNldERpbWVuc2lvbnMiLCJjcmVhdGUkOCIsImxhc3RJdGVtU3BhbndEYXRlIiwibW92ZUl0ZW0iLCJ2eCIsInZ5Iiwic3Bhd25EYXRlIiwiaW50cm9JdGVtVmlldyIsImdldEl0ZW1IZWlnaHQiLCJnZXRJdGVtV2lkdGgiLCJyb3V0ZSQyIiwiRElEX0FERF9JVEVNIiwiYWRkSW5kZXgiLCJjb29sZG93biIsImRpc3QiLCJESURfUkVNT1ZFX0lURU0iLCJudW1JdGVtcyIsIm9sZEluZGV4IiwiZHJhZ1Bvc2l0aW9uIiwiZHJhZ0hlaWdodCIsImRyYWdXaWR0aCIsImNvbHMiLCJnZXRHcmlkSW5kZXgiLCJnZXRDb2xJbmRleCIsInZpc2libGVDaGlsZHJlbiIsImlkeCIsImNoaWxkQm90dG9tIiwiY2hpbGRUb3AiLCJsaXN0IiwiZHJhZ0Nvb3JkaW5hdGVzIiwiZHJhZ0luZGV4IiwiZHJhZ0luZGV4T2Zmc2V0IiwicmVtb3ZlSW5kZXhPZmZzZXQiLCJhZGRJbmRleE9mZnNldCIsImNoaWxkUmVjdCIsInZpc3VhbEhlaWdodCIsInByZXZYIiwicHJldlkiLCJ2aXN1YWxJbmRleCIsImluZGV4WCIsImluZGV4WSIsInZlY3RvclgiLCJzaWduIiwidmVjdG9yWSIsImNyZWF0ZSQ5Iiwib3ZlcmZsb3dpbmciLCJyb3V0ZSQzIiwiRElEX0RSQUciLCJzY29wZUxlZnQiLCJzY29wZVRvcCIsIkRJRF9FTkRfRFJBRyIsImxpc3RTY3JvbGxlciIsIm92ZXJmbG93IiwibmV3SGVpZ2h0IiwiYXR0clRvZ2dsZSIsInJlc2V0RmlsZUlucHV0IiwiaW5wdXQiLCJmb3JtIiwiY3JlYXRlJGEiLCJzZXRBY2NlcHRlZEZpbGVUeXBlcyIsInRvZ2dsZUFsbG93TXVsdGlwbGUiLCJ0b2dnbGVEaXJlY3RvcnlGaWx0ZXIiLCJ0b2dnbGVEaXNhYmxlZCIsInRvZ2dsZVJlcXVpcmVkIiwic2V0Q2FwdHVyZU1ldGhvZCIsImhhbmRsZUNoYW5nZSIsIndlYmtpdFJlbGF0aXZlUGF0aCIsImRvZXNBbGxvd0Jyb3dzZSIsImRpc2FibGVGaWVsZCIsInVwZGF0ZVJlcXVpcmVkU3RhdHVzIiwic2V0Q3VzdG9tVmFsaWRpdHkiLCJicm93c2VyIiwiRElEX1NFVF9ESVNBQkxFRCIsIkRJRF9TRVRfQUxMT1dfQlJPV1NFIiwiRElEX1NFVF9BTExPV19ESVJFQ1RPUklFU19PTkxZIiwiRElEX1NFVF9BTExPV19NVUxUSVBMRSIsIkRJRF9TRVRfQUNDRVBURURfRklMRV9UWVBFUyIsIkRJRF9TRVRfQ0FQVFVSRV9NRVRIT0QiLCJESURfU0VUX1JFUVVJUkVEIiwiS2V5IiwiRU5URVIiLCJTUEFDRSIsImNyZWF0ZSRiIiwiaGFuZGxlS2V5RG93biIsImtleUNvZGUiLCJjbGljayIsImNvbnRhaW5zIiwidXBkYXRlTGFiZWxWYWx1ZSIsImNhcHRpb24iLCJjbGlja2FibGUiLCJxdWVyeVNlbGVjdG9yIiwiZHJvcExhYmVsIiwiRElEX1NFVF9MQUJFTF9JRExFIiwiYWRkQmxvYiIsIndyaXRlJDciLCJyb3V0ZSQ0IiwiRElEX0RST1AiLCJkcmlwIiwic2V0SW5wdXRGaWxlcyIsImNyZWF0ZSRjIiwiZmllbGRzIiwiZ2V0RmllbGQiLCJzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMiLCJkaWRSZW9yZGVySXRlbXMiLCJ3cml0ZSQ4Iiwic2hvdWxkVXNlRmlsZUlucHV0IiwiZGF0YUNvbnRhaW5lciIsImZpZWxkIiwiZmlsZUl0ZW0iLCJESURfREVGSU5FX1ZBTFVFIiwiRElEX1BSRVBBUkVfT1VUUFVUIiwiRElEX1JFT1JERVJfSVRFTVMiLCJESURfU09SVF9JVEVNUyIsImdldFJvb3ROb2RlIiwiaW1hZ2VzIiwidGV4dCQxIiwiemlwIiwiZXB1YiIsImd1ZXNzdGltYXRlTWltZVR5cGUiLCJyZXF1ZXN0RGF0YVRyYW5zZmVySXRlbXMiLCJsaW5rcyIsImdldExpbmtzIiwiaGFzRmlsZXMiLCJnZXRGaWxlcyIsInByb21pc2VkRmlsZXMiLCJpc0ZpbGVTeXN0ZW1JdGVtIiwiZ2V0RmlsZXNGcm9tSXRlbSIsInJldHVybmVkRmlsZUdyb3VwcyIsImdyb3VwIiwiaXNFbnRyeSIsImVudHJ5IiwiZ2V0QXNFbnRyeSIsImlzRGlyZWN0b3J5Iiwia2luZCIsImlzRGlyZWN0b3J5RW50cnkiLCJnZXRGaWxlc0luRGlyZWN0b3J5IiwiZ2V0QXNGaWxlIiwiZGlyQ291bnRlciIsImZpbGVDb3VudGVyIiwicmVzb2x2ZUlmRG9uZSIsInJlYWRFbnRyaWVzIiwiZGlyRW50cnkiLCJkaXJlY3RvcnlSZWFkZXIiLCJjcmVhdGVSZWFkZXIiLCJyZWFkQmF0Y2giLCJlbnRyaWVzIiwiY29ycmVjdGVkRmlsZSIsImNvcnJlY3RNaXNzaW5nRmlsZVR5cGUiLCJmdWxsUGF0aCIsIndlYmtpdEdldEFzRW50cnkiLCJnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhIiwiZ2V0TGlua3NGcm9tVHJhbnNmZXJVUkxEYXRhIiwiZ2V0RGF0YSIsImRyYWdORHJvcE9ic2VydmVycyIsImV2ZW50UG9zaXRpb24iLCJwYWdlTGVmdCIsInBhZ2VUb3AiLCJsYXllclgiLCJsYXllclkiLCJjcmVhdGVEcmFnTkRyb3BDbGllbnQiLCJzY29wZVRvT2JzZXJ2ZSIsImZpbHRlckVsZW1lbnQiLCJvYnNlcnZlciIsImdldERyYWdORHJvcE9ic2VydmVyIiwiY2xpZW50Iiwib25kcm9wIiwib25lbnRlciIsIm9uZHJhZyIsIm9uZXhpdCIsImFsbG93ZHJvcCIsImFkZExpc3RlbmVyIiwibmV3T2JzZXJ2ZXIiLCJjcmVhdGVEcmFnTkRyb3BPYnNlcnZlciIsImNsaWVudHMiLCJkcmFnZW50ZXIiLCJkcmFnb3ZlciIsImRyYWdsZWF2ZSIsImhhbmRsZXJzIiwiY3JlYXRlSGFuZGxlciIsImVsZW1lbnRGcm9tUG9pbnQiLCJwb2ludCIsImlzRXZlbnRUYXJnZXQiLCJlbGVtZW50QXRQb3NpdGlvbiIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJpbml0aWFsVGFyZ2V0Iiwic2V0RHJvcEVmZmVjdCIsImVmZmVjdCIsImRyb3BFZmZlY3QiLCJvdmVyRHJvcFRhcmdldCIsImFsbG93c1RyYW5zZmVyIiwiY3JlYXRlSG9wcGVyIiwic2NvcGUiLCJ2YWxpZGF0ZUl0ZW1zIiwiY2F0Y2hlc0Ryb3BzT25QYWdlIiwicmVxdWlyZXNEcm9wT25FbGVtZW50IiwiX29wdGlvbnMkZmlsdGVySXRlbXMiLCJmaWx0ZXJJdGVtcyIsImRvY3VtZW50RWxlbWVudCIsImxhc3RTdGF0ZSIsImZpbHRlcmVkSXRlbXMiLCJvbmRyYWdlbmQiLCJvbmRyYWdzdGFydCIsInVwZGF0ZUhvcHBlclN0YXRlIiwiaG9wcGVyU3RhdGUiLCJsaXN0ZW5pbmciLCJsaXN0ZW5lcnMkMSIsImhhbmRsZVBhc3RlIiwiYWN0aXZlRWwiLCJhY3RpdmVFbGVtZW50Iiwibm9kZU5hbWUiLCJpblNjb3BlIiwiY2xpcGJvYXJkRGF0YSIsImxpc3RlbiIsInVubGlzdGVuIiwiY3JlYXRlUGFzdGVyIiwiYWRkRmlsZXNOb3RpZmljYXRpb25UaW1lb3V0Iiwibm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0IiwiZmlsZW5hbWVzIiwiYXNzaXN0IiwibWVzc2FnZSIsInRleHRDb250ZW50IiwiY2xlYXIkMSIsImxpc3RNb2RpZmllZCIsImlzVXNpbmdGaWxlUG9uZCIsIml0ZW1Qcm9jZXNzZWRVbmRvIiwiaXRlbUVycm9yIiwiYXNzaXN0YW50IiwidG9DYW1lbHMiLCJSZWdFeHAiLCJjaGFyQXQiLCJkZWJvdW5jZSIsImZ1bmMiLCJpbW1pZGlhdGVPbmx5IiwiTUFYX0ZJTEVTX0xJTUlUIiwicHJldmVudCIsImNyZWF0ZSRlIiwibWVhc3VyZSIsImJvdW5kcyIsIndpZHRoUHJldmlvdXMiLCJ3aWR0aFVwZGF0ZWQiLCJ1cGRhdGVIaXN0b3J5IiwicHJldmlvdXNBc3BlY3RSYXRpbyIsImNhbkhvdmVyIiwibWF0Y2hNZWRpYSIsImhhc1BvaW50ZXJFdmVudHMiLCJwYXNzaXZlIiwiZnJhZyIsInRhYmluZGV4IiwicmVsIiwid3JpdGUkOSIsInJvdXRlJDUiLCJjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQiLCJfcm9vdCRyZWYiLCJob3BwZXIiLCJpc011bHRpSXRlbSIsImF0TWF4Q2FwYWNpdHkiLCJhZGRBY3Rpb24iLCJsaXN0SXRlbU1hcmdpbiIsImNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luIiwibGlzdEhlaWdodCIsImNhbGN1bGF0ZUxpc3RIZWlnaHQiLCJsYWJlbEhlaWdodCIsImN1cnJlbnRMYWJlbEhlaWdodCIsImxpc3RNYXJnaW5Ub3AiLCJsaXN0TWFyZ2luQm90dG9tIiwidmlzdWFsIiwiYm91bmRzSGVpZ2h0IiwiaGlzdG9yeSIsIk1BWF9CT1VOQ0VTIiwiYm91bmNlcyIsImxpc3RBdmFpbGFibGVIZWlnaHQiLCJmaXhlZEhlaWdodCIsIl9saXN0QXZhaWxhYmxlSGVpZ2h0IiwiY2FwcGVkSGVpZ2h0IiwiaXNDYXBwZWRIZWlnaHQiLCJwYW5lbEhlaWdodCIsIl9saXN0QXZhaWxhYmxlSGVpZ2h0MiIsIml0ZW1NYXJnaW4iLCJ0cmFuc2Zvcm0iLCJzY3JvbGxMaXN0IiwiaXRlbUxpc3QiLCJuZXdJdGVtIiwicmVtb3ZlZEl0ZW0iLCJ2ZXJ0aWNhbEl0ZW1Db3VudCIsImNlaWwiLCJtZWFzdXJlSGVpZ2h0IiwibWF4SGVpZ2h0IiwiZXhjZWVkc01heEZpbGVzIiwibWF4SXRlbXMiLCJ0b3RhbEJyb3dzZUl0ZW1zIiwiZ2V0RHJhZ0luZGV4IiwidG9nZ2xlRHJvcCIsImlzQWxsb3dlZCIsImVuYWJsZWQiLCJ0b2dnbGVCcm93c2UiLCJ0b2dnbGVQYXN0ZSIsInBhc3RlciIsIkRJRF9TRVRfQUxMT1dfRFJPUCIsIkRJRF9TRVRfQUxMT1dfUEFTVEUiLCJjcmVhdGVBcHAiLCJpbml0aWFsT3B0aW9ucyIsIm9yaWdpbmFsRWxlbWVudCIsInZpc2liaWxpdHlIYW5kbGVyIiwicmVzaXplRG9uZVRpbWVyIiwiaXNSZXNpemluZyIsImlzUmVzaXppbmdIb3Jpem9udGFsbHkiLCJpbml0aWFsV2luZG93V2lkdGgiLCJjdXJyZW50V2luZG93V2lkdGgiLCJyZXNpemVIYW5kbGVyIiwiaXNIaWRkZW4iLCJyZWFkV3JpdGVBcGkiLCJpbm5lcldpZHRoIiwicm91dGVBY3Rpb25zVG9FdmVudHMiLCJjcmVhdGVFdmVudCIsImV2ZW50Um91dGVzIiwiRElEX0RFU1RST1kiLCJESURfSU5JVCIsIkRJRF9USFJPV19NQVhfRklMRVMiLCJESURfSU5JVF9JVEVNIiwiRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lOR19BTEwiLCJESURfVVBEQVRFX0lURU1TIiwiRElEX0FDVElWQVRFX0lURU0iLCJleHBvc2VFdmVudCIsImRldGFpbCIsInBvbmQiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImNvbXBvc2VkIiwiZmlsdGVyZWQiLCJwcmVwYXJlRmlsZSIsImFkZEZpbGUiLCJhZGRGaWxlcyIsImlzRmlsZVBvbmRGaWxlIiwicmVtb3ZlRmlsZSIsInNvdXJjZXMiLCJsYXN0QXJndW1lbnQiLCJwcm9jZXNzRmlsZSIsInByZXBhcmVGaWxlcyIsInByb2Nlc3NGaWxlcyIsIl9sZW4zIiwiX2tleTMiLCJyZW1vdmVGaWxlcyIsIl9sZW40IiwiX2tleTQiLCJxIiwibW92ZUZpbGUiLCJicm93c2UiLCJhcHBlbmRUbyIsInJlcGxhY2VFbGVtZW50IiwicmVzdG9yZUVsZW1lbnQiLCJpc0F0dGFjaGVkVG8iLCJjcmVhdGVBcHBPYmplY3QiLCJjdXN0b21PcHRpb25zIiwibG93ZXJDYXNlRmlyc3RMZXR0ZXIiLCJhdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUiLCJhdHRyaWJ1dGVOYW1lIiwibWFwT2JqZWN0IiwicHJvcGVydHlNYXAiLCJzZWxlY3RvciIsIm1hcHBpbmciLCJzZWxlY3RvclJlZ0V4cCIsImdldEF0dHJpYnV0ZXNBc09iamVjdCIsImF0dHJpYnV0ZU1hcHBpbmciLCJhdHRyaWJ1dGUiLCJjcmVhdGVBcHBBdEVsZW1lbnQiLCJtZXJnZWRPcHRpb25zIiwiYXR0cmlidXRlT3B0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhcHAiLCJjcmVhdGVBcHAkMSIsIlBSSVZBVEVfTUVUSE9EUyIsImNyZWF0ZUFwcEFQSSIsInJlcGxhY2VJblN0cmluZyIsInJlcGxhY2VtZW50cyIsImNyZWF0ZVdvcmtlciIsIndvcmtlckJsb2IiLCJ3b3JrZXJVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJ3b3JrZXIiLCJXb3JrZXIiLCJwb3N0IiwidHJhbnNmZXJMaXN0Iiwib25tZXNzYWdlIiwicG9zdE1lc3NhZ2UiLCJ0ZXJtaW5hdGUiLCJyZXZva2VPYmplY3RVUkwiLCJsb2FkSW1hZ2UiLCJpbWciLCJJbWFnZSIsInJlbmFtZUZpbGUiLCJyZW5hbWVkRmlsZSIsImNvcHlGaWxlIiwicmVnaXN0ZXJlZFBsdWdpbnMiLCJjcmVhdGVBcHBQbHVnaW4iLCJwbHVnaW4iLCJwbHVnaW5PdXRsaW5lIiwidmlld3MiLCJpc09wZXJhTWluaSIsIm9wZXJhbWluaSIsImhhc1Byb21pc2VzIiwiaGFzQmxvYlNsaWNlIiwiaGFzQ3JlYXRlT2JqZWN0VVJMIiwiaGFzVmlzaWJpbGl0eSIsImhhc1RpbWluZyIsImhhc0NTU1N1cHBvcnRzIiwiQ1NTIiwiaXNJRTExIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3VwcG9ydGVkIiwiaXNTdXBwb3J0ZWQiLCJhcHBzIiwiRmlsZVN0YXR1cyIsIk9wdGlvblR5cGVzIiwicmVnaXN0ZXJQbHVnaW4iLCJ1cGRhdGVPcHRpb25UeXBlcyIsImhvb2siLCJpbmRleFRvUmVtb3ZlIiwiY29udGV4dCIsIm5ld0hvb2siLCJwbHVnaW5zIiwiZmFjdG9yeSJdLCJtYXBwaW5ncyI6Ijt1R0FjUyxTQUFTQSxHQUNkLGFBRUEsSUFBSUMsRUFBUyxTQUFnQkMsR0FDekIsT0FBT0EsYUFBaUJDLFdBQzVCLEVBRUlDLEVBQWMsU0FBcUJDLEdBQ25DLElBQUlDLEVBQVVDLFVBQVVDLE9BQVMsUUFBc0JDLElBQWpCRixVQUFVLEdBQW1CQSxVQUFVLEdBQUssR0FDOUVHLEVBQVVILFVBQVVDLE9BQVMsUUFBc0JDLElBQWpCRixVQUFVLEdBQW1CQSxVQUFVLEdBQUssR0FFOUVJLEVBQVFDLE9BQU9DLE9BQU8sQ0FBQyxFQUFHUixHQUcxQlMsRUFBYyxHQUNkQyxFQUFnQixHQW1CaEJDLEVBQXVCLFdBRXZCLElBQUlDLEVBQVEsR0FBR0MsT0FBT0gsR0FHdEJBLEVBQWNQLE9BQVMsRUFHdkJTLEVBQU1FLFNBQVEsU0FBU0MsR0FDbkIsSUFBSUMsRUFBT0QsRUFBS0MsS0FDWkMsRUFBT0YsRUFBS0UsS0FD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RUFDNUIsSUFDQSxPQUFLakQsRUFHRUcsR0FBYUgsR0FGVCxJQUdmLEVBR0E1aEQsRUFBUTJrRCxlQUFpQixXQUNyQixJQUNJLElBQUkzaUQsRUFBT3pCLFVBQVVDLE9BQVF5a0QsRUFBVSxJQUFJL2lELE1BQU1GLEdBQU9HLEVBQU8sRUFDL0RBLEVBQU9ILEVBQ1BHLElBRUE4aUQsRUFBUTlpRCxHQUFRNUIsVUFBVTRCLEdBSTlCOGlELEVBQVE5akQsUUFBUW1pRCxJQUdoQnNCLElBQ0osRUFFQTVrRCxFQUFRK2dCLFdBQWEsV0FDakIsSUFBSUUsRUFBTyxDQUFDLEVBSVosT0FIQW5lLEVBQU1pZSxNQUFjLFNBQVMvZCxFQUFLOUMsR0FDOUIrZ0IsRUFBS2plLEdBQU85QyxFQUFNLEVBQ3RCLElBQ08rZ0IsQ0FDWCxFQUVBamhCLEVBQVFnaEIsV0FBYSxTQUFzQkMsR0FZdkMsT0FYSTFLLEdBQVMwSyxLQUVUdGdCLEdBQU02akQsS0FBS3JqRCxTQUFRLFNBQVN5Z0QsR0FDeEJBLEVBQUk1Z0MsV0FBV0MsRUFDbkIsSUFHQUQsR0FBV0MsSUFJUmpoQixFQUFRK2dCLFlBQ25CLENBQ0osQ0FFQS9nQixFQUFRc2tELFVBQVlBLEdBRXBCMWpELE9BQU84QixlQUFlMUMsRUFBUyxhQUFjLENBQUVFLE9BQU8sR0FDMUQsQ0E3NllVZ2xELENBQVFsbEQsRSIsImZpbGUiOiJzdGF0aWMvanMvNDQuNzFkNjFjZWYuY2h1bmsuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEZpbGVQb25kIDQuMzAuNFxuICogTGljZW5zZWQgdW5kZXIgTUlULCBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC9cbiAqIFBsZWFzZSB2aXNpdCBodHRwczovL3BxaW5hLm5sL2ZpbGVwb25kLyBmb3IgZGV0YWlscy5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4oZnVuY3Rpb24oZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZmFjdG9yeShleHBvcnRzKVxuICAgICAgICA6IHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZFxuICAgICAgICA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSlcbiAgICAgICAgOiAoKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmKSwgZmFjdG9yeSgoZ2xvYmFsLkZpbGVQb25kID0ge30pKSk7XG59KSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGlzTm9kZSA9IGZ1bmN0aW9uIGlzTm9kZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVN0b3JlID0gZnVuY3Rpb24gY3JlYXRlU3RvcmUoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHZhciBxdWVyaWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTtcbiAgICAgICAgdmFyIGFjdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICAgICAgICAvLyBpbnRlcm5hbCBzdGF0ZVxuICAgICAgICB2YXIgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUpO1xuXG4gICAgICAgIC8vIGNvbnRhaW5zIGFsbCBhY3Rpb25zIGZvciBuZXh0IGZyYW1lLCBpcyBjbGVhciB3aGVuIGFjdGlvbnMgYXJlIHJlcXVlc3RlZFxuICAgICAgICB2YXIgYWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgdmFyIGRpc3BhdGNoUXVldWUgPSBbXTtcblxuICAgICAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgIHZhciBnZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyByZXR1cm5zIGEgZHVwbGljYXRlIG9mIHRoZSBhY3Rpb25zIGFycmF5IGFuZCBjbGVhcnMgdGhlIGFjdGlvbnMgYXJyYXlcbiAgICAgICAgdmFyIHByb2Nlc3NBY3Rpb25RdWV1ZSA9IGZ1bmN0aW9uIHByb2Nlc3NBY3Rpb25RdWV1ZSgpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBjb3B5IG9mIGFjdGlvbnMgcXVldWVcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IFtdLmNvbmNhdChhY3Rpb25RdWV1ZSk7XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICAgICAgICBhY3Rpb25RdWV1ZS5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gcXVldWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcHJvY2Vzc2VzIGFjdGlvbnMgdGhhdCBtaWdodCBibG9jayB0aGUgbWFpbiBVSSB0aHJlYWRcbiAgICAgICAgdmFyIHByb2Nlc3NEaXNwYXRjaFF1ZXVlID0gZnVuY3Rpb24gcHJvY2Vzc0Rpc3BhdGNoUXVldWUoKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgY29weSBvZiBhY3Rpb25zIHF1ZXVlXG4gICAgICAgICAgICB2YXIgcXVldWUgPSBbXS5jb25jYXQoZGlzcGF0Y2hRdWV1ZSk7XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIGFjdGlvbnMgcXVldWUgKHdlIGRvbid0IHdhbnQgbm8gZG91YmxlIGFjdGlvbnMpXG4gICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIC8vIG5vdyBkaXNwYXRjaCB0aGVzZSBhY3Rpb25zXG4gICAgICAgICAgICBxdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uKF9yZWYpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YTtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCh0eXBlLCBkYXRhKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFkZHMgYSBuZXcgYWN0aW9uLCBjYWxscyBpdHMgaGFuZGxlciBhbmRcbiAgICAgICAgdmFyIGRpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2godHlwZSwgZGF0YSwgaXNCbG9ja2luZykge1xuICAgICAgICAgICAgLy8gaXMgYmxvY2tpbmcgYWN0aW9uIChzaG91bGQgbmV2ZXIgYmxvY2sgaWYgZG9jdW1lbnQgaXMgaGlkZGVuKVxuICAgICAgICAgICAgaWYgKGlzQmxvY2tpbmcgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IHR5cGU6IHR5cGUsIGRhdGE6IGRhdGEgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGFjdGlvbiBoYXMgYSBoYW5kbGVyLCBoYW5kbGUgdGhlIGFjdGlvblxuICAgICAgICAgICAgaWYgKGFjdGlvbkhhbmRsZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uSGFuZGxlcnNbdHlwZV0oZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdyBhZGQgYWN0aW9uXG4gICAgICAgICAgICBhY3Rpb25RdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcXVlcnkgPSBmdW5jdGlvbiBxdWVyeShzdHIpIHtcbiAgICAgICAgICAgIHZhciBfcXVlcnlIYW5kbGVzO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTtcbiAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICBfa2V5KytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5SGFuZGxlc1tzdHJdXG4gICAgICAgICAgICAgICAgPyAoX3F1ZXJ5SGFuZGxlcyA9IHF1ZXJ5SGFuZGxlcylbc3RyXS5hcHBseShfcXVlcnlIYW5kbGVzLCBhcmdzKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgICAgICAgcHJvY2Vzc0FjdGlvblF1ZXVlOiBwcm9jZXNzQWN0aW9uUXVldWUsXG4gICAgICAgICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZTogcHJvY2Vzc0Rpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHF1ZXJ5SGFuZGxlcyA9IHt9O1xuICAgICAgICBxdWVyaWVzLmZvckVhY2goZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgICAgIHF1ZXJ5SGFuZGxlcyA9IE9iamVjdC5hc3NpZ24oe30sIHF1ZXJ5KHN0YXRlKSwge30sIHF1ZXJ5SGFuZGxlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBhY3Rpb25IYW5kbGVycyA9IHt9O1xuICAgICAgICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oYWN0aW9uKSB7XG4gICAgICAgICAgICBhY3Rpb25IYW5kbGVycyA9IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbihkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSwge30sIGFjdGlvbkhhbmRsZXJzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgdmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGRlZmluaXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9ialtwcm9wZXJ0eV0gPSBkZWZpbml0aW9uO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3BlcnR5LCBPYmplY3QuYXNzaWduKHt9LCBkZWZpbml0aW9uKSk7XG4gICAgfTtcblxuICAgIHZhciBmb3JpbiA9IGZ1bmN0aW9uIGZvcmluKG9iaiwgY2IpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYihrZXksIG9ialtrZXldKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24gY3JlYXRlT2JqZWN0KGRlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBmb3JpbihkZWZpbml0aW9uLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqLCBwcm9wZXJ0eSwgZGVmaW5pdGlvbltwcm9wZXJ0eV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgdmFyIGF0dHIgPSBmdW5jdGlvbiBhdHRyKG5vZGUsIG5hbWUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZShuYW1lKSB8fCBub2RlLmhhc0F0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIHZhciBucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG4gICAgdmFyIHN2Z0VsZW1lbnRzID0gWydzdmcnLCAncGF0aCddOyAvLyBvbmx5IHN2ZyBlbGVtZW50cyB1c2VkXG5cbiAgICB2YXIgaXNTVkdFbGVtZW50ID0gZnVuY3Rpb24gaXNTVkdFbGVtZW50KHRhZykge1xuICAgICAgICByZXR1cm4gc3ZnRWxlbWVudHMuaW5jbHVkZXModGFnKTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgY2xhc3NOYW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudCA9IGlzU1ZHRWxlbWVudCh0YWcpXG4gICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKVxuICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgIGlmIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1NWR0VsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgICAgIGF0dHIoZWxlbWVudCwgJ2NsYXNzJywgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yaW4oYXR0cmlidXRlcywgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGF0dHIoZWxlbWVudCwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcblxuICAgIHZhciBhcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIGFwcGVuZENoaWxkKHBhcmVudCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBwYXJlbnQuY2hpbGRyZW5baW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgcGFyZW50LmNoaWxkcmVuW2luZGV4XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBhcHBlbmRDaGlsZFZpZXcgPSBmdW5jdGlvbiBhcHBlbmRDaGlsZFZpZXcocGFyZW50LCBjaGlsZFZpZXdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2aWV3LCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnNwbGljZShpbmRleCwgMCwgdmlldyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkVmlld3MucHVzaCh2aWV3KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciByZW1vdmVDaGlsZFZpZXcgPSBmdW5jdGlvbiByZW1vdmVDaGlsZFZpZXcocGFyZW50LCBjaGlsZFZpZXdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgZnJvbSBjaGlsZCB2aWV3c1xuICAgICAgICAgICAgY2hpbGRWaWV3cy5zcGxpY2UoY2hpbGRWaWV3cy5pbmRleE9mKHZpZXcpLCAxKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBlbGVtZW50XG4gICAgICAgICAgICBpZiAodmlldy5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodmlldy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBJU19CUk9XU0VSID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfSkoKTtcbiAgICB2YXIgaXNCcm93c2VyID0gZnVuY3Rpb24gaXNCcm93c2VyKCkge1xuICAgICAgICByZXR1cm4gSVNfQlJPV1NFUjtcbiAgICB9O1xuXG4gICAgdmFyIHRlc3RFbGVtZW50ID0gaXNCcm93c2VyKCkgPyBjcmVhdGVFbGVtZW50KCdzdmcnKSA6IHt9O1xuICAgIHZhciBnZXRDaGlsZENvdW50ID1cbiAgICAgICAgJ2NoaWxkcmVuJyBpbiB0ZXN0RWxlbWVudFxuICAgICAgICAgICAgPyBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgICB9O1xuXG4gICAgdmFyIGdldFZpZXdSZWN0ID0gZnVuY3Rpb24gZ2V0Vmlld1JlY3QoZWxlbWVudFJlY3QsIGNoaWxkVmlld3MsIG9mZnNldCwgc2NhbGUpIHtcbiAgICAgICAgdmFyIGxlZnQgPSBvZmZzZXRbMF0gfHwgZWxlbWVudFJlY3QubGVmdDtcbiAgICAgICAgdmFyIHRvcCA9IG9mZnNldFsxXSB8fCBlbGVtZW50UmVjdC50b3A7XG4gICAgICAgIHZhciByaWdodCA9IGxlZnQgKyBlbGVtZW50UmVjdC53aWR0aDtcbiAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGVsZW1lbnRSZWN0LmhlaWdodCAqIChzY2FsZVsxXSB8fCAxKTtcblxuICAgICAgICB2YXIgcmVjdCA9IHtcbiAgICAgICAgICAgIC8vIHRoZSByZWN0YW5nbGUgb2YgdGhlIGVsZW1lbnQgaXRzZWxmXG4gICAgICAgICAgICBlbGVtZW50OiBPYmplY3QuYXNzaWduKHt9LCBlbGVtZW50UmVjdCksXG5cbiAgICAgICAgICAgIC8vIHRoZSByZWN0YW5nbGUgb2YgdGhlIGVsZW1lbnQgZXhwYW5kZWQgdG8gY29udGFpbiBpdHMgY2hpbGRyZW4sIGRvZXMgbm90IGluY2x1ZGUgYW55IG1hcmdpbnNcbiAgICAgICAgICAgIGlubmVyOiB7XG4gICAgICAgICAgICAgICAgbGVmdDogZWxlbWVudFJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IGVsZW1lbnRSZWN0LnRvcCxcbiAgICAgICAgICAgICAgICByaWdodDogZWxlbWVudFJlY3QucmlnaHQsXG4gICAgICAgICAgICAgICAgYm90dG9tOiBlbGVtZW50UmVjdC5ib3R0b20sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyB0aGUgcmVjdGFuZ2xlIG9mIHRoZSBlbGVtZW50IGV4cGFuZGVkIHRvIGNvbnRhaW4gaXRzIGNoaWxkcmVuIGluY2x1ZGluZyBvd24gbWFyZ2luIGFuZCBjaGlsZCBtYXJnaW5zXG4gICAgICAgICAgICAvLyBtYXJnaW5zIHdpbGwgYmUgYWRkZWQgYWZ0ZXIgd2UndmUgcmVjYWxjdWxhdGVkIHRoZSBzaXplXG4gICAgICAgICAgICBvdXRlcjoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgICAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleHBhbmQgcmVjdCB0byBmaXQgYWxsIGNoaWxkIHJlY3RhbmdsZXNcbiAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWNoaWxkVmlldy5pc1JlY3RJZ25vcmVkKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihjaGlsZFZpZXcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRWaWV3LnJlY3Q7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2hpbGRWaWV3UmVjdCkge1xuICAgICAgICAgICAgICAgIGV4cGFuZFJlY3QocmVjdC5pbm5lciwgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRWaWV3UmVjdC5pbm5lcikpO1xuICAgICAgICAgICAgICAgIGV4cGFuZFJlY3QocmVjdC5vdXRlciwgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGRWaWV3UmVjdC5vdXRlcikpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGlubmVyIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgICAgY2FsY3VsYXRlUmVjdFNpemUocmVjdC5pbm5lcik7XG5cbiAgICAgICAgLy8gYXBwZW5kIGFkZGl0aW9uYWwgbWFyZ2luICh0b3AgYW5kIGxlZnQgbWFyZ2lucyBhcmUgaW5jbHVkZWQgaW4gdG9wIGFuZCBsZWZ0IGF1dG9tYXRpY2FsbHkpXG4gICAgICAgIHJlY3Qub3V0ZXIuYm90dG9tICs9IHJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b207XG4gICAgICAgIHJlY3Qub3V0ZXIucmlnaHQgKz0gcmVjdC5lbGVtZW50Lm1hcmdpblJpZ2h0O1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBvdXRlciB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgIGNhbGN1bGF0ZVJlY3RTaXplKHJlY3Qub3V0ZXIpO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG5cbiAgICB2YXIgZXhwYW5kUmVjdCA9IGZ1bmN0aW9uIGV4cGFuZFJlY3QocGFyZW50LCBjaGlsZCkge1xuICAgICAgICAvLyBhZGp1c3QgZm9yIHBhcmVudCBvZmZzZXRcbiAgICAgICAgY2hpbGQudG9wICs9IHBhcmVudC50b3A7XG4gICAgICAgIGNoaWxkLnJpZ2h0ICs9IHBhcmVudC5sZWZ0O1xuICAgICAgICBjaGlsZC5ib3R0b20gKz0gcGFyZW50LnRvcDtcbiAgICAgICAgY2hpbGQubGVmdCArPSBwYXJlbnQubGVmdDtcblxuICAgICAgICBpZiAoY2hpbGQuYm90dG9tID4gcGFyZW50LmJvdHRvbSkge1xuICAgICAgICAgICAgcGFyZW50LmJvdHRvbSA9IGNoaWxkLmJvdHRvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGlsZC5yaWdodCA+IHBhcmVudC5yaWdodCkge1xuICAgICAgICAgICAgcGFyZW50LnJpZ2h0ID0gY2hpbGQucmlnaHQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGNhbGN1bGF0ZVJlY3RTaXplID0gZnVuY3Rpb24gY2FsY3VsYXRlUmVjdFNpemUocmVjdCkge1xuICAgICAgICByZWN0LndpZHRoID0gcmVjdC5yaWdodCAtIHJlY3QubGVmdDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSByZWN0LmJvdHRvbSAtIHJlY3QudG9wO1xuICAgIH07XG5cbiAgICB2YXIgaXNOdW1iZXIgPSBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBwb3NpdGlvbiBpcyBhdCBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSBkZXN0aW5hdGlvblxuICAgICAqIEBwYXJhbSB2ZWxvY2l0eVxuICAgICAqIEBwYXJhbSBlcnJvck1hcmdpblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHZhciB0aGVyZVlldCA9IGZ1bmN0aW9uIHRoZXJlWWV0KHBvc2l0aW9uLCBkZXN0aW5hdGlvbiwgdmVsb2NpdHkpIHtcbiAgICAgICAgdmFyIGVycm9yTWFyZ2luID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwLjAwMTtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHBvc2l0aW9uIC0gZGVzdGluYXRpb24pIDwgZXJyb3JNYXJnaW4gJiYgTWF0aC5hYnModmVsb2NpdHkpIDwgZXJyb3JNYXJnaW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwcmluZyBhbmltYXRpb25cbiAgICAgKi9cbiAgICB2YXIgc3ByaW5nID1cbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIGZ1bmN0aW9uIHNwcmluZygpIC8vIG1ldGhvZCBkZWZpbml0aW9uXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICAgICAgICBfcmVmJHN0aWZmbmVzcyA9IF9yZWYuc3RpZmZuZXNzLFxuICAgICAgICAgICAgICAgIHN0aWZmbmVzcyA9IF9yZWYkc3RpZmZuZXNzID09PSB2b2lkIDAgPyAwLjUgOiBfcmVmJHN0aWZmbmVzcyxcbiAgICAgICAgICAgICAgICBfcmVmJGRhbXBpbmcgPSBfcmVmLmRhbXBpbmcsXG4gICAgICAgICAgICAgICAgZGFtcGluZyA9IF9yZWYkZGFtcGluZyA9PT0gdm9pZCAwID8gMC43NSA6IF9yZWYkZGFtcGluZyxcbiAgICAgICAgICAgICAgICBfcmVmJG1hc3MgPSBfcmVmLm1hc3MsXG4gICAgICAgICAgICAgICAgbWFzcyA9IF9yZWYkbWFzcyA9PT0gdm9pZCAwID8gMTAgOiBfcmVmJG1hc3M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgdmFyIHJlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlcyBzcHJpbmcgc3RhdGVcbiAgICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKHRzLCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIGluIHJlc3QsIGRvbid0IGFuaW1hdGVcbiAgICAgICAgICAgICAgICBpZiAocmVzdGluZykgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gbmVlZCBhdCBsZWFzdCBhIHRhcmdldCBvciBwb3NpdGlvbiB0byBkbyBzcHJpbmd5IHRoaW5nc1xuICAgICAgICAgICAgICAgIGlmICghKGlzTnVtYmVyKHRhcmdldCkgJiYgaXNOdW1iZXIocG9zaXRpb24pKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHNwcmluZyBmb3JjZVxuICAgICAgICAgICAgICAgIHZhciBmID0gLShwb3NpdGlvbiAtIHRhcmdldCkgKiBzdGlmZm5lc3M7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdmVsb2NpdHkgYnkgYWRkaW5nIGZvcmNlIGJhc2VkIG9uIG1hc3NcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSArPSBmIC8gbWFzcztcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmVsb2NpdHlcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSB2ZWxvY2l0eTtcblxuICAgICAgICAgICAgICAgIC8vIHNsb3cgZG93biBiYXNlZCBvbiBhbW91bnQgb2YgZGFtcGluZ1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5ICo9IGRhbXBpbmc7XG5cbiAgICAgICAgICAgICAgICAvLyB3ZSd2ZSBhcnJpdmVkIGlmIHdlJ3JlIG5lYXIgdGFyZ2V0IGFuZCBvdXIgdmVsb2NpdHkgaXMgbmVhciB6ZXJvXG4gICAgICAgICAgICAgICAgaWYgKHRoZXJlWWV0KHBvc2l0aW9uLCB0YXJnZXQsIHZlbG9jaXR5KSB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXN0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb25lXG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5vbmNvbXBsZXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9ncmVzcyB1cGRhdGVcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBuZXcgdGFyZ2V0IHZhbHVlXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHNldFRhcmdldCA9IGZ1bmN0aW9uIHNldFRhcmdldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGN1cnJlbnRseSBoYXMgbm8gcG9zaXRpb24sIHNldCB0YXJnZXQgYW5kIHBvc2l0aW9uIHRvIHRoaXMgdmFsdWVcbiAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXIodmFsdWUpICYmICFpc051bWJlcihwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBuZXh0IHRhcmdldCB2YWx1ZSB3aWxsIG5vdCBiZSBhbmltYXRlZCB0b1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbGV0IHN0YXJ0IG1vdmluZyB0byB0YXJnZXRcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgYXQgdGFyZ2V0XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSB0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm93IHJlc3RpbmcgYXMgdGFyZ2V0IGlzIGN1cnJlbnQgcG9zaXRpb24sIHN0b3AgbW92aW5nXG4gICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUocG9zaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBuZWVkICdhcGknIHRvIGNhbGwgb251cGRhdGUgY2FsbGJhY2tcbiAgICAgICAgICAgIHZhciBhcGkgPSBjcmVhdGVPYmplY3Qoe1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlOiBpbnRlcnBvbGF0ZSxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBzZXRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogZnVuY3Rpb24gb251cGRhdGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIG9uY29tcGxldGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcGk7XG4gICAgICAgIH07XG5cbiAgICB2YXIgZWFzZUxpbmVhciA9IGZ1bmN0aW9uIGVhc2VMaW5lYXIodCkge1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHZhciBlYXNlSW5PdXRRdWFkID0gZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0KSB7XG4gICAgICAgIHJldHVybiB0IDwgMC41ID8gMiAqIHQgKiB0IDogLTEgKyAoNCAtIDIgKiB0KSAqIHQ7XG4gICAgfTtcblxuICAgIHZhciB0d2VlbiA9XG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIHR3ZWVuKCkgLy8gbWV0aG9kIGRlZmluaXRpb25cbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgICAgICAgIF9yZWYkZHVyYXRpb24gPSBfcmVmLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gX3JlZiRkdXJhdGlvbiA9PT0gdm9pZCAwID8gNTAwIDogX3JlZiRkdXJhdGlvbixcbiAgICAgICAgICAgICAgICBfcmVmJGVhc2luZyA9IF9yZWYuZWFzaW5nLFxuICAgICAgICAgICAgICAgIGVhc2luZyA9IF9yZWYkZWFzaW5nID09PSB2b2lkIDAgPyBlYXNlSW5PdXRRdWFkIDogX3JlZiRlYXNpbmcsXG4gICAgICAgICAgICAgICAgX3JlZiRkZWxheSA9IF9yZWYuZGVsYXksXG4gICAgICAgICAgICAgICAgZGVsYXkgPSBfcmVmJGRlbGF5ID09PSB2b2lkIDAgPyAwIDogX3JlZiRkZWxheTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IG51bGw7XG4gICAgICAgICAgICB2YXIgdDtcbiAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgdmFyIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIHJldmVyc2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBudWxsO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiBpbnRlcnBvbGF0ZSh0cywgc2tpcFRvRW5kU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdGluZyB8fCB0YXJnZXQgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0cyAtIHN0YXJ0IDwgZGVsYXkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHQgPSB0cyAtIHN0YXJ0IC0gZGVsYXk7XG5cbiAgICAgICAgICAgICAgICBpZiAodCA+PSBkdXJhdGlvbiB8fCBza2lwVG9FbmRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHJldmVyc2UgPyAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKHAgKiB0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBhcGkub25jb21wbGV0ZShwICogdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHQgLyBkdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgYXBpLm9udXBkYXRlKCh0ID49IDAgPyBlYXNpbmcocmV2ZXJzZSA/IDEgLSBwIDogcCkgOiAwKSAqIHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gbmVlZCAnYXBpJyB0byBjYWxsIG9udXBkYXRlIGNhbGxiYWNrXG4gICAgICAgICAgICB2YXIgYXBpID0gY3JlYXRlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZTogaW50ZXJwb2xhdGUsXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldmVyc2UgPyAwIDogdGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgaW5pdGlhbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwaS5vbnVwZGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpLm9uY29tcGxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FudCB0byB0d2VlbiB0byBhIHNtYWxsZXIgdmFsdWUgYW5kIGhhdmUgYSBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBub3QgdHdlZW5pbmcgdG8gYSBzbWFsbGVyIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBnbyFcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBvbnVwZGF0ZTogZnVuY3Rpb24gb251cGRhdGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6IGZ1bmN0aW9uIG9uY29tcGxldGUodmFsdWUpIHt9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBhcGk7XG4gICAgICAgIH07XG5cbiAgICB2YXIgYW5pbWF0b3IgPSB7XG4gICAgICAgIHNwcmluZzogc3ByaW5nLFxuICAgICAgICB0d2VlbjogdHdlZW4sXG4gICAgfTtcblxuICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3NwcmluZycsIHN0aWZmbmVzczogLjUsIGRhbXBpbmc6IC43NSwgbWFzczogMTAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2xhdGlvbjogeyB0eXBlOiAnc3ByaW5nJywgLi4uIH0sIC4uLiB9XG4gICAgICAgICAgICAgICAgICAgICAgIHsgdHJhbnNsYXRpb246IHsgeDogeyB0eXBlOiAnc3ByaW5nJywgLi4uIH0gfSB9XG4gICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICB2YXIgY3JlYXRlQW5pbWF0b3IgPSBmdW5jdGlvbiBjcmVhdGVBbmltYXRvcihkZWZpbml0aW9uLCBjYXRlZ29yeSwgcHJvcGVydHkpIHtcbiAgICAgICAgLy8gZGVmYXVsdCBpcyBzaW5nbGUgZGVmaW5pdGlvblxuICAgICAgICAvLyB3ZSBjaGVjayBpZiB0cmFuc2Zvcm0gaXMgc2V0LCBpZiBzbywgd2UgY2hlY2sgaWYgcHJvcGVydHkgaXMgc2V0XG4gICAgICAgIHZhciBkZWYgPVxuICAgICAgICAgICAgZGVmaW5pdGlvbltjYXRlZ29yeV0gJiYgdHlwZW9mIGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XSA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICA/IGRlZmluaXRpb25bY2F0ZWdvcnldW3Byb3BlcnR5XVxuICAgICAgICAgICAgICAgIDogZGVmaW5pdGlvbltjYXRlZ29yeV0gfHwgZGVmaW5pdGlvbjtcblxuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiBkZWYgPT09ICdzdHJpbmcnID8gZGVmIDogZGVmLnR5cGU7XG4gICAgICAgIHZhciBwcm9wcyA9IHR5cGVvZiBkZWYgPT09ICdvYmplY3QnID8gT2JqZWN0LmFzc2lnbih7fSwgZGVmKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBhbmltYXRvclt0eXBlXSA/IGFuaW1hdG9yW3R5cGVdKHByb3BzKSA6IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBhZGRHZXRTZXQgPSBmdW5jdGlvbiBhZGRHZXRTZXQoa2V5cywgb2JqLCBwcm9wcykge1xuICAgICAgICB2YXIgb3ZlcndyaXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBmYWxzZTtcbiAgICAgICAgb2JqID0gQXJyYXkuaXNBcnJheShvYmopID8gb2JqIDogW29ial07XG4gICAgICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGtleTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0dGVyID0gZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBmdW5jdGlvbiBzZXR0ZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9wc1trZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGtleSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGtleS5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGdldHRlciA9IGtleS5nZXR0ZXIgfHwgZ2V0dGVyO1xuICAgICAgICAgICAgICAgICAgICBzZXR0ZXIgPSBrZXkuc2V0dGVyIHx8IHNldHRlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob1tuYW1lXSAmJiAhb3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvW25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldHRlcixcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBzZXR0ZXIsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gYWRkIHRvIHN0YXRlLFxuICAgIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4gICAgLy8gc2V0dXAgYW5pbWF0b3JzXG5cbiAgICB2YXIgYW5pbWF0aW9ucyA9IGZ1bmN0aW9uIGFuaW1hdGlvbnMoX3JlZikge1xuICAgICAgICB2YXIgbWl4aW5Db25maWcgPSBfcmVmLm1peGluQ29uZmlnLFxuICAgICAgICAgICAgdmlld1Byb3BzID0gX3JlZi52aWV3UHJvcHMsXG4gICAgICAgICAgICB2aWV3SW50ZXJuYWxBUEkgPSBfcmVmLnZpZXdJbnRlcm5hbEFQSSxcbiAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJO1xuICAgICAgICAvLyBpbml0aWFsIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIGluaXRpYWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgLy8gbGlzdCBvZiBhbGwgYWN0aXZlIGFuaW1hdGlvbnNcbiAgICAgICAgdmFyIGFuaW1hdGlvbnMgPSBbXTtcblxuICAgICAgICAvLyBzZXR1cCBhbmltYXRvcnNcbiAgICAgICAgZm9yaW4obWl4aW5Db25maWcsIGZ1bmN0aW9uKHByb3BlcnR5LCBhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHZhciBhbmltYXRvciA9IGNyZWF0ZUFuaW1hdG9yKGFuaW1hdGlvbik7XG4gICAgICAgICAgICBpZiAoIWFuaW1hdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSBhbmltYXRvciB1cGRhdGVzLCB1cGRhdGUgdGhlIHZpZXcgc3RhdGUgdmFsdWVcbiAgICAgICAgICAgIGFuaW1hdG9yLm9udXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2aWV3UHJvcHNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBzZXQgYW5pbWF0b3IgdGFyZ2V0XG4gICAgICAgICAgICBhbmltYXRvci50YXJnZXQgPSBpbml0aWFsUHJvcHNbcHJvcGVydHldO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHZhbHVlIGlzIHNldCwgc2V0IHRoZSBhbmltYXRvciB0YXJnZXQgdmFsdWVcbiAgICAgICAgICAgIHZhciBwcm9wID0ge1xuICAgICAgICAgICAgICAgIGtleTogcHJvcGVydHksXG4gICAgICAgICAgICAgICAgc2V0dGVyOiBmdW5jdGlvbiBzZXR0ZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgYWxyZWFkeSBhdCB0YXJnZXQsIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltYXRvci50YXJnZXQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhbmltYXRvci50YXJnZXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldHRlcjogZnVuY3Rpb24gZ2V0dGVyKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlld1Byb3BzW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYWRkIGdldHRlcnMgYW5kIHNldHRlcnNcbiAgICAgICAgICAgIGFkZEdldFNldChbcHJvcF0sIFt2aWV3SW50ZXJuYWxBUEksIHZpZXdFeHRlcm5hbEFQSV0sIHZpZXdQcm9wcywgdHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBpdCB0byB0aGUgbGlzdCBmb3IgZWFzeSB1cGRhdGluZyBmcm9tIHRoZSBfd3JpdGUgbWV0aG9kXG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0b3IpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBleHBvc2UgaW50ZXJuYWwgd3JpdGUgYXBpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUodHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2tpcFRvRW5kU3RhdGUgPSBkb2N1bWVudC5oaWRkZW47XG4gICAgICAgICAgICAgICAgdmFyIHJlc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbnMuZm9yRWFjaChmdW5jdGlvbihhbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmltYXRpb24ucmVzdGluZykgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uaW50ZXJwb2xhdGUodHMsIHNraXBUb0VuZFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdGluZztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge30sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBhZGRFdmVudCA9IGZ1bmN0aW9uIGFkZEV2ZW50KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZm4pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiByZW1vdmVFdmVudChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGZuKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gbWl4aW5cbiAgICB2YXIgbGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKF9yZWYpIHtcbiAgICAgICAgdmFyIG1peGluQ29uZmlnID0gX3JlZi5taXhpbkNvbmZpZyxcbiAgICAgICAgICAgIHZpZXdQcm9wcyA9IF9yZWYudmlld1Byb3BzLFxuICAgICAgICAgICAgdmlld0ludGVybmFsQVBJID0gX3JlZi52aWV3SW50ZXJuYWxBUEksXG4gICAgICAgICAgICB2aWV3RXh0ZXJuYWxBUEkgPSBfcmVmLnZpZXdFeHRlcm5hbEFQSSxcbiAgICAgICAgICAgIHZpZXdTdGF0ZSA9IF9yZWYudmlld1N0YXRlLFxuICAgICAgICAgICAgdmlldyA9IF9yZWYudmlldztcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtdO1xuXG4gICAgICAgIHZhciBhZGQgPSBhZGRFdmVudCh2aWV3LmVsZW1lbnQpO1xuICAgICAgICB2YXIgcmVtb3ZlID0gcmVtb3ZlRXZlbnQodmlldy5lbGVtZW50KTtcblxuICAgICAgICB2aWV3RXh0ZXJuYWxBUEkub24gPSBmdW5jdGlvbih0eXBlLCBmbikge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgZm46IGZuLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGFkZCh0eXBlLCBmbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmlld0V4dGVybmFsQVBJLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGZuKSB7XG4gICAgICAgICAgICBldmVudHMuc3BsaWNlKFxuICAgICAgICAgICAgICAgIGV2ZW50cy5maW5kSW5kZXgoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnR5cGUgPT09IHR5cGUgJiYgZXZlbnQuZm4gPT09IGZuO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJlbW92ZSh0eXBlLCBmbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgYnVzeVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGV2ZW50LnR5cGUsIGV2ZW50LmZuKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIGFkZCB0byBleHRlcm5hbCBhcGkgYW5kIGxpbmsgdG8gcHJvcHNcblxuICAgIHZhciBhcGlzID0gZnVuY3Rpb24gYXBpcyhfcmVmKSB7XG4gICAgICAgIHZhciBtaXhpbkNvbmZpZyA9IF9yZWYubWl4aW5Db25maWcsXG4gICAgICAgICAgICB2aWV3UHJvcHMgPSBfcmVmLnZpZXdQcm9wcyxcbiAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSSA9IF9yZWYudmlld0V4dGVybmFsQVBJO1xuICAgICAgICBhZGRHZXRTZXQobWl4aW5Db25maWcsIHZpZXdFeHRlcm5hbEFQSSwgdmlld1Byb3BzKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRGVmaW5lZCA9IGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gYWRkIHRvIHN0YXRlLFxuICAgIC8vIGFkZCBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGludGVybmFsIGFuZCBleHRlcm5hbCBhcGkgKGlmIG5vdCBzZXQpXG4gICAgLy8gc2V0IGluaXRpYWwgc3RhdGUgYmFzZWQgb24gcHJvcHMgaW4gdmlld1Byb3BzXG4gICAgLy8gYXBwbHkgYXMgdHJhbnNmb3JtcyBlYWNoIGZyYW1lXG5cbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHNjYWxlWDogMSxcbiAgICAgICAgc2NhbGVZOiAxLFxuICAgICAgICB0cmFuc2xhdGVYOiAwLFxuICAgICAgICB0cmFuc2xhdGVZOiAwLFxuICAgICAgICByb3RhdGVYOiAwLFxuICAgICAgICByb3RhdGVZOiAwLFxuICAgICAgICByb3RhdGVaOiAwLFxuICAgICAgICBvcmlnaW5YOiAwLFxuICAgICAgICBvcmlnaW5ZOiAwLFxuICAgIH07XG5cbiAgICB2YXIgc3R5bGVzID0gZnVuY3Rpb24gc3R5bGVzKF9yZWYpIHtcbiAgICAgICAgdmFyIG1peGluQ29uZmlnID0gX3JlZi5taXhpbkNvbmZpZyxcbiAgICAgICAgICAgIHZpZXdQcm9wcyA9IF9yZWYudmlld1Byb3BzLFxuICAgICAgICAgICAgdmlld0ludGVybmFsQVBJID0gX3JlZi52aWV3SW50ZXJuYWxBUEksXG4gICAgICAgICAgICB2aWV3RXh0ZXJuYWxBUEkgPSBfcmVmLnZpZXdFeHRlcm5hbEFQSSxcbiAgICAgICAgICAgIHZpZXcgPSBfcmVmLnZpZXc7XG4gICAgICAgIC8vIGluaXRpYWwgcHJvcHNcbiAgICAgICAgdmFyIGluaXRpYWxQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgLy8gY3VycmVudCBwcm9wc1xuICAgICAgICB2YXIgY3VycmVudFByb3BzID0ge307XG5cbiAgICAgICAgLy8gd2Ugd2lsbCBhZGQgdGhvc2UgcHJvcGVydGllcyB0byB0aGUgZXh0ZXJuYWwgQVBJIGFuZCBsaW5rIHRoZW0gdG8gdGhlIHZpZXdTdGF0ZVxuICAgICAgICBhZGRHZXRTZXQobWl4aW5Db25maWcsIFt2aWV3SW50ZXJuYWxBUEksIHZpZXdFeHRlcm5hbEFQSV0sIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgLy8gb3ZlcnJpZGUgcmVjdCBvbiBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgcmVjdCBnZXR0ZXIgc28gaXQgdGFrZXMgaW4gYWNjb3VudCB0cmFuc2Zvcm1zXG4gICAgICAgIHZhciBnZXRPZmZzZXQgPSBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3ZpZXdQcm9wc1sndHJhbnNsYXRlWCddIHx8IDAsIHZpZXdQcm9wc1sndHJhbnNsYXRlWSddIHx8IDBdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRTY2FsZSA9IGZ1bmN0aW9uIGdldFNjYWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFt2aWV3UHJvcHNbJ3NjYWxlWCddIHx8IDAsIHZpZXdQcm9wc1snc2NhbGVZJ10gfHwgMF07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRSZWN0ID0gZnVuY3Rpb24gZ2V0UmVjdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LnJlY3RcbiAgICAgICAgICAgICAgICA/IGdldFZpZXdSZWN0KHZpZXcucmVjdCwgdmlldy5jaGlsZFZpZXdzLCBnZXRPZmZzZXQoKSwgZ2V0U2NhbGUoKSlcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHZpZXdJbnRlcm5hbEFQSS5yZWN0ID0geyBnZXQ6IGdldFJlY3QgfTtcbiAgICAgICAgdmlld0V4dGVybmFsQVBJLnJlY3QgPSB7IGdldDogZ2V0UmVjdCB9O1xuXG4gICAgICAgIC8vIGFwcGx5IHZpZXcgcHJvcHNcbiAgICAgICAgbWl4aW5Db25maWcuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHZpZXdQcm9wc1trZXldID1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5pdGlhbFByb3BzW2tleV0gPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHNba2V5XSA6IGluaXRpYWxQcm9wc1trZXldO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBleHBvc2UgYXBpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VlIGlmIHByb3BzIGhhdmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmICghcHJvcHNIYXZlQ2hhbmdlZChjdXJyZW50UHJvcHMsIHZpZXdQcm9wcykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmVzIGVsZW1lbnQgdG8gY29ycmVjdCBwb3NpdGlvbiBvbiBzY3JlZW5cbiAgICAgICAgICAgICAgICBhcHBseVN0eWxlcyh2aWV3LmVsZW1lbnQsIHZpZXdQcm9wcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBuZXcgdHJhbnNmb3Jtc1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudFByb3BzLCBPYmplY3QuYXNzaWduKHt9LCB2aWV3UHJvcHMpKTtcblxuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciBidXN5XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHt9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgcHJvcHNIYXZlQ2hhbmdlZCA9IGZ1bmN0aW9uIHByb3BzSGF2ZUNoYW5nZWQoY3VycmVudFByb3BzLCBuZXdQcm9wcykge1xuICAgICAgICAvLyBkaWZmZXJlbnQgYW1vdW50IG9mIGtleXNcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGN1cnJlbnRQcm9wcykubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhuZXdQcm9wcykubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYW5hbHl6ZSB0aGUgaW5kaXZpZHVhbCBwcm9wc1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG5ld1Byb3BzKSB7XG4gICAgICAgICAgICBpZiAobmV3UHJvcHNbcHJvcF0gIT09IGN1cnJlbnRQcm9wc1twcm9wXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgYXBwbHlTdHlsZXMgPSBmdW5jdGlvbiBhcHBseVN0eWxlcyhlbGVtZW50LCBfcmVmMikge1xuICAgICAgICB2YXIgb3BhY2l0eSA9IF9yZWYyLm9wYWNpdHksXG4gICAgICAgICAgICBwZXJzcGVjdGl2ZSA9IF9yZWYyLnBlcnNwZWN0aXZlLFxuICAgICAgICAgICAgdHJhbnNsYXRlWCA9IF9yZWYyLnRyYW5zbGF0ZVgsXG4gICAgICAgICAgICB0cmFuc2xhdGVZID0gX3JlZjIudHJhbnNsYXRlWSxcbiAgICAgICAgICAgIHNjYWxlWCA9IF9yZWYyLnNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWSA9IF9yZWYyLnNjYWxlWSxcbiAgICAgICAgICAgIHJvdGF0ZVggPSBfcmVmMi5yb3RhdGVYLFxuICAgICAgICAgICAgcm90YXRlWSA9IF9yZWYyLnJvdGF0ZVksXG4gICAgICAgICAgICByb3RhdGVaID0gX3JlZjIucm90YXRlWixcbiAgICAgICAgICAgIG9yaWdpblggPSBfcmVmMi5vcmlnaW5YLFxuICAgICAgICAgICAgb3JpZ2luWSA9IF9yZWYyLm9yaWdpblksXG4gICAgICAgICAgICB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0O1xuXG4gICAgICAgIHZhciB0cmFuc2Zvcm1zID0gJyc7XG4gICAgICAgIHZhciBzdHlsZXMgPSAnJztcblxuICAgICAgICAvLyBoYW5kbGUgdHJhbnNmb3JtIG9yaWdpblxuICAgICAgICBpZiAoaXNEZWZpbmVkKG9yaWdpblgpIHx8IGlzRGVmaW5lZChvcmlnaW5ZKSkge1xuICAgICAgICAgICAgc3R5bGVzICs9ICd0cmFuc2Zvcm0tb3JpZ2luOiAnICsgKG9yaWdpblggfHwgMCkgKyAncHggJyArIChvcmlnaW5ZIHx8IDApICsgJ3B4Oyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmFuc2Zvcm0gb3JkZXIgaXMgcmVsZXZhbnRcbiAgICAgICAgLy8gMC4gcGVyc3BlY3RpdmVcbiAgICAgICAgaWYgKGlzRGVmaW5lZChwZXJzcGVjdGl2ZSkpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMgKz0gJ3BlcnNwZWN0aXZlKCcgKyBwZXJzcGVjdGl2ZSArICdweCkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDEuIHRyYW5zbGF0ZVxuICAgICAgICBpZiAoaXNEZWZpbmVkKHRyYW5zbGF0ZVgpIHx8IGlzRGVmaW5lZCh0cmFuc2xhdGVZKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtcyArPVxuICAgICAgICAgICAgICAgICd0cmFuc2xhdGUzZCgnICsgKHRyYW5zbGF0ZVggfHwgMCkgKyAncHgsICcgKyAodHJhbnNsYXRlWSB8fCAwKSArICdweCwgMCkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDIuIHNjYWxlXG4gICAgICAgIGlmIChpc0RlZmluZWQoc2NhbGVYKSB8fCBpc0RlZmluZWQoc2NhbGVZKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtcyArPVxuICAgICAgICAgICAgICAgICdzY2FsZTNkKCcgK1xuICAgICAgICAgICAgICAgIChpc0RlZmluZWQoc2NhbGVYKSA/IHNjYWxlWCA6IDEpICtcbiAgICAgICAgICAgICAgICAnLCAnICtcbiAgICAgICAgICAgICAgICAoaXNEZWZpbmVkKHNjYWxlWSkgPyBzY2FsZVkgOiAxKSArXG4gICAgICAgICAgICAgICAgJywgMSkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIHJvdGF0ZVxuICAgICAgICBpZiAoaXNEZWZpbmVkKHJvdGF0ZVopKSB7XG4gICAgICAgICAgICB0cmFuc2Zvcm1zICs9ICdyb3RhdGVaKCcgKyByb3RhdGVaICsgJ3JhZCkgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocm90YXRlWCkpIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybXMgKz0gJ3JvdGF0ZVgoJyArIHJvdGF0ZVggKyAncmFkKSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChyb3RhdGVZKSkge1xuICAgICAgICAgICAgdHJhbnNmb3JtcyArPSAncm90YXRlWSgnICsgcm90YXRlWSArICdyYWQpICc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgdHJhbnNmb3Jtc1xuICAgICAgICBpZiAodHJhbnNmb3Jtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0eWxlcyArPSAndHJhbnNmb3JtOicgKyB0cmFuc2Zvcm1zICsgJzsnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIG9wYWNpdHlcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgICAgICAgc3R5bGVzICs9ICdvcGFjaXR5OicgKyBvcGFjaXR5ICsgJzsnO1xuXG4gICAgICAgICAgICAvLyBpZiB3ZSByZWFjaCB6ZXJvLCB3ZSBtYWtlIHRoZSBlbGVtZW50IGluYWNjZXNzaWJsZVxuICAgICAgICAgICAgaWYgKG9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHlsZXMgKz0gJ3Zpc2liaWxpdHk6aGlkZGVuOyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGJlbG93IDEwMCUgb3BhY2l0eSB0aGlzIGVsZW1lbnQgY2FuJ3QgYmUgY2xpY2tlZFxuICAgICAgICAgICAgaWYgKG9wYWNpdHkgPCAxKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzICs9ICdwb2ludGVyLWV2ZW50czpub25lOyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgaGVpZ2h0XG4gICAgICAgIGlmIChpc0RlZmluZWQoaGVpZ2h0KSkge1xuICAgICAgICAgICAgc3R5bGVzICs9ICdoZWlnaHQ6JyArIGhlaWdodCArICdweDsnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHdpZHRoXG4gICAgICAgIGlmIChpc0RlZmluZWQod2lkdGgpKSB7XG4gICAgICAgICAgICBzdHlsZXMgKz0gJ3dpZHRoOicgKyB3aWR0aCArICdweDsnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwbHkgc3R5bGVzXG4gICAgICAgIHZhciBlbGVtZW50Q3VycmVudFN0eWxlID0gZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlIHx8ICcnO1xuXG4gICAgICAgIC8vIGlmIG5ldyBzdHlsZXMgZG9lcyBub3QgbWF0Y2ggY3VycmVudCBzdHlsZXMsIGxldHMgdXBkYXRlIVxuICAgICAgICBpZiAoc3R5bGVzLmxlbmd0aCAhPT0gZWxlbWVudEN1cnJlbnRTdHlsZS5sZW5ndGggfHwgc3R5bGVzICE9PSBlbGVtZW50Q3VycmVudFN0eWxlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzdHlsZXM7XG4gICAgICAgICAgICAvLyBzdG9yZSBjdXJyZW50IHN0eWxlcyBzbyB3ZSBjYW4gY29tcGFyZSB0aGVtIHRvIG5ldyBzdHlsZXMgbGF0ZXIgb25cbiAgICAgICAgICAgIC8vIF9ub3RfIGdldHRpbmcgdGhlIHN0eWxlIHZhbHVlIGlzIGZhc3RlclxuICAgICAgICAgICAgZWxlbWVudC5lbGVtZW50Q3VycmVudFN0eWxlID0gc3R5bGVzO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBNaXhpbnMgPSB7XG4gICAgICAgIHN0eWxlczogc3R5bGVzLFxuICAgICAgICBsaXN0ZW5lcnM6IGxpc3RlbmVycyxcbiAgICAgICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcbiAgICAgICAgYXBpczogYXBpcyxcbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZVJlY3QgPSBmdW5jdGlvbiB1cGRhdGVSZWN0KCkge1xuICAgICAgICB2YXIgcmVjdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAgIHZhciBlbGVtZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgdmFyIHN0eWxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCkge1xuICAgICAgICAgICAgcmVjdC5wYWRkaW5nVG9wID0gcGFyc2VJbnQoc3R5bGUucGFkZGluZ1RvcCwgMTApIHx8IDA7XG4gICAgICAgICAgICByZWN0Lm1hcmdpblRvcCA9IHBhcnNlSW50KHN0eWxlLm1hcmdpblRvcCwgMTApIHx8IDA7XG4gICAgICAgICAgICByZWN0Lm1hcmdpblJpZ2h0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQsIDEwKSB8fCAwO1xuICAgICAgICAgICAgcmVjdC5tYXJnaW5Cb3R0b20gPSBwYXJzZUludChzdHlsZS5tYXJnaW5Cb3R0b20sIDEwKSB8fCAwO1xuICAgICAgICAgICAgcmVjdC5tYXJnaW5MZWZ0ID0gcGFyc2VJbnQoc3R5bGUubWFyZ2luTGVmdCwgMTApIHx8IDA7XG4gICAgICAgICAgICBlbGVtZW50LmxheW91dENhbGN1bGF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdC5sZWZ0ID0gZWxlbWVudC5vZmZzZXRMZWZ0IHx8IDA7XG4gICAgICAgIHJlY3QudG9wID0gZWxlbWVudC5vZmZzZXRUb3AgfHwgMDtcbiAgICAgICAgcmVjdC53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGggfHwgMDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCB8fCAwO1xuXG4gICAgICAgIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoO1xuICAgICAgICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgcmVjdC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICByZWN0LmhpZGRlbiA9IGVsZW1lbnQub2Zmc2V0UGFyZW50ID09PSBudWxsO1xuXG4gICAgICAgIHJldHVybiByZWN0O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlVmlldyA9XG4gICAgICAgIC8vIGRlZmF1bHQgdmlldyBkZWZpbml0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVZpZXcoKSB7XG4gICAgICAgICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgICAgICAgX3JlZiR0YWcgPSBfcmVmLnRhZyxcbiAgICAgICAgICAgICAgICB0YWcgPSBfcmVmJHRhZyA9PT0gdm9pZCAwID8gJ2RpdicgOiBfcmVmJHRhZyxcbiAgICAgICAgICAgICAgICBfcmVmJG5hbWUgPSBfcmVmLm5hbWUsXG4gICAgICAgICAgICAgICAgbmFtZSA9IF9yZWYkbmFtZSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkbmFtZSxcbiAgICAgICAgICAgICAgICBfcmVmJGF0dHJpYnV0ZXMgPSBfcmVmLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IF9yZWYkYXR0cmlidXRlcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgX3JlZiRyZWFkID0gX3JlZi5yZWFkLFxuICAgICAgICAgICAgICAgIHJlYWQgPSBfcmVmJHJlYWQgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJHJlYWQsXG4gICAgICAgICAgICAgICAgX3JlZiR3cml0ZSA9IF9yZWYud3JpdGUsXG4gICAgICAgICAgICAgICAgd3JpdGUgPSBfcmVmJHdyaXRlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiR3cml0ZSxcbiAgICAgICAgICAgICAgICBfcmVmJGNyZWF0ZSA9IF9yZWYuY3JlYXRlLFxuICAgICAgICAgICAgICAgIGNyZWF0ZSA9IF9yZWYkY3JlYXRlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiRjcmVhdGUsXG4gICAgICAgICAgICAgICAgX3JlZiRkZXN0cm95ID0gX3JlZi5kZXN0cm95LFxuICAgICAgICAgICAgICAgIGRlc3Ryb3kgPSBfcmVmJGRlc3Ryb3kgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRlc3Ryb3ksXG4gICAgICAgICAgICAgICAgX3JlZiRmaWx0ZXJGcmFtZUFjdGlvID0gX3JlZi5maWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZCA9XG4gICAgICAgICAgICAgICAgICAgIF9yZWYkZmlsdGVyRnJhbWVBY3RpbyA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uKGNoaWxkLCBhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBfcmVmJGZpbHRlckZyYW1lQWN0aW8sXG4gICAgICAgICAgICAgICAgX3JlZiRkaWRDcmVhdGVWaWV3ID0gX3JlZi5kaWRDcmVhdGVWaWV3LFxuICAgICAgICAgICAgICAgIGRpZENyZWF0ZVZpZXcgPSBfcmVmJGRpZENyZWF0ZVZpZXcgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmJGRpZENyZWF0ZVZpZXcsXG4gICAgICAgICAgICAgICAgX3JlZiRkaWRXcml0ZVZpZXcgPSBfcmVmLmRpZFdyaXRlVmlldyxcbiAgICAgICAgICAgICAgICBkaWRXcml0ZVZpZXcgPSBfcmVmJGRpZFdyaXRlVmlldyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWYkZGlkV3JpdGVWaWV3LFxuICAgICAgICAgICAgICAgIF9yZWYkaWdub3JlUmVjdCA9IF9yZWYuaWdub3JlUmVjdCxcbiAgICAgICAgICAgICAgICBpZ25vcmVSZWN0ID0gX3JlZiRpZ25vcmVSZWN0ID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkaWdub3JlUmVjdCxcbiAgICAgICAgICAgICAgICBfcmVmJGlnbm9yZVJlY3RVcGRhdGUgPSBfcmVmLmlnbm9yZVJlY3RVcGRhdGUsXG4gICAgICAgICAgICAgICAgaWdub3JlUmVjdFVwZGF0ZSA9IF9yZWYkaWdub3JlUmVjdFVwZGF0ZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGlnbm9yZVJlY3RVcGRhdGUsXG4gICAgICAgICAgICAgICAgX3JlZiRtaXhpbnMgPSBfcmVmLm1peGlucyxcbiAgICAgICAgICAgICAgICBtaXhpbnMgPSBfcmVmJG1peGlucyA9PT0gdm9pZCAwID8gW10gOiBfcmVmJG1peGlucztcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAvLyBlYWNoIHZpZXcgcmVxdWlyZXMgcmVmZXJlbmNlIHRvIHN0b3JlXG4gICAgICAgICAgICAgICAgc3RvcmVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgICAgICAgICAgLy8gcm9vdCBlbGVtZW50IHNob3VsZCBub3QgYmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCh0YWcsICdmaWxlcG9uZC0tJyArIG5hbWUsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gc3R5bGUgcmVmZXJlbmNlIHNob3VsZCBhbHNvIG5vdCBiZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50IHJlY3RhbmdsZVxuICAgICAgICAgICAgICAgIHZhciByZWN0ID0gdXBkYXRlUmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZVJlY3QgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVzdCBzdGF0ZVxuICAgICAgICAgICAgICAgIHZhciBpc1Jlc3RpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIHByZXR0eSBzZWxmIGV4cGxhbmF0b3J5XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkVmlld3MgPSBbXTtcblxuICAgICAgICAgICAgICAgIC8vIGxvYWRlZCBtaXhpbnNcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlTWl4aW5zID0gW107XG5cbiAgICAgICAgICAgICAgICAvLyByZWZlcmVuY2VzIHRvIGNyZWF0ZWQgY2hpbGRyZW5cbiAgICAgICAgICAgICAgICB2YXIgcmVmID0ge307XG5cbiAgICAgICAgICAgICAgICAvLyBzdGF0ZSB1c2VkIGZvciBlYWNoIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlID0ge307XG5cbiAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIHdyaXRlcnMgdGhhdCB3aWxsIGJlIGNhbGxlZCB0byB1cGRhdGUgdGhpcyB2aWV3XG4gICAgICAgICAgICAgICAgdmFyIHdyaXRlcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlLCAvLyBkZWZhdWx0IHdyaXRlclxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVhZGVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgcmVhZCwgLy8gZGVmYXVsdCByZWFkZXJcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlc3Ryb3llcnMgPSBbXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3ksIC8vIGRlZmF1bHQgZGVzdHJveVxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICAvLyBjb3JlIHZpZXcgbWV0aG9kc1xuICAgICAgICAgICAgICAgIHZhciBnZXRFbGVtZW50ID0gZnVuY3Rpb24gZ2V0RWxlbWVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0Q2hpbGRWaWV3cyA9IGZ1bmN0aW9uIGdldENoaWxkVmlld3MoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZFZpZXdzLmNvbmNhdCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGdldFJlZmVyZW5jZSA9IGZ1bmN0aW9uIGdldFJlZmVyZW5jZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVDaGlsZFZpZXcgPSBmdW5jdGlvbiBjcmVhdGVDaGlsZFZpZXcoc3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZpZXcsIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldyhzdG9yZSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGdldFJlY3QgPSBmdW5jdGlvbiBnZXRSZWN0KCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhbWVSZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVSZWN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lUmVjdCA9IGdldFZpZXdSZWN0KHJlY3QsIGNoaWxkVmlld3MsIFswLCAwXSwgWzEsIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYW1lUmVjdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBnZXRTdHlsZSA9IGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlYWQgZGF0YSBmcm9tIERPTVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdmFyIF9yZWFkID0gZnVuY3Rpb24gX3JlYWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lUmVjdCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCBjaGlsZCB2aWV3c1xuICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5fcmVhZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvdWxkVXBkYXRlID0gIShpZ25vcmVSZWN0VXBkYXRlICYmIHJlY3Qud2lkdGggJiYgcmVjdC5oZWlnaHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdWxkVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVSZWN0KHJlY3QsIGVsZW1lbnQsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwaSA9IHsgcm9vdDogaW50ZXJuYWxBUEksIHByb3BzOiBwcm9wcywgcmVjdDogcmVjdCB9O1xuICAgICAgICAgICAgICAgICAgICByZWFkZXJzLmZvckVhY2goZnVuY3Rpb24ocmVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyKGFwaSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBXcml0ZSBkYXRhIHRvIERPTVxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdmFyIF93cml0ZSA9IGZ1bmN0aW9uIF93cml0ZSh0cywgZnJhbWVBY3Rpb25zLCBzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyBhY3Rpb25zLCB3ZSBhc3N1bWUgdGhhdCB0aGUgdmlldyBpcyByZXN0aW5nXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN0aW5nID0gZnJhbWVBY3Rpb25zLmxlbmd0aCA9PT0gMDtcblxuICAgICAgICAgICAgICAgICAgICAvLyB3cml0ZXJzXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlcnMuZm9yRWFjaChmdW5jdGlvbih3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cml0ZXJSZXN0aW5nID0gd3JpdGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdDogaW50ZXJuYWxBUEksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemU6IHNob3VsZE9wdGltaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cml0ZXJSZXN0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcnVuIG1peGluc1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVNaXhpbnMuZm9yRWFjaChmdW5jdGlvbihtaXhpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgb25lIG9mIHRoZSBtaXhpbnMgaXMgc3RpbGwgYnVzeSBhZnRlciB3cml0ZSBvcGVyYXRpb24sIHdlIGFyZSBub3QgcmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1peGluUmVzdGluZyA9IG1peGluLndyaXRlKHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpblJlc3RpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGVzIGNoaWxkIHZpZXdzIHRoYXQgYXJlIGN1cnJlbnRseSBhdHRhY2hlZCB0byB0aGUgRE9NXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVmlld3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gISFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBhIGNoaWxkIHZpZXcgaXMgbm90IHJlc3RpbmcsIHdlIGFyZSBub3QgcmVzdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZFJlc3RpbmcgPSBjaGlsZC5fd3JpdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJGcmFtZUFjdGlvbnNGb3JDaGlsZChjaGlsZCwgZnJhbWVBY3Rpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZFJlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGVuZCBuZXcgZWxlbWVudHMgdG8gRE9NIGFuZCB1cGRhdGUgdGhvc2VcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWaWV3c1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8uZmlsdGVyKGNoaWxkID0+ICFjaGlsZC5lbGVtZW50LnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBza2lwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXBwZW5kIHRvIERPTVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVybmFsQVBJLmFwcGVuZENoaWxkKGNoaWxkLmVsZW1lbnQsIGluZGV4KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgcmVhZCAobmVlZCB0byBrbm93IHRoZSBzaXplIG9mIHRoZXNlIGVsZW1lbnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLl9yZWFkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZS1jYWxsIHdyaXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuX3dyaXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQoY2hpbGQsIGZyYW1lQWN0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGp1c3QgYWRkZWQgc29tdGhpbmcgdG8gdGhlIGRvbSwgbm8gcmVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSByZXN0aW5nIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzdGluZyA9IHJlc3Rpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgZGlkV3JpdGVWaWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uczogZnJhbWVBY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0IHBhcmVudCBrbm93IGlmIHdlIGFyZSByZXN0aW5nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN0aW5nO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgX2Rlc3Ryb3kgPSBmdW5jdGlvbiBfZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlTWl4aW5zLmZvckVhY2goZnVuY3Rpb24obWl4aW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtaXhpbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZXN0cm95ZXJzLmZvckVhY2goZnVuY3Rpb24oZGVzdHJveWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0cm95ZXIoeyByb290OiBpbnRlcm5hbEFQSSwgcHJvcHM6IHByb3BzIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuX2Rlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNoYXJlZEFQSVxuICAgICAgICAgICAgICAgIHZhciBzaGFyZWRBUElEZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0U3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY2hpbGRWaWV3czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBnZXRDaGlsZFZpZXdzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBwcml2YXRlIEFQSSBkZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGludGVybmFsQVBJRGVmaW5pdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHNoYXJlZEFQSURlZmluaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBnZXRSZWN0LFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VzcyB0byBjdXN0b20gY2hpbGRyZW4gcmVmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICByZWY6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0UmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbSBtb2RpZmllcnNcbiAgICAgICAgICAgICAgICAgICAgaXM6IGZ1bmN0aW9uIGlzKG5lZWRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IG5lZWRsZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kQ2hpbGQ6IGFwcGVuZENoaWxkKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDaGlsZFZpZXc6IGNyZWF0ZUNoaWxkVmlldyhzdG9yZSksXG4gICAgICAgICAgICAgICAgICAgIGxpbmtWaWV3OiBmdW5jdGlvbiBsaW5rVmlldyh2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnB1c2godmlldyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdW5saW5rVmlldzogZnVuY3Rpb24gdW5saW5rVmlldyh2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZFZpZXdzLnNwbGljZShjaGlsZFZpZXdzLmluZGV4T2YodmlldyksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRDaGlsZFZpZXc6IGFwcGVuZENoaWxkVmlldyhlbGVtZW50LCBjaGlsZFZpZXdzKSxcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGRWaWV3OiByZW1vdmVDaGlsZFZpZXcoZWxlbWVudCwgY2hpbGRWaWV3cyksXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyV3JpdGVyOiBmdW5jdGlvbiByZWdpc3RlcldyaXRlcih3cml0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cml0ZXJzLnB1c2god3JpdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJSZWFkZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyUmVhZGVyKHJlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlcnMucHVzaChyZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckRlc3Ryb3llcjogZnVuY3Rpb24gcmVnaXN0ZXJEZXN0cm95ZXIoZGVzdHJveWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzdHJveWVycy5wdXNoKGRlc3Ryb3llcik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGludmFsaWRhdGVMYXlvdXQ6IGZ1bmN0aW9uIGludmFsaWRhdGVMYXlvdXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGVsZW1lbnQubGF5b3V0Q2FsY3VsYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3MgdG8gZGF0YSBzdG9yZVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaDogc3RvcmUuZGlzcGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBzdG9yZS5xdWVyeSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHB1YmxpYyB2aWV3IEFQSSBtZXRob2RzXG4gICAgICAgICAgICAgICAgdmFyIGV4dGVybmFsQVBJRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBnZXRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0Q2hpbGRWaWV3cyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICByZWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGdldFJlY3QsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgcmVzdGluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzUmVzdGluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgaXNSZWN0SWdub3JlZDogZnVuY3Rpb24gaXNSZWN0SWdub3JlZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZ25vcmVSZWN0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBfcmVhZDogX3JlYWQsXG4gICAgICAgICAgICAgICAgICAgIF93cml0ZTogX3dyaXRlLFxuICAgICAgICAgICAgICAgICAgICBfZGVzdHJveTogX2Rlc3Ryb3ksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIG1peGluIEFQSSBtZXRob2RzXG4gICAgICAgICAgICAgICAgdmFyIG1peGluQVBJRGVmaW5pdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIHNoYXJlZEFQSURlZmluaXRpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIG1peGluIGZ1bmN0aW9uYWxpdHlcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhtaXhpbnMpXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vdmUgc3R5bGVzIHRvIHRoZSBiYWNrIG9mIHRoZSBtaXhpbiBsaXN0IChzbyBhZGp1c3RtZW50cyBvZiBvdGhlciBtaXhpbnMgYXJlIGFwcGxpZWQgdG8gdGhlIHByb3BzIGNvcnJlY3RseSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhID09PSAnc3R5bGVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAnc3R5bGVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaXhpbkFQSSA9IE1peGluc1trZXldKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaXhpbkNvbmZpZzogbWl4aW5zW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld1Byb3BzOiBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3U3RhdGU6IHN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdJbnRlcm5hbEFQSTogaW50ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdFeHRlcm5hbEFQSTogZXh0ZXJuYWxBUElEZWZpbml0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGNyZWF0ZU9iamVjdChtaXhpbkFQSURlZmluaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaXhpbkFQSSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZU1peGlucy5wdXNoKG1peGluQVBJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjb25zdHJ1Y3QgcHJpdmF0ZSBhcGlcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWxBUEkgPSBjcmVhdGVPYmplY3QoaW50ZXJuYWxBUElEZWZpbml0aW9uKTtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgdmlld1xuICAgICAgICAgICAgICAgIGNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHJvb3Q6IGludGVybmFsQVBJLFxuICAgICAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBhcHBlbmQgY3JlYXRlZCBjaGlsZCB2aWV3cyB0byByb290IG5vZGVcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDb3VudCA9IGdldENoaWxkQ291bnQoZWxlbWVudCk7IC8vIG5lZWQgdG8ga25vdyB0aGUgY3VycmVudCBjaGlsZCBjb3VudCBzbyBhcHBlbmRpbmcgaGFwcGVucyBpbiBjb3JyZWN0IG9yZGVyXG4gICAgICAgICAgICAgICAgY2hpbGRWaWV3cy5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpbnRlcm5hbEFQSS5hcHBlbmRDaGlsZChjaGlsZC5lbGVtZW50LCBjaGlsZENvdW50ICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gY2FsbCBkaWQgY3JlYXRlXG4gICAgICAgICAgICAgICAgZGlkQ3JlYXRlVmlldyhpbnRlcm5hbEFQSSk7XG5cbiAgICAgICAgICAgICAgICAvLyBleHBvc2UgcHVibGljIGFwaVxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXh0ZXJuYWxBUElEZWZpbml0aW9uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICB2YXIgY3JlYXRlUGFpbnRlciA9IGZ1bmN0aW9uIGNyZWF0ZVBhaW50ZXIocmVhZCwgd3JpdGUpIHtcbiAgICAgICAgdmFyIGZwcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogNjA7XG5cbiAgICAgICAgdmFyIG5hbWUgPSAnX19mcmFtZVBhaW50ZXInO1xuXG4gICAgICAgIC8vIHNldCBnbG9iYWwgcGFpbnRlclxuICAgICAgICBpZiAod2luZG93W25hbWVdKSB7XG4gICAgICAgICAgICB3aW5kb3dbbmFtZV0ucmVhZGVycy5wdXNoKHJlYWQpO1xuICAgICAgICAgICAgd2luZG93W25hbWVdLndyaXRlcnMucHVzaCh3cml0ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB3aW5kb3dbbmFtZV0gPSB7XG4gICAgICAgICAgICByZWFkZXJzOiBbcmVhZF0sXG4gICAgICAgICAgICB3cml0ZXJzOiBbd3JpdGVdLFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwYWludGVyID0gd2luZG93W25hbWVdO1xuXG4gICAgICAgIHZhciBpbnRlcnZhbCA9IDEwMDAgLyBmcHM7XG4gICAgICAgIHZhciBsYXN0ID0gbnVsbDtcbiAgICAgICAgdmFyIGlkID0gbnVsbDtcbiAgICAgICAgdmFyIHJlcXVlc3RUaWNrID0gbnVsbDtcbiAgICAgICAgdmFyIGNhbmNlbFRpY2sgPSBudWxsO1xuXG4gICAgICAgIHZhciBzZXRUaW1lclR5cGUgPSBmdW5jdGlvbiBzZXRUaW1lclR5cGUoKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiByZXF1ZXN0VGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpY2socGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAgICAgICAgICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjYW5jZWxUaWNrID0gZnVuY3Rpb24gY2FuY2VsVGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5jbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gcmVxdWVzdFRpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FuY2VsVGljayA9IGZ1bmN0aW9uIGNhbmNlbFRpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNhbmNlbFRpY2spIGNhbmNlbFRpY2soKTtcbiAgICAgICAgICAgIHNldFRpbWVyVHlwZSgpO1xuICAgICAgICAgICAgdGljayhwZXJmb3JtYW5jZS5ub3coKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0aWNrID0gZnVuY3Rpb24gdGljayh0cykge1xuICAgICAgICAgICAgLy8gcXVldWUgbmV4dCB0aWNrXG4gICAgICAgICAgICBpZCA9IHJlcXVlc3RUaWNrKHRpY2spO1xuXG4gICAgICAgICAgICAvLyBsaW1pdCBmcHNcbiAgICAgICAgICAgIGlmICghbGFzdCkge1xuICAgICAgICAgICAgICAgIGxhc3QgPSB0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRlbHRhID0gdHMgLSBsYXN0O1xuXG4gICAgICAgICAgICBpZiAoZGVsdGEgPD0gaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGZyYW1lXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhbGlnbiBuZXh0IGZyYW1lXG4gICAgICAgICAgICBsYXN0ID0gdHMgLSAoZGVsdGEgJSBpbnRlcnZhbCk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3XG4gICAgICAgICAgICBwYWludGVyLnJlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihyZWFkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFpbnRlci53cml0ZXJzLmZvckVhY2goZnVuY3Rpb24od3JpdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JpdGUodHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2V0VGltZXJUeXBlKCk7XG4gICAgICAgIHRpY2socGVyZm9ybWFuY2Uubm93KCkpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsVGljayhpZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlUm91dGUgPSBmdW5jdGlvbiBjcmVhdGVSb3V0ZShyb3V0ZXMsIGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihfcmVmKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHMsXG4gICAgICAgICAgICAgICAgX3JlZiRhY3Rpb25zID0gX3JlZi5hY3Rpb25zLFxuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBfcmVmJGFjdGlvbnMgPT09IHZvaWQgMCA/IFtdIDogX3JlZiRhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA9IF9yZWYudGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZi5zaG91bGRPcHRpbWl6ZTtcbiAgICAgICAgICAgIGFjdGlvbnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm91dGVzW2FjdGlvbi50eXBlXSh7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24uZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemU6IHNob3VsZE9wdGltaXplLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oe1xuICAgICAgICAgICAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRPcHRpbWl6ZTogc2hvdWxkT3B0aW1pemUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBpbnNlcnRCZWZvcmUgPSBmdW5jdGlvbiBpbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbiAgICB9O1xuXG4gICAgdmFyIGluc2VydEFmdGVyID0gZnVuY3Rpb24gaW5zZXJ0QWZ0ZXIobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICAgICAgICByZXR1cm4gcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlLm5leHRTaWJsaW5nKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzQXJyYXkgPSBmdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgdHJpbSA9IGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgICAgIHJldHVybiBzdHIudHJpbSgpO1xuICAgIH07XG5cbiAgICB2YXIgdG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIHRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gICAgICAgIHZhciBzcGxpdHRlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJywnO1xuICAgICAgICBpZiAoaXNFbXB0eSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpXG4gICAgICAgICAgICAuc3BsaXQoc3BsaXR0ZXIpXG4gICAgICAgICAgICAubWFwKHRyaW0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHIubGVuZ3RoO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpc0Jvb2xlYW4gPSBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xuICAgIH07XG5cbiAgICB2YXIgdG9Cb29sZWFuID0gZnVuY3Rpb24gdG9Cb29sZWFuKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0Jvb2xlYW4odmFsdWUpID8gdmFsdWUgOiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIH07XG5cbiAgICB2YXIgaXNTdHJpbmcgPSBmdW5jdGlvbiBpc1N0cmluZyh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcbiAgICB9O1xuXG4gICAgdmFyIHRvTnVtYmVyID0gZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGlzTnVtYmVyKHZhbHVlKVxuICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgOiBpc1N0cmluZyh2YWx1ZSlcbiAgICAgICAgICAgID8gdG9TdHJpbmcodmFsdWUpLnJlcGxhY2UoL1thLXpdKy9naSwgJycpXG4gICAgICAgICAgICA6IDA7XG4gICAgfTtcblxuICAgIHZhciB0b0ludCA9IGZ1bmN0aW9uIHRvSW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0b051bWJlcih2YWx1ZSksIDEwKTtcbiAgICB9O1xuXG4gICAgdmFyIHRvRmxvYXQgPSBmdW5jdGlvbiB0b0Zsb2F0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRvTnVtYmVyKHZhbHVlKSk7XG4gICAgfTtcblxuICAgIHZhciBpc0ludCA9IGZ1bmN0aW9uIGlzSW50KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc051bWJlcih2YWx1ZSkgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIHRvQnl0ZXMgPSBmdW5jdGlvbiB0b0J5dGVzKHZhbHVlKSB7XG4gICAgICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxMDAwO1xuICAgICAgICAvLyBpcyBpbiBieXRlc1xuICAgICAgICBpZiAoaXNJbnQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpcyBuYXR1cmFsIGZpbGUgc2l6ZVxuICAgICAgICB2YXIgbmF0dXJhbEZpbGVTaXplID0gdG9TdHJpbmcodmFsdWUpLnRyaW0oKTtcblxuICAgICAgICAvLyBpZiBpcyB2YWx1ZSBpbiBtZWdhYnl0ZXNcbiAgICAgICAgaWYgKC9NQiQvaS50ZXN0KG5hdHVyYWxGaWxlU2l6ZSkpIHtcbiAgICAgICAgICAgIG5hdHVyYWxGaWxlU2l6ZSA9IG5hdHVyYWxGaWxlU2l6ZS5yZXBsYWNlKC9NQiRpLywgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiB0b0ludChuYXR1cmFsRmlsZVNpemUpICogYmFzZSAqIGJhc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpcyB2YWx1ZSBpbiBraWxvYnl0ZXNcbiAgICAgICAgaWYgKC9LQi9pLnRlc3QobmF0dXJhbEZpbGVTaXplKSkge1xuICAgICAgICAgICAgbmF0dXJhbEZpbGVTaXplID0gbmF0dXJhbEZpbGVTaXplLnJlcGxhY2UoL0tCJGkvLCAnJykudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSkgKiBiYXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvSW50KG5hdHVyYWxGaWxlU2l6ZSk7XG4gICAgfTtcblxuICAgIHZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuICAgIH07XG5cbiAgICB2YXIgdG9GdW5jdGlvblJlZmVyZW5jZSA9IGZ1bmN0aW9uIHRvRnVuY3Rpb25SZWZlcmVuY2Uoc3RyaW5nKSB7XG4gICAgICAgIHZhciByZWYgPSBzZWxmO1xuICAgICAgICB2YXIgbGV2ZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG4gICAgICAgIHZhciBsZXZlbCA9IG51bGw7XG4gICAgICAgIHdoaWxlICgobGV2ZWwgPSBsZXZlbHMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgIHJlZiA9IHJlZltsZXZlbF07XG4gICAgICAgICAgICBpZiAoIXJlZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWY7XG4gICAgfTtcblxuICAgIHZhciBtZXRob2RzID0ge1xuICAgICAgICBwcm9jZXNzOiAnUE9TVCcsXG4gICAgICAgIHBhdGNoOiAnUEFUQ0gnLFxuICAgICAgICByZXZlcnQ6ICdERUxFVEUnLFxuICAgICAgICBmZXRjaDogJ0dFVCcsXG4gICAgICAgIHJlc3RvcmU6ICdHRVQnLFxuICAgICAgICBsb2FkOiAnR0VUJyxcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVNlcnZlckFQSSA9IGZ1bmN0aW9uIGNyZWF0ZVNlcnZlckFQSShvdXRsaW5lKSB7XG4gICAgICAgIHZhciBhcGkgPSB7fTtcblxuICAgICAgICBhcGkudXJsID0gaXNTdHJpbmcob3V0bGluZSkgPyBvdXRsaW5lIDogb3V0bGluZS51cmwgfHwgJyc7XG4gICAgICAgIGFwaS50aW1lb3V0ID0gb3V0bGluZS50aW1lb3V0ID8gcGFyc2VJbnQob3V0bGluZS50aW1lb3V0LCAxMCkgOiAwO1xuICAgICAgICBhcGkuaGVhZGVycyA9IG91dGxpbmUuaGVhZGVycyA/IG91dGxpbmUuaGVhZGVycyA6IHt9O1xuXG4gICAgICAgIGZvcmluKG1ldGhvZHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgYXBpW2tleV0gPSBjcmVhdGVBY3Rpb24oa2V5LCBvdXRsaW5lW2tleV0sIG1ldGhvZHNba2V5XSwgYXBpLnRpbWVvdXQsIGFwaS5oZWFkZXJzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmVtb3ZlIHByb2Nlc3MgaWYgbm8gdXJsIG9yIHByb2Nlc3Mgb24gb3V0bGluZVxuICAgICAgICBhcGkucHJvY2VzcyA9IG91dGxpbmUucHJvY2VzcyB8fCBpc1N0cmluZyhvdXRsaW5lKSB8fCBvdXRsaW5lLnVybCA/IGFwaS5wcm9jZXNzIDogbnVsbDtcblxuICAgICAgICAvLyBzcGVjaWFsIHRyZWF0bWVudCBmb3IgcmVtb3ZlXG4gICAgICAgIGFwaS5yZW1vdmUgPSBvdXRsaW5lLnJlbW92ZSB8fCBudWxsO1xuXG4gICAgICAgIC8vIHJlbW92ZSBnZW5lcmljIGhlYWRlcnMgZnJvbSBhcGkgb2JqZWN0XG4gICAgICAgIGRlbGV0ZSBhcGkuaGVhZGVycztcblxuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQWN0aW9uID0gZnVuY3Rpb24gY3JlYXRlQWN0aW9uKG5hbWUsIG91dGxpbmUsIG1ldGhvZCwgdGltZW91dCwgaGVhZGVycykge1xuICAgICAgICAvLyBpcyBleHBsaWNpdGVseSBzZXQgdG8gbnVsbCBzbyBkaXNhYmxlXG4gICAgICAgIGlmIChvdXRsaW5lID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGlzIGN1c3RvbSBmdW5jdGlvbiwgZG9uZSEgRGV2IGhhbmRsZXMgZXZlcnl0aGluZy5cbiAgICAgICAgaWYgKHR5cGVvZiBvdXRsaW5lID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gb3V0bGluZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIGFjdGlvbiBvYmplY3RcbiAgICAgICAgdmFyIGFjdGlvbiA9IHtcbiAgICAgICAgICAgIHVybDogbWV0aG9kID09PSAnR0VUJyB8fCBtZXRob2QgPT09ICdQQVRDSCcgPyAnPycgKyBuYW1lICsgJz0nIDogJycsXG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMsXG4gICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgdGltZW91dDogdGltZW91dCxcbiAgICAgICAgICAgIG9ubG9hZDogbnVsbCxcbiAgICAgICAgICAgIG9uZGF0YTogbnVsbCxcbiAgICAgICAgICAgIG9uZXJyb3I6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gaXMgYSBzaW5nbGUgdXJsXG4gICAgICAgIGlmIChpc1N0cmluZyhvdXRsaW5lKSkge1xuICAgICAgICAgICAgYWN0aW9uLnVybCA9IG91dGxpbmU7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3ZlcndyaXRlXG4gICAgICAgIE9iamVjdC5hc3NpZ24oYWN0aW9uLCBvdXRsaW5lKTtcblxuICAgICAgICAvLyBzZWUgaWYgc2hvdWxkIHJlZm9ybWF0IGhlYWRlcnM7XG4gICAgICAgIGlmIChpc1N0cmluZyhhY3Rpb24uaGVhZGVycykpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGFjdGlvbi5oZWFkZXJzLnNwbGl0KC86KC4rKS8pO1xuICAgICAgICAgICAgYWN0aW9uLmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyOiBwYXJ0c1swXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFydHNbMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaXMgYm9vbCB3aXRoQ3JlZGVudGlhbHNcbiAgICAgICAgYWN0aW9uLndpdGhDcmVkZW50aWFscyA9IHRvQm9vbGVhbihhY3Rpb24ud2l0aENyZWRlbnRpYWxzKTtcblxuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH07XG5cbiAgICB2YXIgdG9TZXJ2ZXJBUEkgPSBmdW5jdGlvbiB0b1NlcnZlckFQSSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlU2VydmVyQVBJKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzTnVsbCA9IGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBpc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgaXNBUEkgPSBmdW5jdGlvbiBpc0FQSSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUpICYmXG4gICAgICAgICAgICBpc1N0cmluZyh2YWx1ZS51cmwpICYmXG4gICAgICAgICAgICBpc09iamVjdCh2YWx1ZS5wcm9jZXNzKSAmJlxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUucmV2ZXJ0KSAmJlxuICAgICAgICAgICAgaXNPYmplY3QodmFsdWUucmVzdG9yZSkgJiZcbiAgICAgICAgICAgIGlzT2JqZWN0KHZhbHVlLmZldGNoKVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VHlwZSA9IGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHtcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2FycmF5JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bGwodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSW50KHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdpbnQnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9eWzAtOV0rID8oPzpHQnxNQnxLQikkL2dpLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2J5dGVzJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0FQSSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnYXBpJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWU7XG4gICAgfTtcblxuICAgIHZhciByZXBsYWNlU2luZ2xlUXVvdGVzID0gZnVuY3Rpb24gcmVwbGFjZVNpbmdsZVF1b3RlcyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIHN0clxuICAgICAgICAgICAgLnJlcGxhY2UoL3tcXHMqJy9nLCAne1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8nXFxzKn0vZywgJ1wifScpXG4gICAgICAgICAgICAucmVwbGFjZSgvJ1xccyo6L2csICdcIjonKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzpcXHMqJy9nLCAnOlwiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8sXFxzKicvZywgJyxcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgvJ1xccyosL2csICdcIiwnKTtcbiAgICB9O1xuXG4gICAgdmFyIGNvbnZlcnNpb25UYWJsZSA9IHtcbiAgICAgICAgYXJyYXk6IHRvQXJyYXksXG4gICAgICAgIGJvb2xlYW46IHRvQm9vbGVhbixcbiAgICAgICAgaW50OiBmdW5jdGlvbiBpbnQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRUeXBlKHZhbHVlKSA9PT0gJ2J5dGVzJyA/IHRvQnl0ZXModmFsdWUpIDogdG9JbnQodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBudW1iZXI6IHRvRmxvYXQsXG4gICAgICAgIGZsb2F0OiB0b0Zsb2F0LFxuICAgICAgICBieXRlczogdG9CeXRlcyxcbiAgICAgICAgc3RyaW5nOiBmdW5jdGlvbiBzdHJpbmcodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogdG9TdHJpbmcodmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbjogZnVuY3Rpb24gX2Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9GdW5jdGlvblJlZmVyZW5jZSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlcnZlcmFwaTogdG9TZXJ2ZXJBUEksXG4gICAgICAgIG9iamVjdDogZnVuY3Rpb24gb2JqZWN0KHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHJlcGxhY2VTaW5nbGVRdW90ZXModmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgdmFyIGNvbnZlcnRUbyA9IGZ1bmN0aW9uIGNvbnZlcnRUbyh2YWx1ZSwgdHlwZSkge1xuICAgICAgICByZXR1cm4gY29udmVyc2lvblRhYmxlW3R5cGVdKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFZhbHVlQnlUeXBlID0gZnVuY3Rpb24gZ2V0VmFsdWVCeVR5cGUobmV3VmFsdWUsIGRlZmF1bHRWYWx1ZSwgdmFsdWVUeXBlKSB7XG4gICAgICAgIC8vIGNhbiBhbHdheXMgYXNzaWduIGRlZmF1bHQgdmFsdWVcbiAgICAgICAgaWYgKG5ld1ZhbHVlID09PSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgdHlwZSBvZiB0aGUgbmV3IHZhbHVlXG4gICAgICAgIHZhciBuZXdWYWx1ZVR5cGUgPSBnZXRUeXBlKG5ld1ZhbHVlKTtcblxuICAgICAgICAvLyBpcyB2YWxpZCB0eXBlP1xuICAgICAgICBpZiAobmV3VmFsdWVUeXBlICE9PSB2YWx1ZVR5cGUpIHtcbiAgICAgICAgICAgIC8vIGlzIHN0cmluZyBpbnB1dCwgbGV0J3MgYXR0ZW1wdCB0byBjb252ZXJ0XG4gICAgICAgICAgICB2YXIgY29udmVydGVkVmFsdWUgPSBjb252ZXJ0VG8obmV3VmFsdWUsIHZhbHVlVHlwZSk7XG5cbiAgICAgICAgICAgIC8vIHdoYXQgaXMgdGhlIHR5cGUgbm93XG4gICAgICAgICAgICBuZXdWYWx1ZVR5cGUgPSBnZXRUeXBlKGNvbnZlcnRlZFZhbHVlKTtcblxuICAgICAgICAgICAgLy8gbm8gdmFsaWQgY29udmVyc2lvbnMgZm91bmRcbiAgICAgICAgICAgIGlmIChjb252ZXJ0ZWRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93ICdUcnlpbmcgdG8gYXNzaWduIHZhbHVlIHdpdGggaW5jb3JyZWN0IHR5cGUgdG8gXCInICtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiLCBhbGxvd2VkIHR5cGU6IFwiJyArXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZSArXG4gICAgICAgICAgICAgICAgICAgICdcIic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gY29udmVydGVkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhc3NpZ24gbmV3IHZhbHVlXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZU9wdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbihkZWZhdWx0VmFsdWUsIHZhbHVlVHlwZSkge1xuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBnZXRWYWx1ZUJ5VHlwZShuZXdWYWx1ZSwgZGVmYXVsdFZhbHVlLCB2YWx1ZVR5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZU9wdGlvbnMgPSBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uRGVmaW5pdGlvbiA9IG9wdGlvbnNbcHJvcF07XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSBjcmVhdGVPcHRpb24ob3B0aW9uRGVmaW5pdGlvblswXSwgb3B0aW9uRGVmaW5pdGlvblsxXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY3JlYXRlT2JqZWN0KG9iaik7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVJbml0aWFsU3RhdGUgPSBmdW5jdGlvbiBjcmVhdGVJbml0aWFsU3RhdGUob3B0aW9ucykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gbW9kZWxcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcblxuICAgICAgICAgICAgLy8gdGltZW91dCB1c2VkIGZvciBjYWxsaW5nIHVwZGF0ZSBpdGVtc1xuICAgICAgICAgICAgbGlzdFVwZGF0ZVRpbWVvdXQ6IG51bGwsXG5cbiAgICAgICAgICAgIC8vIHRpbWVvdXQgdXNlZCBmb3Igc3RhY2tpbmcgbWV0YWRhdGEgdXBkYXRlc1xuICAgICAgICAgICAgaXRlbVVwZGF0ZVRpbWVvdXQ6IG51bGwsXG5cbiAgICAgICAgICAgIC8vIHF1ZXVlIG9mIGl0ZW1zIHdhaXRpbmcgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgICAgICBwcm9jZXNzaW5nUXVldWU6IFtdLFxuXG4gICAgICAgICAgICAvLyBvcHRpb25zXG4gICAgICAgICAgICBvcHRpb25zOiBjcmVhdGVPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZnJvbUNhbWVscyA9IGZ1bmN0aW9uIGZyb21DYW1lbHMoc3RyaW5nKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICctJztcbiAgICAgICAgcmV0dXJuIHN0cmluZ1xuICAgICAgICAgICAgLnNwbGl0KC8oPz1bQS1aXSkvKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihwYXJ0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlT3B0aW9uQVBJID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uQVBJKHN0b3JlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgZm9yaW4ob3B0aW9ucywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmdldFN0YXRlKCkub3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1NFVF8nICsgZnJvbUNhbWVscyhrZXksICdfJykudG9VcHBlckNhc2UoKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVPcHRpb25BY3Rpb25zID0gZnVuY3Rpb24gY3JlYXRlT3B0aW9uQWN0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgICAgICBmb3JpbihvcHRpb25zLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGZyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBvYmpbJ1NFVF8nICsgbmFtZV0gPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnNba2V5XSA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30gLy8gbm9wZSwgZmFpbGVkXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2Ugc3VjY2Vzc2Z1bGx5IHNldCB0aGUgdmFsdWUgb2YgdGhpcyBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TRVRfJyArIG5hbWUsIHsgdmFsdWU6IHN0YXRlLm9wdGlvbnNba2V5XSB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlT3B0aW9uUXVlcmllcyA9IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvblF1ZXJpZXMob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgICAgIGZvcmluKG9wdGlvbnMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIG9ialsnR0VUXycgKyBmcm9tQ2FtZWxzKGtleSwgJ18nKS50b1VwcGVyQ2FzZSgpXSA9IGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUub3B0aW9uc1trZXldO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBJbnRlcmFjdGlvbk1ldGhvZCA9IHtcbiAgICAgICAgQVBJOiAxLFxuICAgICAgICBEUk9QOiAyLFxuICAgICAgICBCUk9XU0U6IDMsXG4gICAgICAgIFBBU1RFOiA0LFxuICAgICAgICBOT05FOiA1LFxuICAgIH07XG5cbiAgICB2YXIgZ2V0VW5pcXVlSWQgPSBmdW5jdGlvbiBnZXRVbmlxdWVJZCgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKClcbiAgICAgICAgICAgIC50b1N0cmluZygzNilcbiAgICAgICAgICAgIC5zdWJzdHJpbmcoMiwgMTEpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAnc3ltYm9sJykge1xuICAgICAgICAgICAgX3R5cGVvZiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90eXBlb2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiZcbiAgICAgICAgICAgICAgICAgICAgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlXG4gICAgICAgICAgICAgICAgICAgID8gJ3N5bWJvbCdcbiAgICAgICAgICAgICAgICAgICAgOiB0eXBlb2Ygb2JqO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfdHlwZW9mKG9iaik7XG4gICAgfVxuXG4gICAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuICAgIGZ1bmN0aW9uIF9qc3godHlwZSwgcHJvcHMsIGtleSwgY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9XG4gICAgICAgICAgICAgICAgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sWydmb3InXSAmJiBTeW1ib2xbJ2ZvciddKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgICAgICAgICAgICAgMHhlYWM3O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAzO1xuXG4gICAgICAgIGlmICghcHJvcHMgJiYgY2hpbGRyZW5MZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB2b2lkIDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzICYmIGRlZmF1bHRQcm9wcykge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFwcm9wcykge1xuICAgICAgICAgICAgcHJvcHMgPSBkZWZhdWx0UHJvcHMgfHwge307XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGRyZW5MZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRBcnJheSA9IG5ldyBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBrZXk6IGtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICcnICsga2V5LFxuICAgICAgICAgICAgcmVmOiBudWxsLFxuICAgICAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICAgICAgX293bmVyOiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hc3luY0l0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gICAgICAgIHZhciBtZXRob2Q7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBtZXRob2QgPSBpdGVyYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl07XG4gICAgICAgICAgICAgICAgaWYgKG1ldGhvZCAhPSBudWxsKSByZXR1cm4gbWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXTtcbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QgaXMgbm90IGFzeW5jIGl0ZXJhYmxlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX0F3YWl0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX0FzeW5jR2VuZXJhdG9yKGdlbikge1xuICAgICAgICB2YXIgZnJvbnQsIGJhY2s7XG5cbiAgICAgICAgZnVuY3Rpb24gc2VuZChrZXksIGFyZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBiYWNrID0gYmFjay5uZXh0ID0gcmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9udCA9IGJhY2sgPSByZXF1ZXN0O1xuICAgICAgICAgICAgICAgICAgICByZXN1bWUoa2V5LCBhcmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzdW1lKGtleSwgYXJnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBnZW5ba2V5XShhcmcpO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZEF3YWl0ID0gdmFsdWUgaW5zdGFuY2VvZiBfQXdhaXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUod3JhcHBlZEF3YWl0ID8gdmFsdWUud3JhcHBlZCA6IHZhbHVlKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cmFwcGVkQXdhaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bWUoJ25leHQnLCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGxlKHJlc3VsdC5kb25lID8gJ3JldHVybicgOiAnbm9ybWFsJywgYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bWUoJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzZXR0bGUoJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldHRsZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncmV0dXJuJzpcbiAgICAgICAgICAgICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICd0aHJvdyc6XG4gICAgICAgICAgICAgICAgICAgIGZyb250LnJlamVjdCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZnJvbnQucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcm9udCA9IGZyb250Lm5leHQ7XG5cbiAgICAgICAgICAgIGlmIChmcm9udCkge1xuICAgICAgICAgICAgICAgIHJlc3VtZShmcm9udC5rZXksIGZyb250LmFyZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faW52b2tlID0gc2VuZDtcblxuICAgICAgICBpZiAodHlwZW9mIGdlbi5yZXR1cm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucmV0dXJuID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKCduZXh0JywgYXJnKTtcbiAgICB9O1xuXG4gICAgX0FzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKCd0aHJvdycsIGFyZyk7XG4gICAgfTtcblxuICAgIF9Bc3luY0dlbmVyYXRvci5wcm90b3R5cGUucmV0dXJuID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UoJ3JldHVybicsIGFyZyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIF93cmFwQXN5bmNHZW5lcmF0b3IoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfQXN5bmNHZW5lcmF0b3IoZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2F3YWl0QXN5bmNHZW5lcmF0b3IodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfQXdhaXRWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FzeW5jR2VuZXJhdG9yRGVsZWdhdGUoaW5uZXIsIGF3YWl0V3JhcCkge1xuICAgICAgICB2YXIgaXRlciA9IHt9LFxuICAgICAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHB1bXAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgd2FpdGluZyA9IHRydWU7XG4gICAgICAgICAgICB2YWx1ZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGlubmVyW2tleV0odmFsdWUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYXdhaXRXcmFwKHZhbHVlKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAod2FpdGluZykge1xuICAgICAgICAgICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwdW1wKCduZXh0JywgdmFsdWUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0eXBlb2YgaW5uZXIudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGl0ZXIudGhyb3cgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHB1bXAoJ3Rocm93JywgdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgaW5uZXIucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBpdGVyLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB1bXAoJ3JldHVybicsIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGdlbiA9IGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCAnbmV4dCcsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgJ3Rocm93JywgZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgICAgIGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9kZWZpbmVFbnVtZXJhYmxlUHJvcGVydGllcyhvYmosIGRlc2NzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkZXNjcykge1xuICAgICAgICAgICAgdmFyIGRlc2MgPSBkZXNjc1trZXldO1xuICAgICAgICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIGRlc2MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3RTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhkZXNjcyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0U3ltYm9scy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzeW0gPSBvYmplY3RTeW1ib2xzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gZGVzY3Nbc3ltXTtcbiAgICAgICAgICAgICAgICBkZXNjLmNvbmZpZ3VyYWJsZSA9IGRlc2MuZW51bWVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCd2YWx1ZScgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgc3ltLCBkZXNjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2RlZmF1bHRzKG9iaiwgZGVmYXVsdHMpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb25maWd1cmFibGUgJiYgb2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICAgICAgICBfZXh0ZW5kcyA9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICAgICAgICBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb3duS2V5cyA9IG93bktleXMuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uKHN5bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgICAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgICAgICAgICAgaWYgKGVudW1lcmFibGVPbmx5KVxuICAgICAgICAgICAgICAgIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbihzeW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgICAgICAgICBpZiAoaSAlIDIpIHtcbiAgICAgICAgICAgICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdXBlckNsYXNzKSBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gICAgICAgIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgICAgICAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgICAgICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2ZcbiAgICAgICAgICAgID8gT2JqZWN0LmdldFByb3RvdHlwZU9mXG4gICAgICAgICAgICA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICAgIF9zZXRQcm90b3R5cGVPZiA9XG4gICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgICAgICAgICAgICAgby5fX3Byb3RvX18gPSBwO1xuICAgICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAndW5kZWZpbmVkJyB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHR5cGVvZiBQcm94eSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uKCkge30pKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY29uc3RydWN0KFBhcmVudCwgYXJncywgQ2xhc3MpIHtcbiAgICAgICAgaWYgKGlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpKSB7XG4gICAgICAgICAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICAgICAgICAgICAgYS5wdXNoLmFwcGx5KGEsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihpbnN0YW5jZSwgQ2xhc3MucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZignW25hdGl2ZSBjb2RlXScpICE9PSAtMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICAgIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSAnZnVuY3Rpb24nID8gbmV3IE1hcCgpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIF93cmFwTmF0aXZlU3VwZXIgPSBmdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gICAgICAgICAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIENsYXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gV3JhcHBlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFdyYXBwZXIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5zdGFuY2VvZihsZWZ0LCByaWdodCkge1xuICAgICAgICBpZiAocmlnaHQgIT0gbnVsbCAmJiB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiByaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdKSB7XG4gICAgICAgICAgICByZXR1cm4gISFyaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdKGxlZnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGVcbiAgICAgICAgICAgID8gb2JqXG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IG9iaixcbiAgICAgICAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHtcbiAgICAgICAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXdPYmogPSB7fTtcblxuICAgICAgICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlc2MgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7XG4gICAgICAgICAgICByZXR1cm4gbmV3T2JqO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25ld0Fycm93Q2hlY2soaW5uZXJUaGlzLCBib3VuZFRoaXMpIHtcbiAgICAgICAgaWYgKGlubmVyVGhpcyAhPT0gYm91bmRUaGlzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW5zdGFudGlhdGUgYW4gYXJyb3cgZnVuY3Rpb24nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkob2JqKSB7XG4gICAgICAgIGlmIChvYmogPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGRlc3RydWN0dXJlIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gICAgICAgIHZhciB0YXJnZXQgPSB7fTtcbiAgICAgICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICAgICAgICB2YXIga2V5LCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgICAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gICAgICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gICAgICAgIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcblxuICAgICAgICB2YXIga2V5LCBpO1xuXG4gICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHtcbiAgICAgICAgaWYgKHNlbGYgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuICAgICAgICBpZiAoY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBjYWxsID09PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7XG4gICAgICAgIHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgICAgICAgICBvYmplY3QgPSBfZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICAgICAgICAgIGlmIChvYmplY3QgPT09IG51bGwpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICAgICAgICAgIF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhc2UgPSBfc3VwZXJQcm9wQmFzZSh0YXJnZXQsIHByb3BlcnR5KTtcblxuICAgICAgICAgICAgICAgIGlmICghYmFzZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGVzYy5nZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlc2MuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyIHx8IHRhcmdldCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodHlwZW9mIFJlZmxlY3QgIT09ICd1bmRlZmluZWQnICYmIFJlZmxlY3Quc2V0KSB7XG4gICAgICAgICAgICBzZXQgPSBSZWZsZWN0LnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldCA9IGZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZSA9IF9zdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRlc2M7XG5cbiAgICAgICAgICAgICAgICBpZiAoYmFzZSkge1xuICAgICAgICAgICAgICAgICAgICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuICAgICAgICAgICAgICAgIGlmIChkZXNjKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGVzYy53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVzYy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9zZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyLCBpc1N0cmljdCkge1xuICAgICAgICB2YXIgcyA9IHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIgfHwgdGFyZ2V0KTtcblxuICAgICAgICBpZiAoIXMgJiYgaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIHNldCBwcm9wZXJ0eScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90YWdnZWRUZW1wbGF0ZUxpdGVyYWwoc3RyaW5ncywgcmF3KSB7XG4gICAgICAgIGlmICghcmF3KSB7XG4gICAgICAgICAgICByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzdHJpbmdzLCB7XG4gICAgICAgICAgICAgICAgcmF3OiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlKHN0cmluZ3MsIHJhdykge1xuICAgICAgICBpZiAoIXJhdykge1xuICAgICAgICAgICAgcmF3ID0gc3RyaW5ncy5zbGljZSgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0cmluZ3MucmF3ID0gcmF3O1xuICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdGVtcG9yYWxSZWYodmFsLCBuYW1lKSB7XG4gICAgICAgIGlmICh2YWwgPT09IF90ZW1wb3JhbFVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkIC0gdGVtcG9yYWwgZGVhZCB6b25lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3JlYWRPbmx5RXJyb3IobmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIG5hbWUgKyAnXCIgaXMgcmVhZC1vbmx5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzTmFtZVREWkVycm9yKG5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGFzcyBcIicgKyBuYW1lICsgJ1wiIGNhbm5vdCBiZSByZWZlcmVuY2VkIGluIGNvbXB1dGVkIHByb3BlcnR5IGtleXMuJyk7XG4gICAgfVxuXG4gICAgdmFyIF90ZW1wb3JhbFVuZGVmaW5lZCA9IHt9O1xuXG4gICAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7XG4gICAgICAgIHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXlMb29zZShhcnIsIGkpIHtcbiAgICAgICAgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhhcnIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdExvb3NlKGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90b0FycmF5KGFycikge1xuICAgICAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gICAgICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgYXJyMltpXSA9IGFycltpXTtcblxuICAgICAgICAgICAgcmV0dXJuIGFycjI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHxcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyKSA9PT0gJ1tvYmplY3QgQXJndW1lbnRzXSdcbiAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oaXRlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkge1xuICAgICAgICB2YXIgX2FyciA9IFtdO1xuICAgICAgICB2YXIgX24gPSB0cnVlO1xuICAgICAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICAgICAgdmFyIF9lID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBfZCA9IHRydWU7XG4gICAgICAgICAgICBfZSA9IGVycjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfbiAmJiBfaVsncmV0dXJuJ10gIT0gbnVsbCkgX2lbJ3JldHVybiddKCk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGlmIChfZCkgdGhyb3cgX2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX2FycjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXRMb29zZShhcnIsIGkpIHtcbiAgICAgICAgdmFyIF9hcnIgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmU7ICkge1xuICAgICAgICAgICAgX2Fyci5wdXNoKF9zdGVwLnZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9hcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfc2tpcEZpcnN0R2VuZXJhdG9yTmV4dChmbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaXQgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgaXQubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIGl0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnb2JqZWN0JyB8fCBpbnB1dCA9PT0gbnVsbCkgcmV0dXJuIGlucHV0O1xuICAgICAgICB2YXIgcHJpbSA9IGlucHV0W1N5bWJvbC50b1ByaW1pdGl2ZV07XG5cbiAgICAgICAgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCAnZGVmYXVsdCcpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXMgIT09ICdvYmplY3QnKSByZXR1cm4gcmVzO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoaGludCA9PT0gJ3N0cmluZycgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleShhcmcpIHtcbiAgICAgICAgdmFyIGtleSA9IF90b1ByaW1pdGl2ZShhcmcsICdzdHJpbmcnKTtcblxuICAgICAgICByZXR1cm4gdHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyKGRlc2NyaXB0b3IsIGNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ0RlY29yYXRpbmcgY2xhc3MgcHJvcGVydHkgZmFpbGVkLiBQbGVhc2UgZW5zdXJlIHRoYXQgJyArXG4gICAgICAgICAgICAgICAgJ3Byb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaXMgZW5hYmxlZCBhbmQgc2V0IHRvIHVzZSBsb29zZSBtb2RlLiAnICtcbiAgICAgICAgICAgICAgICAnVG8gdXNlIHByb3Bvc2FsLWNsYXNzLXByb3BlcnRpZXMgaW4gc3BlYyBtb2RlIHdpdGggZGVjb3JhdG9ycywgd2FpdCBmb3IgJyArXG4gICAgICAgICAgICAgICAgJ3RoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgZGVjb3JhdG9ycyBpbiBzdGFnZSAyLidcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaW5pdGlhbGl6ZXJEZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3BlcnR5LCBkZXNjcmlwdG9yLCBjb250ZXh0KSB7XG4gICAgICAgIGlmICghZGVzY3JpcHRvcikgcmV0dXJuO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLFxuICAgICAgICAgICAgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9hcHBseURlY29yYXRlZERlc2NyaXB0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVjb3JhdG9ycywgZGVzY3JpcHRvciwgY29udGV4dCkge1xuICAgICAgICB2YXIgZGVzYyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgZGVzY1trZXldID0gZGVzY3JpcHRvcltrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVzYy5lbnVtZXJhYmxlID0gISFkZXNjLmVudW1lcmFibGU7XG4gICAgICAgIGRlc2MuY29uZmlndXJhYmxlID0gISFkZXNjLmNvbmZpZ3VyYWJsZTtcblxuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpIHtcbiAgICAgICAgICAgIGRlc2Mud3JpdGFibGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzYyA9IGRlY29yYXRvcnNcbiAgICAgICAgICAgIC5zbGljZSgpXG4gICAgICAgICAgICAucmV2ZXJzZSgpXG4gICAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uKGRlc2MsIGRlY29yYXRvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYztcbiAgICAgICAgICAgIH0sIGRlc2MpO1xuXG4gICAgICAgIGlmIChjb250ZXh0ICYmIGRlc2MuaW5pdGlhbGl6ZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVzYy52YWx1ZSA9IGRlc2MuaW5pdGlhbGl6ZXIgPyBkZXNjLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDA7XG4gICAgICAgICAgICBkZXNjLmluaXRpYWxpemVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlc2MuaW5pdGlhbGl6ZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgICAgICAgZGVzYyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzYztcbiAgICB9XG5cbiAgICB2YXIgaWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VLZXkobmFtZSkge1xuICAgICAgICByZXR1cm4gJ19fcHJpdmF0ZV8nICsgaWQrKyArICdfJyArIG5hbWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkTG9vc2VCYXNlKHJlY2VpdmVyLCBwcml2YXRlS2V5KSB7XG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlY2VpdmVyLCBwcml2YXRlS2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHVzZSBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlY2VpdmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwocmVjZWl2ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IudmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcblxuICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFkZXNjcmlwdG9yLndyaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZXNjcmlwdG9yLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZUZpZWxkRGVzdHJ1Y3R1cmVTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcbiAgICAgICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xuXG4gICAgICAgIGlmIChkZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgaWYgKCEoJ19fZGVzdHJPYmonIGluIGRlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5fX2Rlc3RyT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBzZXQgdmFsdWUodikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbChyZWNlaXZlciwgdik7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuX19kZXN0ck9iajtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3I7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NTdGF0aWNQcml2YXRlRmllbGRTcGVjR2V0KHJlY2VpdmVyLCBjbGFzc0NvbnN0cnVjdG9yLCBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc1N0YXRpY1ByaXZhdGVGaWVsZFNwZWNTZXQocmVjZWl2ZXIsIGNsYXNzQ29uc3RydWN0b3IsIGRlc2NyaXB0b3IsIHZhbHVlKSB7XG4gICAgICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVzY3JpcHRvci53cml0YWJsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgcHJpdmF0ZSBmaWVsZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzY3JpcHRvci52YWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZU1ldGhvZEdldChyZWNlaXZlciwgY2xhc3NDb25zdHJ1Y3RvciwgbWV0aG9kKSB7XG4gICAgICAgIGlmIChyZWNlaXZlciAhPT0gY2xhc3NDb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJpdmF0ZSBzdGF0aWMgYWNjZXNzIG9mIHdyb25nIHByb3ZlbmFuY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZXRob2Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzU3RhdGljUHJpdmF0ZU1ldGhvZFNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHNldCByZWFkIG9ubHkgc3RhdGljIHByaXZhdGUgZmllbGQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfZGVjb3JhdGUoZGVjb3JhdG9ycywgZmFjdG9yeSwgc3VwZXJDbGFzcywgbWl4aW5zKSB7XG4gICAgICAgIHZhciBhcGkgPSBfZ2V0RGVjb3JhdG9yc0FwaSgpO1xuXG4gICAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXBpID0gbWl4aW5zW2ldKGFwaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgciA9IGZhY3RvcnkoZnVuY3Rpb24gaW5pdGlhbGl6ZShPKSB7XG4gICAgICAgICAgICBhcGkuaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHMoTywgZGVjb3JhdGVkLmVsZW1lbnRzKTtcbiAgICAgICAgfSwgc3VwZXJDbGFzcyk7XG4gICAgICAgIHZhciBkZWNvcmF0ZWQgPSBhcGkuZGVjb3JhdGVDbGFzcyhcbiAgICAgICAgICAgIF9jb2FsZXNjZUNsYXNzRWxlbWVudHMoci5kLm1hcChfY3JlYXRlRWxlbWVudERlc2NyaXB0b3IpKSxcbiAgICAgICAgICAgIGRlY29yYXRvcnNcbiAgICAgICAgKTtcbiAgICAgICAgYXBpLmluaXRpYWxpemVDbGFzc0VsZW1lbnRzKHIuRiwgZGVjb3JhdGVkLmVsZW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGFwaS5ydW5DbGFzc0ZpbmlzaGVycyhyLkYsIGRlY29yYXRlZC5maW5pc2hlcnMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9nZXREZWNvcmF0b3JzQXBpKCkge1xuICAgICAgICBfZ2V0RGVjb3JhdG9yc0FwaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgZWxlbWVudHNEZWZpbml0aW9uT3JkZXI6IFtbJ21ldGhvZCddLCBbJ2ZpZWxkJ11dLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZUluc3RhbmNlRWxlbWVudHM6IGZ1bmN0aW9uKE8sIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgWydtZXRob2QnLCAnZmllbGQnXS5mb3JFYWNoKGZ1bmN0aW9uKGtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSBraW5kICYmIGVsZW1lbnQucGxhY2VtZW50ID09PSAnb3duJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KE8sIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0aWFsaXplQ2xhc3NFbGVtZW50czogZnVuY3Rpb24oRiwgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvdG8gPSBGLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICBbJ21ldGhvZCcsICdmaWVsZCddLmZvckVhY2goZnVuY3Rpb24oa2luZCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbGFjZW1lbnQgPSBlbGVtZW50LnBsYWNlbWVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQua2luZCA9PT0ga2luZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwbGFjZW1lbnQgPT09ICdzdGF0aWMnIHx8IHBsYWNlbWVudCA9PT0gJ3Byb3RvdHlwZScpXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjZWl2ZXIgPSBwbGFjZW1lbnQgPT09ICdzdGF0aWMnID8gRiA6IHByb3RvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmaW5lQ2xhc3NFbGVtZW50KHJlY2VpdmVyLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVmaW5lQ2xhc3NFbGVtZW50OiBmdW5jdGlvbihyZWNlaXZlciwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gZWxlbWVudC5kZXNjcmlwdG9yO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQua2luZCA9PT0gJ2ZpZWxkJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbGl6ZXIgPSBlbGVtZW50LmluaXRpYWxpemVyO1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGRlc2NyaXB0b3Iud3JpdGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluaXRpYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsaXplci5jYWxsKHJlY2VpdmVyKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIGVsZW1lbnQua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvcmF0ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50cywgZGVjb3JhdG9ycykge1xuICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBmaW5pc2hlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgcGxhY2VtZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgb3duOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHJldHVybiBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudEZpbmlzaGVyc0V4dHJhcyA9IHRoaXMuZGVjb3JhdGVFbGVtZW50KGVsZW1lbnQsIHBsYWNlbWVudHMpO1xuICAgICAgICAgICAgICAgICAgICBuZXdFbGVtZW50cy5wdXNoKGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0VsZW1lbnRzLnB1c2guYXBwbHkobmV3RWxlbWVudHMsIGVsZW1lbnRGaW5pc2hlcnNFeHRyYXMuZXh0cmFzKTtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZXJzLnB1c2guYXBwbHkoZmluaXNoZXJzLCBlbGVtZW50RmluaXNoZXJzRXh0cmFzLmZpbmlzaGVycyk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWRlY29yYXRvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29yYXRlQ29uc3RydWN0b3IobmV3RWxlbWVudHMsIGRlY29yYXRvcnMpO1xuICAgICAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoLmFwcGx5KGZpbmlzaGVycywgcmVzdWx0LmZpbmlzaGVycyk7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmZpbmlzaGVycyA9IGZpbmlzaGVycztcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEVsZW1lbnRQbGFjZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMsIHNpbGVudCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gcGxhY2VtZW50c1tlbGVtZW50LnBsYWNlbWVudF07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXNpbGVudCAmJiBrZXlzLmluZGV4T2YoZWxlbWVudC5rZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEdXBsaWNhdGVkIGVsZW1lbnQgKCcgKyBlbGVtZW50LmtleSArICcpJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGVsZW1lbnQua2V5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNvcmF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQsIHBsYWNlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmFzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZGVjb3JhdG9ycyA9IGVsZW1lbnQuZGVjb3JhdG9ycywgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBwbGFjZW1lbnRzW2VsZW1lbnQucGxhY2VtZW50XTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKGVsZW1lbnQua2V5KSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50T2JqZWN0ID0gdGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50RmluaXNoZXJFeHRyYXMgPSB0aGlzLnRvRWxlbWVudEZpbmlzaGVyRXh0cmFzKFxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGRlY29yYXRvcnNbaV0pKGVsZW1lbnRPYmplY3QpIHx8IGVsZW1lbnRPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRGaW5pc2hlckV4dHJhcy5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEVsZW1lbnRQbGFjZW1lbnQoZWxlbWVudCwgcGxhY2VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRGaW5pc2hlckV4dHJhcy5maW5pc2hlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZXJzLnB1c2goZWxlbWVudEZpbmlzaGVyRXh0cmFzLmZpbmlzaGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdFeHRyYXMgPSBlbGVtZW50RmluaXNoZXJFeHRyYXMuZXh0cmFzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdFeHRyYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RXh0cmFzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50UGxhY2VtZW50KG5ld0V4dHJhc1tqXSwgcGxhY2VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhcy5wdXNoLmFwcGx5KGV4dHJhcywgbmV3RXh0cmFzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVyczogZmluaXNoZXJzLFxuICAgICAgICAgICAgICAgICAgICBleHRyYXM6IGV4dHJhcyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlY29yYXRlQ29uc3RydWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnRzLCBkZWNvcmF0b3JzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHRoaXMuZnJvbUNsYXNzRGVzY3JpcHRvcihlbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50c0FuZEZpbmlzaGVyID0gdGhpcy50b0NsYXNzRGVzY3JpcHRvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBkZWNvcmF0b3JzW2ldKShvYmopIHx8IG9ialxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50c0FuZEZpbmlzaGVyLmZpbmlzaGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVycy5wdXNoKGVsZW1lbnRzQW5kRmluaXNoZXIuZmluaXNoZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzQW5kRmluaXNoZXIuZWxlbWVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSBlbGVtZW50c0FuZEZpbmlzaGVyLmVsZW1lbnRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSBqICsgMTsgayA8IGVsZW1lbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2pdLmtleSA9PT0gZWxlbWVudHNba10ua2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tqXS5wbGFjZW1lbnQgPT09IGVsZW1lbnRzW2tdLnBsYWNlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0R1cGxpY2F0ZWQgZWxlbWVudCAoJyArIGVsZW1lbnRzW2pdLmtleSArICcpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZXJzOiBmaW5pc2hlcnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tRWxlbWVudERlc2NyaXB0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBlbGVtZW50LmtpbmQsXG4gICAgICAgICAgICAgICAgICAgIGtleTogZWxlbWVudC5rZXksXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogZWxlbWVudC5wbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IGVsZW1lbnQuZGVzY3JpcHRvcixcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBkZXNjID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ0Rlc2NyaXB0b3InLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBTeW1ib2wudG9TdHJpbmdUYWcsIGRlc2MpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmtpbmQgPT09ICdmaWVsZCcpIG9iai5pbml0aWFsaXplciA9IGVsZW1lbnQuaW5pdGlhbGl6ZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0VsZW1lbnREZXNjcmlwdG9yczogZnVuY3Rpb24oZWxlbWVudE9iamVjdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudE9iamVjdHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdG9BcnJheShlbGVtZW50T2JqZWN0cykubWFwKGZ1bmN0aW9uKGVsZW1lbnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZmluaXNoZXInLCAnQW4gZWxlbWVudCBkZXNjcmlwdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShlbGVtZW50T2JqZWN0LCAnZXh0cmFzJywgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0VsZW1lbnREZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBTdHJpbmcoZWxlbWVudE9iamVjdC5raW5kKTtcblxuICAgICAgICAgICAgICAgIGlmIChraW5kICE9PSAnbWV0aG9kJyAmJiBraW5kICE9PSAnZmllbGQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAnQW4gZWxlbWVudCBkZXNjcmlwdG9yXFwncyAua2luZCBwcm9wZXJ0eSBtdXN0IGJlIGVpdGhlciBcIm1ldGhvZFwiIG9yJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBcImZpZWxkXCIsIGJ1dCBhIGRlY29yYXRvciBjcmVhdGVkIGFuIGVsZW1lbnQgZGVzY3JpcHRvciB3aXRoJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyAua2luZCBcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZWxlbWVudE9iamVjdC5rZXkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBsYWNlbWVudCA9IFN0cmluZyhlbGVtZW50T2JqZWN0LnBsYWNlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGxhY2VtZW50ICE9PSAnc3RhdGljJyAmJiBwbGFjZW1lbnQgIT09ICdwcm90b3R5cGUnICYmIHBsYWNlbWVudCAhPT0gJ293bicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdBbiBlbGVtZW50IGRlc2NyaXB0b3JcXCdzIC5wbGFjZW1lbnQgcHJvcGVydHkgbXVzdCBiZSBvbmUgb2YgXCJzdGF0aWNcIiwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIFwicHJvdG90eXBlXCIgb3IgXCJvd25cIiwgYnV0IGEgZGVjb3JhdG9yIGNyZWF0ZWQgYW4gZWxlbWVudCBkZXNjcmlwdG9yJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyB3aXRoIC5wbGFjZW1lbnQgXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGVsZW1lbnRPYmplY3QuZGVzY3JpcHRvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgJ2VsZW1lbnRzJywgJ0FuIGVsZW1lbnQgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6IE9iamVjdC5hc3NpZ24oe30sIGRlc2NyaXB0b3IpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoa2luZCAhPT0gJ2ZpZWxkJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoZWxlbWVudE9iamVjdCwgJ2luaXRpYWxpemVyJywgJ0EgbWV0aG9kIGRlc2NyaXB0b3InKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2dldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHByb3BlcnR5IGRlc2NyaXB0b3Igb2YgYSBmaWVsZCBkZXNjcmlwdG9yJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgcHJvcGVydHkgZGVzY3JpcHRvciBvZiBhIGZpZWxkIGRlc2NyaXB0b3InXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBlbGVtZW50T2JqZWN0LmluaXRpYWxpemVyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvRWxlbWVudEZpbmlzaGVyRXh0cmFzOiBmdW5jdGlvbihlbGVtZW50T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLnRvRWxlbWVudERlc2NyaXB0b3IoZWxlbWVudE9iamVjdCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmluaXNoZXIgPSBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KGVsZW1lbnRPYmplY3QsICdmaW5pc2hlcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGV4dHJhcyA9IHRoaXMudG9FbGVtZW50RGVzY3JpcHRvcnMoZWxlbWVudE9iamVjdC5leHRyYXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVyOiBmaW5pc2hlcixcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFzOiBleHRyYXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcm9tQ2xhc3NEZXNjcmlwdG9yOiBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6ICdjbGFzcycsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cy5tYXAodGhpcy5mcm9tRWxlbWVudERlc2NyaXB0b3IsIHRoaXMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGRlc2MgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnRGVzY3JpcHRvcicsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFN5bWJvbC50b1N0cmluZ1RhZywgZGVzYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b0NsYXNzRGVzY3JpcHRvcjogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtpbmQgPSBTdHJpbmcob2JqLmtpbmQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGtpbmQgIT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdBIGNsYXNzIGRlc2NyaXB0b3JcXCdzIC5raW5kIHByb3BlcnR5IG11c3QgYmUgXCJjbGFzc1wiLCBidXQgYSBkZWNvcmF0b3InICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGNyZWF0ZWQgYSBjbGFzcyBkZXNjcmlwdG9yIHdpdGggLmtpbmQgXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCInXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhbGxvd1Byb3BlcnR5KG9iaiwgJ2tleScsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAncGxhY2VtZW50JywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosICdkZXNjcmlwdG9yJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzYWxsb3dQcm9wZXJ0eShvYmosICdpbml0aWFsaXplcicsICdBIGNsYXNzIGRlc2NyaXB0b3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc2FsbG93UHJvcGVydHkob2JqLCAnZXh0cmFzJywgJ0EgY2xhc3MgZGVzY3JpcHRvcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVyID0gX29wdGlvbmFsQ2FsbGFibGVQcm9wZXJ0eShvYmosICdmaW5pc2hlcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy50b0VsZW1lbnREZXNjcmlwdG9ycyhvYmouZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiBlbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZXI6IGZpbmlzaGVyLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcnVuQ2xhc3NGaW5pc2hlcnM6IGZ1bmN0aW9uKGNvbnN0cnVjdG9yLCBmaW5pc2hlcnMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmlzaGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q29uc3RydWN0b3IgPSAoMCwgZmluaXNoZXJzW2ldKShjb25zdHJ1Y3Rvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3Q29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaW5pc2hlcnMgbXVzdCByZXR1cm4gYSBjb25zdHJ1Y3Rvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0b3IgPSBuZXdDb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNhbGxvd1Byb3BlcnR5OiBmdW5jdGlvbihvYmosIG5hbWUsIG9iamVjdFR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihvYmplY3RUeXBlICsgXCIgY2FuJ3QgaGF2ZSBhIC5cIiArIG5hbWUgKyAnIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NyZWF0ZUVsZW1lbnREZXNjcmlwdG9yKGRlZikge1xuICAgICAgICB2YXIga2V5ID0gX3RvUHJvcGVydHlLZXkoZGVmLmtleSk7XG5cbiAgICAgICAgdmFyIGRlc2NyaXB0b3I7XG5cbiAgICAgICAgaWYgKGRlZi5raW5kID09PSAnbWV0aG9kJykge1xuICAgICAgICAgICAgZGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdnZXQnKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgIGdldDogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdzZXQnKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgICAgIHNldDogZGVmLnZhbHVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZGVmLmtpbmQgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICBraW5kOiBkZWYua2luZCA9PT0gJ2ZpZWxkJyA/ICdmaWVsZCcgOiAnbWV0aG9kJyxcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgcGxhY2VtZW50OiBkZWYuc3RhdGljID8gJ3N0YXRpYycgOiBkZWYua2luZCA9PT0gJ2ZpZWxkJyA/ICdvd24nIDogJ3Byb3RvdHlwZScsXG4gICAgICAgICAgICBkZXNjcmlwdG9yOiBkZXNjcmlwdG9yLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVmLmRlY29yYXRvcnMpIGVsZW1lbnQuZGVjb3JhdG9ycyA9IGRlZi5kZWNvcmF0b3JzO1xuICAgICAgICBpZiAoZGVmLmtpbmQgPT09ICdmaWVsZCcpIGVsZW1lbnQuaW5pdGlhbGl6ZXIgPSBkZWYudmFsdWU7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jb2FsZXNjZUdldHRlclNldHRlcihlbGVtZW50LCBvdGhlcikge1xuICAgICAgICBpZiAoZWxlbWVudC5kZXNjcmlwdG9yLmdldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yLmdldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5nZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdGhlci5kZXNjcmlwdG9yLnNldCA9IGVsZW1lbnQuZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfY29hbGVzY2VDbGFzc0VsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICAgIHZhciBuZXdFbGVtZW50cyA9IFtdO1xuXG4gICAgICAgIHZhciBpc1NhbWVFbGVtZW50ID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgb3RoZXIua2luZCA9PT0gJ21ldGhvZCcgJiZcbiAgICAgICAgICAgICAgICBvdGhlci5rZXkgPT09IGVsZW1lbnQua2V5ICYmXG4gICAgICAgICAgICAgICAgb3RoZXIucGxhY2VtZW50ID09PSBlbGVtZW50LnBsYWNlbWVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgdmFyIG90aGVyO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5raW5kID09PSAnbWV0aG9kJyAmJiAob3RoZXIgPSBuZXdFbGVtZW50cy5maW5kKGlzU2FtZUVsZW1lbnQpKSkge1xuICAgICAgICAgICAgICAgIGlmIChfaXNEYXRhRGVzY3JpcHRvcihlbGVtZW50LmRlc2NyaXB0b3IpIHx8IF9pc0RhdGFEZXNjcmlwdG9yKG90aGVyLmRlc2NyaXB0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB8fCBfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnRHVwbGljYXRlZCBtZXRob2RzICgnICsgZWxlbWVudC5rZXkgKyBcIikgY2FuJ3QgYmUgZGVjb3JhdGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgb3RoZXIuZGVzY3JpcHRvciA9IGVsZW1lbnQuZGVzY3JpcHRvcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2hhc0RlY29yYXRvcnMoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaGFzRGVjb3JhdG9ycyhvdGhlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRGVjb3JhdG9ycyBjYW4ndCBiZSBwbGFjZWQgb24gZGlmZmVyZW50IGFjY2Vzc29ycyB3aXRoIGZvciBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIHNhbWUgcHJvcGVydHkgKCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5rZXkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJykuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyLmRlY29yYXRvcnMgPSBlbGVtZW50LmRlY29yYXRvcnM7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfY29hbGVzY2VHZXR0ZXJTZXR0ZXIoZWxlbWVudCwgb3RoZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3RWxlbWVudHMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdFbGVtZW50cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaGFzRGVjb3JhdG9ycyhlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmRlY29yYXRvcnMgJiYgZWxlbWVudC5kZWNvcmF0b3JzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfaXNEYXRhRGVzY3JpcHRvcihkZXNjKSB7XG4gICAgICAgIHJldHVybiBkZXNjICE9PSB1bmRlZmluZWQgJiYgIShkZXNjLnZhbHVlID09PSB1bmRlZmluZWQgJiYgZGVzYy53cml0YWJsZSA9PT0gdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfb3B0aW9uYWxDYWxsYWJsZVByb3BlcnR5KG9iaiwgbmFtZSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgJ1wiICsgbmFtZSArIFwiJyB0byBiZSBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9jbGFzc1ByaXZhdGVNZXRob2RHZXQocmVjZWl2ZXIsIHByaXZhdGVTZXQsIGZuKSB7XG4gICAgICAgIGlmICghcHJpdmF0ZVNldC5oYXMocmVjZWl2ZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2NsYXNzUHJpdmF0ZU1ldGhvZFNldCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXR0ZW1wdGVkIHRvIHJlYXNzaWduIHByaXZhdGUgbWV0aG9kJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX3dyYXBSZWdFeHAocmUsIGdyb3Vwcykge1xuICAgICAgICBfd3JhcFJlZ0V4cCA9IGZ1bmN0aW9uKHJlLCBncm91cHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFiZWxSZWdFeHAocmUsIGdyb3Vwcyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIF9SZWdFeHAgPSBfd3JhcE5hdGl2ZVN1cGVyKFJlZ0V4cCk7XG5cbiAgICAgICAgdmFyIF9zdXBlciA9IFJlZ0V4cC5wcm90b3R5cGU7XG5cbiAgICAgICAgdmFyIF9ncm91cHMgPSBuZXcgV2Vha01hcCgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIEJhYmVsUmVnRXhwKHJlLCBncm91cHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9SZWdFeHAuY2FsbCh0aGlzLCByZSk7XG5cbiAgICAgICAgICAgIF9ncm91cHMuc2V0KF90aGlzLCBncm91cHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfaW5oZXJpdHMoQmFiZWxSZWdFeHAsIF9SZWdFeHApO1xuXG4gICAgICAgIEJhYmVsUmVnRXhwLnByb3RvdHlwZS5leGVjID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gX3N1cGVyLmV4ZWMuY2FsbCh0aGlzLCBzdHIpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0KSByZXN1bHQuZ3JvdXBzID0gYnVpbGRHcm91cHMocmVzdWx0LCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgQmFiZWxSZWdFeHAucHJvdG90eXBlW1N5bWJvbC5yZXBsYWNlXSA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RpdHV0aW9uKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN1YnN0aXR1dGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXBzID0gX2dyb3Vwcy5nZXQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3N1cGVyW1N5bWJvbC5yZXBsYWNlXS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBzdHIsXG4gICAgICAgICAgICAgICAgICAgIHN1YnN0aXR1dGlvbi5yZXBsYWNlKC9cXCQ8KFtePl0rKT4vZywgZnVuY3Rpb24oXywgbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICckJyArIGdyb3Vwc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3Vic3RpdHV0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwodGhpcywgc3RyLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYnVpbGRHcm91cHMoYXJncywgX3RoaXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzdGl0dXRpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBfc3VwZXJbU3ltYm9sLnJlcGxhY2VdLmNhbGwodGhpcywgc3RyLCBzdWJzdGl0dXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkR3JvdXBzKHJlc3VsdCwgcmUpIHtcbiAgICAgICAgICAgIHZhciBnID0gX2dyb3Vwcy5nZXQocmUpO1xuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZykucmVkdWNlKGZ1bmN0aW9uKGdyb3VwcywgbmFtZSkge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1tuYW1lXSA9IHJlc3VsdFtnW25hbWVdXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBzO1xuICAgICAgICAgICAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3dyYXBSZWdFeHAuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlSZW1vdmUgPSBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uIHJ1bihjYiwgc3luYykge1xuICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgxKS50aGVuKGNiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBvbiA9IGZ1bmN0aW9uIG9uKCkge1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG4gICAgICAgIHZhciBvZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQsIGNiKSB7XG4gICAgICAgICAgICBhcnJheVJlbW92ZShcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLmZpbmRJbmRleChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50ICYmIChsaXN0ZW5lci5jYiA9PT0gY2IgfHwgIWNiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIF9maXJlID0gZnVuY3Rpb24gZmlyZShldmVudCwgYXJncywgc3luYykge1xuICAgICAgICAgICAgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuZXZlbnQgPT09IGV2ZW50O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2I7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihjYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiLmFwcGx5KHZvaWQgMCwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgc3luYyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJlU3luYzogZnVuY3Rpb24gZmlyZVN5bmMoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9rZXkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICAgICAgICAgICAgX2tleSsrXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfZmlyZShldmVudCwgYXJncywgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlyZTogZnVuY3Rpb24gZmlyZShldmVudCkge1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2tleTIgPSAxO1xuICAgICAgICAgICAgICAgICAgICBfa2V5MiA8IF9sZW4yO1xuICAgICAgICAgICAgICAgICAgICBfa2V5MisrXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9maXJlKGV2ZW50LCBhcmdzLCBmYWxzZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IGZ1bmN0aW9uIG9uKGV2ZW50LCBjYikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBjYjogY2IgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25PbmNlOiBmdW5jdGlvbiBvbk9uY2UoZXZlbnQsIF9jYikge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBjYjogZnVuY3Rpb24gY2IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmYoZXZlbnQsIF9jYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2IuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9mZjogb2ZmLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdCA9IGZ1bmN0aW9uIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoXG4gICAgICAgIHNyYyxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBleGNsdWRlZFxuICAgICkge1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzcmMpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFleGNsdWRlZC5pbmNsdWRlcyhwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3JjLCBrZXkpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgUFJJVkFURSA9IFtcbiAgICAgICAgJ2ZpcmUnLFxuICAgICAgICAncHJvY2VzcycsXG4gICAgICAgICdyZXZlcnQnLFxuICAgICAgICAnbG9hZCcsXG4gICAgICAgICdvbicsXG4gICAgICAgICdvZmYnLFxuICAgICAgICAnb25PbmNlJyxcbiAgICAgICAgJ3JldHJ5TG9hZCcsXG4gICAgICAgICdleHRlbmQnLFxuICAgICAgICAnYXJjaGl2ZScsXG4gICAgICAgICdhcmNoaXZlZCcsXG4gICAgICAgICdyZWxlYXNlJyxcbiAgICAgICAgJ3JlbGVhc2VkJyxcbiAgICAgICAgJ3JlcXVlc3RQcm9jZXNzaW5nJyxcbiAgICAgICAgJ2ZyZWV6ZScsXG4gICAgXTtcblxuICAgIHZhciBjcmVhdGVJdGVtQVBJID0gZnVuY3Rpb24gY3JlYXRlSXRlbUFQSShpdGVtKSB7XG4gICAgICAgIHZhciBhcGkgPSB7fTtcbiAgICAgICAgY29weU9iamVjdFByb3BlcnRpZXNUb09iamVjdChpdGVtLCBhcGksIFBSSVZBVEUpO1xuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgcmVtb3ZlUmVsZWFzZWRJdGVtcyA9IGZ1bmN0aW9uIHJlbW92ZVJlbGVhc2VkSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGl0ZW0ucmVsZWFzZWQpIHtcbiAgICAgICAgICAgICAgICBhcnJheVJlbW92ZShpdGVtcywgaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIEl0ZW1TdGF0dXMgPSB7XG4gICAgICAgIElOSVQ6IDEsXG4gICAgICAgIElETEU6IDIsXG4gICAgICAgIFBST0NFU1NJTkdfUVVFVUVEOiA5LFxuICAgICAgICBQUk9DRVNTSU5HOiAzLFxuICAgICAgICBQUk9DRVNTSU5HX0NPTVBMRVRFOiA1LFxuICAgICAgICBQUk9DRVNTSU5HX0VSUk9SOiA2LFxuICAgICAgICBQUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjogMTAsXG4gICAgICAgIExPQURJTkc6IDcsXG4gICAgICAgIExPQURfRVJST1I6IDgsXG4gICAgfTtcblxuICAgIHZhciBGaWxlT3JpZ2luID0ge1xuICAgICAgICBJTlBVVDogMSxcbiAgICAgICAgTElNQk86IDIsXG4gICAgICAgIExPQ0FMOiAzLFxuICAgIH07XG5cbiAgICB2YXIgZ2V0Tm9uTnVtZXJpYyA9IGZ1bmN0aW9uIGdldE5vbk51bWVyaWMoc3RyKSB7XG4gICAgICAgIHJldHVybiAvW14wLTldKy8uZXhlYyhzdHIpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RGVjaW1hbFNlcGFyYXRvciA9IGZ1bmN0aW9uIGdldERlY2ltYWxTZXBhcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBnZXROb25OdW1lcmljKCgxLjEpLnRvTG9jYWxlU3RyaW5nKCkpWzBdO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0VGhvdXNhbmRzU2VwYXJhdG9yID0gZnVuY3Rpb24gZ2V0VGhvdXNhbmRzU2VwYXJhdG9yKCkge1xuICAgICAgICAvLyBBZGRlZCBmb3IgYnJvd3NlcnMgdGhhdCBkbyBub3QgcmV0dXJuIHRoZSB0aG91c2FuZHMgc2VwYXJhdG9yIChoYXBwZW5kIG9uIG5hdGl2ZSBicm93c2VyIEFuZHJvaWQgNC40LjQpXG4gICAgICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgdGhlIG5vcm1hbCB0b1N0cmluZyBvdXRwdXQgYW5kIGlmIHRoZXkncmUgdGhlIHNhbWUgcmV0dXJuIGEgY29tbWEgd2hlbiBkZWNpbWFsIHNlcGFyYXRvciBpcyBhIGRvdFxuICAgICAgICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9IGdldERlY2ltYWxTZXBhcmF0b3IoKTtcbiAgICAgICAgdmFyIHRob3VzYW5kc1N0cmluZ1dpdGhTZXBhcmF0b3IgPSAoMTAwMC4wKS50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICB2YXIgdGhvdXNhbmRzU3RyaW5nV2l0aG91dFNlcGFyYXRvciA9ICgxMDAwLjApLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmICh0aG91c2FuZHNTdHJpbmdXaXRoU2VwYXJhdG9yICE9PSB0aG91c2FuZHNTdHJpbmdXaXRob3V0U2VwYXJhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Tm9uTnVtZXJpYyh0aG91c2FuZHNTdHJpbmdXaXRoU2VwYXJhdG9yKVswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVjaW1hbFNlcGFyYXRvciA9PT0gJy4nID8gJywnIDogJy4nO1xuICAgIH07XG5cbiAgICB2YXIgVHlwZSA9IHtcbiAgICAgICAgQk9PTEVBTjogJ2Jvb2xlYW4nLFxuICAgICAgICBJTlQ6ICdpbnQnLFxuICAgICAgICBOVU1CRVI6ICdudW1iZXInLFxuICAgICAgICBTVFJJTkc6ICdzdHJpbmcnLFxuICAgICAgICBBUlJBWTogJ2FycmF5JyxcbiAgICAgICAgT0JKRUNUOiAnb2JqZWN0JyxcbiAgICAgICAgRlVOQ1RJT046ICdmdW5jdGlvbicsXG4gICAgICAgIEFDVElPTjogJ2FjdGlvbicsXG4gICAgICAgIFNFUlZFUl9BUEk6ICdzZXJ2ZXJhcGknLFxuICAgICAgICBSRUdFWDogJ3JlZ2V4JyxcbiAgICB9O1xuXG4gICAgLy8gYWxsIHJlZ2lzdGVyZWQgZmlsdGVyc1xuICAgIHZhciBmaWx0ZXJzID0gW107XG5cbiAgICAvLyBsb29wcyBvdmVyIG1hdGNoaW5nIGZpbHRlcnMgYW5kIHBhc3NlcyBvcHRpb25zIHRvIGVhY2ggZmlsdGVyLCByZXR1cm5pbmcgdGhlIG1hcHBlZCByZXN1bHRzXG4gICAgdmFyIGFwcGx5RmlsdGVyQ2hhaW4gPSBmdW5jdGlvbiBhcHBseUZpbHRlckNoYWluKGtleSwgdmFsdWUsIHV0aWxzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIC8vIGZpbmQgbWF0Y2hpbmcgZmlsdGVycyBmb3IgdGhpcyBrZXlcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0ZpbHRlcnMgPSBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmtleSA9PT0ga2V5O1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmNiO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyByZXNvbHZlIG5vd1xuICAgICAgICAgICAgaWYgKG1hdGNoaW5nRmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpcnN0IGZpbHRlciB0byBraWNrIHRoaW5ncyBvZlxuICAgICAgICAgICAgdmFyIGluaXRpYWxGaWx0ZXIgPSBtYXRjaGluZ0ZpbHRlcnMuc2hpZnQoKTtcblxuICAgICAgICAgICAgLy8gY2hhaW4gZmlsdGVyc1xuICAgICAgICAgICAgbWF0Y2hpbmdGaWx0ZXJzXG4gICAgICAgICAgICAgICAgLnJlZHVjZShcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCBvdmVyIHByb21pc2VzIHBhc3NpbmcgdmFsdWUgdG8gbmV4dCBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGN1cnJlbnQsIG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50LnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCh2YWx1ZSwgdXRpbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBpbml0aWFsIGZpbHRlciwgd2lsbCByZXR1cm4gYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxGaWx0ZXIodmFsdWUsIHV0aWxzKVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFsbCBleGVjdXRlZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgYXBwbHlGaWx0ZXJzID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXJzKGtleSwgdmFsdWUsIHV0aWxzKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5rZXkgPT09IGtleTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5jYih2YWx1ZSwgdXRpbHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBsaXN0XG4gICAgdmFyIGFkZEZpbHRlciA9IGZ1bmN0aW9uIGFkZEZpbHRlcihrZXksIGNiKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJzLnB1c2goeyBrZXk6IGtleSwgY2I6IGNiIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZXh0ZW5kRGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiBleHRlbmREZWZhdWx0T3B0aW9ucyhhZGRpdGlvbmFsT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0T3B0aW9ucywgYWRkaXRpb25hbE9wdGlvbnMpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucyk7XG4gICAgfTtcblxuICAgIHZhciBzZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRzKSB7XG4gICAgICAgIGZvcmluKG9wdHMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGtleSBkb2VzIG5vdCBleGlzdCwgc28gdGhpcyBvcHRpb24gY2Fubm90IGJlIHNldFxuICAgICAgICAgICAgaWYgKCFkZWZhdWx0T3B0aW9uc1trZXldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVswXSA9IGdldFZhbHVlQnlUeXBlKFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zW2tleV1bMF0sXG4gICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnNba2V5XVsxXVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIGRlZmF1bHQgb3B0aW9ucyBvbiBhcHBcbiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIC8vIHRoZSBpZCB0byBhZGQgdG8gdGhlIHJvb3QgZWxlbWVudFxuICAgICAgICBpZDogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBpbnB1dCBmaWVsZCBuYW1lIHRvIHVzZVxuICAgICAgICBuYW1lOiBbJ2ZpbGVwb25kJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIC8vIGRpc2FibGUgdGhlIGZpZWxkXG4gICAgICAgIGRpc2FibGVkOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gY2xhc3NuYW1lIHRvIHB1dCBvbiB3cmFwcGVyXG4gICAgICAgIGNsYXNzTmFtZTogW251bGwsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICAvLyBpcyB0aGUgZmllbGQgcmVxdWlyZWRcbiAgICAgICAgcmVxdWlyZWQ6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBBbGxvdyBtZWRpYSBjYXB0dXJlIHdoZW4gdmFsdWUgaXMgc2V0XG4gICAgICAgIGNhcHR1cmVNZXRob2Q6IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgICAgIC8vIC0gXCJjYW1lcmFcIiwgXCJtaWNyb3Bob25lXCIgb3IgXCJjYW1jb3JkZXJcIixcbiAgICAgICAgLy8gLSBEb2VzIG5vdCB3b3JrIHdpdGggbXVsdGlwbGUgb24gYXBwbGUgZGV2aWNlc1xuICAgICAgICAvLyAtIElmIHNldCwgYWNjZXB0ZWRGaWxlVHlwZXMgbXVzdCBiZSBtYWRlIHRvIG1hdGNoIHdpdGggbWVkaWEgd2lsZGNhcmQgXCJpbWFnZS8qXCIsIFwiYXVkaW8vKlwiIG9yIFwidmlkZW8vKlwiXG5cbiAgICAgICAgLy8gc3luYyBgYWNjZXB0ZWRGaWxlVHlwZXNgIHByb3BlcnR5IHdpdGggYGFjY2VwdGAgYXR0cmlidXRlXG4gICAgICAgIGFsbG93U3luY0FjY2VwdEF0dHJpYnV0ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sXG5cbiAgICAgICAgLy8gRmVhdHVyZSB0b2dnbGVzXG4gICAgICAgIGFsbG93RHJvcDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IGRyb3BwaW5nIG9mIGZpbGVzXG4gICAgICAgIGFsbG93QnJvd3NlOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgYnJvd3NpbmcgdGhlIGZpbGUgc3lzdGVtXG4gICAgICAgIGFsbG93UGFzdGU6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBwYXN0aW5nIGZpbGVzXG4gICAgICAgIGFsbG93TXVsdGlwbGU6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgbXVsdGlwbGUgZmlsZXMgKGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIG11bHRpcGxlIGF0dHJpYnV0ZSBpcyBhbHNvIHJlcXVpcmVkIG9uIGlucHV0IHRvIGFsbG93IG11bHRpcGxlKVxuICAgICAgICBhbGxvd1JlcGxhY2U6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyBkcm9wcGluZyBhIGZpbGUgb24gb3RoZXIgZmlsZSB0byByZXBsYWNlIGl0IChvbmx5IHdvcmtzIHdoZW4gbXVsdGlwbGUgaXMgc2V0IHRvIGZhbHNlKVxuICAgICAgICBhbGxvd1JldmVydDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93cyB1c2VyIHRvIHJldmVydCBmaWxlIHVwbG9hZFxuICAgICAgICBhbGxvd1JlbW92ZTogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IHVzZXIgdG8gcmVtb3ZlIGEgZmlsZVxuICAgICAgICBhbGxvd1Byb2Nlc3M6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvd3MgdXNlciB0byBwcm9jZXNzIGEgZmlsZSwgd2hlbiBzZXQgdG8gZmFsc2UsIHRoaXMgcmVtb3ZlcyB0aGUgZmlsZSB1cGxvYWQgYnV0dG9uXG4gICAgICAgIGFsbG93UmVvcmRlcjogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBBbGxvdyByZW9yZGVyaW5nIG9mIGZpbGVzXG4gICAgICAgIGFsbG93RGlyZWN0b3JpZXNPbmx5OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEFsbG93IG9ubHkgc2VsZWN0aW5nIGRpcmVjdG9yaWVzIHdpdGggYnJvd3NlIChubyBzdXBwb3J0IGZvciBmaWx0ZXJpbmcgZG5kIGF0IHRoaXMgcG9pbnQpXG5cbiAgICAgICAgLy8gVHJ5IHN0b3JlIGZpbGUgaWYgYHNlcnZlcmAgbm90IHNldFxuICAgICAgICBzdG9yZUFzRmlsZTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLFxuXG4gICAgICAgIC8vIFJldmVydCBtb2RlXG4gICAgICAgIGZvcmNlUmV2ZXJ0OiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIFNldCB0byAnZm9yY2UnIHRvIHJlcXVpcmUgdGhlIGZpbGUgdG8gYmUgcmV2ZXJ0ZWQgYmVmb3JlIHJlbW92YWxcblxuICAgICAgICAvLyBJbnB1dCByZXF1aXJlbWVudHNcbiAgICAgICAgbWF4RmlsZXM6IFtudWxsLCBUeXBlLklOVF0sIC8vIE1heCBudW1iZXIgb2YgZmlsZXNcbiAgICAgICAgY2hlY2tWYWxpZGl0eTogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGVzIGN1c3RvbSB2YWxpZGl0eSBtZXNzYWdlc1xuXG4gICAgICAgIC8vIFdoZXJlIHRvIHB1dCBmaWxlXG4gICAgICAgIGl0ZW1JbnNlcnRMb2NhdGlvbkZyZWVkb206IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBTZXQgdG8gZmFsc2UgdG8gYWx3YXlzIGFkZCBpdGVtcyB0byBiZWdpbiBvciBlbmQgb2YgbGlzdFxuICAgICAgICBpdGVtSW5zZXJ0TG9jYXRpb246IFsnYmVmb3JlJywgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGluZGV4IGluIGxpc3QgdG8gYWRkIGl0ZW1zIHRoYXQgaGF2ZSBiZWVuIGRyb3BwZWQgYXQgdGhlIHRvcCBvZiB0aGUgbGlzdFxuICAgICAgICBpdGVtSW5zZXJ0SW50ZXJ2YWw6IFs3NSwgVHlwZS5JTlRdLFxuXG4gICAgICAgIC8vIERyYWcgJ24gRHJvcCByZWxhdGVkXG4gICAgICAgIGRyb3BPblBhZ2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gQWxsb3cgZHJvcHBpbmcgb2YgZmlsZXMgYW55d2hlcmUgb24gcGFnZSAocHJldmVudHMgYnJvd3NlciBmcm9tIG9wZW5pbmcgZmlsZSBpZiBkcm9wcGVkIG91dHNpZGUgb2YgVXApXG4gICAgICAgIGRyb3BPbkVsZW1lbnQ6IFt0cnVlLCBUeXBlLkJPT0xFQU5dLCAvLyBEcm9wIG5lZWRzIHRvIGhhcHBlbiBvbiBlbGVtZW50IChzZXQgdG8gZmFsc2UgdG8gYWxzbyBsb2FkIGRyb3BzIG91dHNpZGUgb2YgVXApXG4gICAgICAgIGRyb3BWYWxpZGF0aW9uOiBbZmFsc2UsIFR5cGUuQk9PTEVBTl0sIC8vIEVuYWJsZSBvciBkaXNhYmxlIHZhbGlkYXRpbmcgZmlsZXMgb24gZHJvcFxuICAgICAgICBpZ25vcmVkRmlsZXM6IFtbJy5kc19zdG9yZScsICd0aHVtYnMuZGInLCAnZGVza3RvcC5pbmknXSwgVHlwZS5BUlJBWV0sXG5cbiAgICAgICAgLy8gVXBsb2FkIHJlbGF0ZWRcbiAgICAgICAgaW5zdGFudFVwbG9hZDogW3RydWUsIFR5cGUuQk9PTEVBTl0sIC8vIFNob3VsZCB1cGxvYWQgZmlsZXMgaW1tZWRpYXRlbHkgb24gZHJvcFxuICAgICAgICBtYXhQYXJhbGxlbFVwbG9hZHM6IFsyLCBUeXBlLklOVF0sIC8vIE1heGltdW0gZmlsZXMgdG8gdXBsb2FkIGluIHBhcmFsbGVsXG4gICAgICAgIGFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uOiBbdHJ1ZSwgVHlwZS5CT09MRUFOXSwgLy8gaWYgdHJ1ZSB1cGxvYWRzIHRha2UgYXQgbGVhc3QgNzUwIG1zLCB0aGlzIGVuc3VyZXMgdGhlIHVzZXIgc2VlcyB0aGUgdXBsb2FkIHByb2dyZXNzIGdpdmluZyB0cnVzdCB0aGUgdXBsb2FkIGFjdHVhbGx5IGhhcHBlbmVkXG5cbiAgICAgICAgLy8gQ2h1bmtzXG4gICAgICAgIGNodW5rVXBsb2FkczogW2ZhbHNlLCBUeXBlLkJPT0xFQU5dLCAvLyBFbmFibGUgY2h1bmtlZCB1cGxvYWRzXG4gICAgICAgIGNodW5rRm9yY2U6IFtmYWxzZSwgVHlwZS5CT09MRUFOXSwgLy8gRm9yY2UgdXNlIG9mIGNodW5rIHVwbG9hZHMgZXZlbiBmb3IgZmlsZXMgc21hbGxlciB0aGFuIGNodW5rIHNpemVcbiAgICAgICAgY2h1bmtTaXplOiBbNTAwMDAwMCwgVHlwZS5JTlRdLCAvLyBTaXplIG9mIGNodW5rcyAoNU1CIGRlZmF1bHQpXG4gICAgICAgIGNodW5rUmV0cnlEZWxheXM6IFtbNTAwLCAxMDAwLCAzMDAwXSwgVHlwZS5BUlJBWV0sIC8vIEFtb3VudCBvZiB0aW1lcyB0byByZXRyeSB1cGxvYWQgb2YgYSBjaHVuayB3aGVuIGl0IGZhaWxzXG5cbiAgICAgICAgLy8gVGhlIHNlcnZlciBhcGkgZW5kIHBvaW50cyB0byB1c2UgZm9yIHVwbG9hZGluZyAoc2VlIGRvY3MpXG4gICAgICAgIHNlcnZlcjogW251bGwsIFR5cGUuU0VSVkVSX0FQSV0sXG5cbiAgICAgICAgLy8gRmlsZSBzaXplIGNhbGN1bGF0aW9ucywgY2FuIHNldCB0byAxMDI0LCB0aGlzIGlzIG9ubHkgdXNlZCBmb3IgZGlzcGxheSwgcHJvcGVydGllcyB1c2UgZmlsZSBzaXplIGJhc2UgMTAwMFxuICAgICAgICBmaWxlU2l6ZUJhc2U6IFsxMDAwLCBUeXBlLklOVF0sXG5cbiAgICAgICAgLy8gTGFiZWxzIGFuZCBzdGF0dXMgbWVzc2FnZXNcbiAgICAgICAgbGFiZWxGaWxlU2l6ZUJ5dGVzOiBbJ2J5dGVzJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVTaXplS2lsb2J5dGVzOiBbJ0tCJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVTaXplTWVnYWJ5dGVzOiBbJ01CJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVTaXplR2lnYWJ5dGVzOiBbJ0dCJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIGxhYmVsRGVjaW1hbFNlcGFyYXRvcjogW2dldERlY2ltYWxTZXBhcmF0b3IoKSwgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGlzIGxvY2FsZSBzZXBhcmF0b3JcbiAgICAgICAgbGFiZWxUaG91c2FuZHNTZXBhcmF0b3I6IFtnZXRUaG91c2FuZHNTZXBhcmF0b3IoKSwgVHlwZS5TVFJJTkddLCAvLyBEZWZhdWx0IGlzIGxvY2FsZSBzZXBhcmF0b3JcblxuICAgICAgICBsYWJlbElkbGU6IFtcbiAgICAgICAgICAgICdEcmFnICYgRHJvcCB5b3VyIGZpbGVzIG9yIDxzcGFuIGNsYXNzPVwiZmlsZXBvbmQtLWxhYmVsLWFjdGlvblwiPkJyb3dzZTwvc3Bhbj4nLFxuICAgICAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgICAgIF0sXG5cbiAgICAgICAgbGFiZWxJbnZhbGlkRmllbGQ6IFsnRmllbGQgY29udGFpbnMgaW52YWxpZCBmaWxlcycsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxGaWxlV2FpdGluZ0ZvclNpemU6IFsnV2FpdGluZyBmb3Igc2l6ZScsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxGaWxlU2l6ZU5vdEF2YWlsYWJsZTogWydTaXplIG5vdCBhdmFpbGFibGUnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZUNvdW50U2luZ3VsYXI6IFsnZmlsZSBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVDb3VudFBsdXJhbDogWydmaWxlcyBpbiBsaXN0JywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVMb2FkaW5nOiBbJ0xvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZUFkZGVkOiBbJ0FkZGVkJywgVHlwZS5TVFJJTkddLCAvLyBhc3Npc3RpdmUgb25seVxuICAgICAgICBsYWJlbEZpbGVMb2FkRXJyb3I6IFsnRXJyb3IgZHVyaW5nIGxvYWQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVJlbW92ZWQ6IFsnUmVtb3ZlZCcsIFR5cGUuU1RSSU5HXSwgLy8gYXNzaXN0aXZlIG9ubHlcbiAgICAgICAgbGFiZWxGaWxlUmVtb3ZlRXJyb3I6IFsnRXJyb3IgZHVyaW5nIHJlbW92ZScsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxGaWxlUHJvY2Vzc2luZzogWydVcGxvYWRpbmcnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdDb21wbGV0ZTogWydVcGxvYWQgY29tcGxldGUnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdBYm9ydGVkOiBbJ1VwbG9hZCBjYW5jZWxsZWQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcjogWydFcnJvciBkdXJpbmcgdXBsb2FkJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEZpbGVQcm9jZXNzaW5nUmV2ZXJ0RXJyb3I6IFsnRXJyb3IgZHVyaW5nIHJldmVydCcsIFR5cGUuU1RSSU5HXSxcblxuICAgICAgICBsYWJlbFRhcFRvQ2FuY2VsOiBbJ3RhcCB0byBjYW5jZWwnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsVGFwVG9SZXRyeTogWyd0YXAgdG8gcmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsVGFwVG9VbmRvOiBbJ3RhcCB0byB1bmRvJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIGxhYmVsQnV0dG9uUmVtb3ZlSXRlbTogWydSZW1vdmUnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsQnV0dG9uQWJvcnRJdGVtTG9hZDogWydBYm9ydCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgbGFiZWxCdXR0b25SZXRyeUl0ZW1Mb2FkOiBbJ1JldHJ5JywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IFsnQ2FuY2VsJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEJ1dHRvblVuZG9JdGVtUHJvY2Vzc2luZzogWydVbmRvJywgVHlwZS5TVFJJTkddLFxuICAgICAgICBsYWJlbEJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IFsnUmV0cnknLCBUeXBlLlNUUklOR10sXG4gICAgICAgIGxhYmVsQnV0dG9uUHJvY2Vzc0l0ZW06IFsnVXBsb2FkJywgVHlwZS5TVFJJTkddLFxuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB3aWR0aCBhbmQgaGVpZ2h0IHBsdXMgdmlld3BveCBhcmUgZXZlbiBudW1iZXJzIHNvIGljb25zIGFyZSBuaWNlbHkgY2VudGVyZWRcbiAgICAgICAgaWNvblJlbW92ZTogW1xuICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTExLjU4NiAxM2wtMi4yOTMgMi4yOTNhMSAxIDAgMCAwIDEuNDE0IDEuNDE0TDEzIDE0LjQxNGwyLjI5MyAyLjI5M2ExIDEgMCAwIDAgMS40MTQtMS40MTRMMTQuNDE0IDEzbDIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNC0xLjQxNEwxMyAxMS41ODZsLTIuMjkzLTIuMjkzYTEgMSAwIDAgMC0xLjQxNCAxLjQxNEwxMS41ODYgMTN6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+JyxcbiAgICAgICAgICAgIFR5cGUuU1RSSU5HLFxuICAgICAgICBdLFxuXG4gICAgICAgIGljb25Qcm9jZXNzOiBbXG4gICAgICAgICAgICAnPHN2ZyB3aWR0aD1cIjI2XCIgaGVpZ2h0PVwiMjZcIiB2aWV3Qm94PVwiMCAwIDI2IDI2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTQgMTAuNDE0djMuNTg1YTEgMSAwIDAgMS0yIDB2LTMuNTg1bC0xLjI5MyAxLjI5M2ExIDEgMCAwIDEtMS40MTQtMS40MTVsMy0zYTEgMSAwIDAgMSAxLjQxNCAwbDMgM2ExIDEgMCAwIDEtMS40MTQgMS40MTVMMTQgMTAuNDE0ek05IDE4YTEgMSAwIDAgMSAwLTJoOGExIDEgMCAwIDEgMCAySDl6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+JyxcbiAgICAgICAgICAgIFR5cGUuU1RSSU5HLFxuICAgICAgICBdLFxuXG4gICAgICAgIGljb25SZXRyeTogW1xuICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTEwLjgxIDkuMTg1bC0uMDM4LjAyQTQuOTk3IDQuOTk3IDAgMCAwIDggMTMuNjgzYTUgNSAwIDAgMCA1IDUgNSA1IDAgMCAwIDUtNSAxIDEgMCAwIDEgMiAwQTcgNyAwIDEgMSA5LjcyMiA3LjQ5NmwtLjg0Mi0uMjFhLjk5OS45OTkgMCAxIDEgLjQ4NC0xLjk0bDMuMjMuODA2Yy41MzUuMTMzLjg2LjY3NS43MyAxLjIxbC0uODA0IDMuMjMzYS45OTcuOTk3IDAgMCAxLTEuMjEuNzMuOTk3Ljk5NyAwIDAgMS0uNzMtMS4yMWwuMjMtLjkyOHYtLjAwMnpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgICAgIF0sXG5cbiAgICAgICAgaWNvblVuZG86IFtcbiAgICAgICAgICAgICc8c3ZnIHdpZHRoPVwiMjZcIiBoZWlnaHQ9XCIyNlwiIHZpZXdCb3g9XCIwIDAgMjYgMjZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk05LjE4NSAxMC44MWwuMDItLjAzOEE0Ljk5NyA0Ljk5NyAwIDAgMSAxMy42ODMgOGE1IDUgMCAwIDEgNSA1IDUgNSAwIDAgMS01IDUgMSAxIDAgMCAwIDAgMkE3IDcgMCAxIDAgNy40OTYgOS43MjJsLS4yMS0uODQyYS45OTkuOTk5IDAgMSAwLTEuOTQuNDg0bC44MDYgMy4yM2MuMTMzLjUzNS42NzUuODYgMS4yMS43M2wzLjIzMy0uODAzYS45OTcuOTk3IDAgMCAwIC43My0xLjIxLjk5Ny45OTcgMCAwIDAtMS4yMS0uNzNsLS45MjguMjMtLjAwMi0uMDAxelwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPicsXG4gICAgICAgICAgICBUeXBlLlNUUklORyxcbiAgICAgICAgXSxcblxuICAgICAgICBpY29uRG9uZTogW1xuICAgICAgICAgICAgJzxzdmcgd2lkdGg9XCIyNlwiIGhlaWdodD1cIjI2XCIgdmlld0JveD1cIjAgMCAyNiAyNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTE4LjI5MyA5LjI5M2ExIDEgMCAwIDEgMS40MTQgMS40MTRsLTcuMDAyIDdhMSAxIDAgMCAxLTEuNDE0IDBsLTMuOTk4LTRhMSAxIDAgMSAxIDEuNDE0LTEuNDE0TDEyIDE1LjU4Nmw2LjI5NC02LjI5M3pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nLFxuICAgICAgICAgICAgVHlwZS5TVFJJTkcsXG4gICAgICAgIF0sXG5cbiAgICAgICAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgb25pbml0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ud2FybmluZzogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbmVycm9yOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9uYWN0aXZhdGVmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9uaW5pdGZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25hZGRmaWxlc3RhcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25hZGRmaWxlcHJvZ3Jlc3M6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25hZGRmaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ucHJvY2Vzc2ZpbGVzdGFydDogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnByb2Nlc3NmaWxlcHJvZ3Jlc3M6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25wcm9jZXNzZmlsZWFib3J0OiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ucHJvY2Vzc2ZpbGVyZXZlcnQ6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25wcm9jZXNzZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnByb2Nlc3NmaWxlczogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnJlbW92ZWZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgb25wcmVwYXJlZmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBvbnVwZGF0ZWZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIG9ucmVvcmRlcmZpbGVzOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAgICAgLy8gaG9va3NcbiAgICAgICAgYmVmb3JlRHJvcEZpbGU6IFtudWxsLCBUeXBlLkZVTkNUSU9OXSxcbiAgICAgICAgYmVmb3JlQWRkRmlsZTogW251bGwsIFR5cGUuRlVOQ1RJT05dLFxuICAgICAgICBiZWZvcmVSZW1vdmVGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG4gICAgICAgIGJlZm9yZVByZXBhcmVGaWxlOiBbbnVsbCwgVHlwZS5GVU5DVElPTl0sXG5cbiAgICAgICAgLy8gc3R5bGVzXG4gICAgICAgIHN0eWxlUGFuZWxMYXlvdXQ6IFtudWxsLCBUeXBlLlNUUklOR10sIC8vIG51bGwgJ2ludGVncmF0ZWQnLCAnY29tcGFjdCcsICdjaXJjbGUnXG4gICAgICAgIHN0eWxlUGFuZWxBc3BlY3RSYXRpbzogW251bGwsIFR5cGUuU1RSSU5HXSwgLy8gbnVsbCBvciAnMzoyJyBvciAxXG4gICAgICAgIHN0eWxlSXRlbVBhbmVsQXNwZWN0UmF0aW86IFtudWxsLCBUeXBlLlNUUklOR10sXG4gICAgICAgIHN0eWxlQnV0dG9uUmVtb3ZlSXRlbVBvc2l0aW9uOiBbJ2xlZnQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIHN0eWxlQnV0dG9uUHJvY2Vzc0l0ZW1Qb3NpdGlvbjogWydyaWdodCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgc3R5bGVMb2FkSW5kaWNhdG9yUG9zaXRpb246IFsncmlnaHQnLCBUeXBlLlNUUklOR10sXG4gICAgICAgIHN0eWxlUHJvZ3Jlc3NJbmRpY2F0b3JQb3NpdGlvbjogWydyaWdodCcsIFR5cGUuU1RSSU5HXSxcbiAgICAgICAgc3R5bGVCdXR0b25SZW1vdmVJdGVtQWxpZ246IFtmYWxzZSwgVHlwZS5CT09MRUFOXSxcblxuICAgICAgICAvLyBjdXN0b20gaW5pdGlhbCBmaWxlcyBhcnJheVxuICAgICAgICBmaWxlczogW1tdLCBUeXBlLkFSUkFZXSxcblxuICAgICAgICAvLyBzaG93IHN1cHBvcnQgYnkgZGlzcGxheWluZyBjcmVkaXRzXG4gICAgICAgIGNyZWRpdHM6IFtbJ2h0dHBzOi8vcHFpbmEubmwvJywgJ1Bvd2VyZWQgYnkgUFFJTkEnXSwgVHlwZS5BUlJBWV0sXG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtQnlRdWVyeSA9IGZ1bmN0aW9uIGdldEl0ZW1CeVF1ZXJ5KGl0ZW1zLCBxdWVyeSkge1xuICAgICAgICAvLyBqdXN0IHJldHVybiBmaXJzdCBpbmRleFxuICAgICAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtc1swXSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcXVlcnkgaXMgaW5kZXhcbiAgICAgICAgaWYgKGlzSW50KHF1ZXJ5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zW3F1ZXJ5XSB8fCBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgcXVlcnkgaXMgaXRlbSwgZ2V0IHRoZSBpZFxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcXVlcnkgPSBxdWVyeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFzc3VtZSBxdWVyeSBpcyBhIHN0cmluZyBhbmQgcmV0dXJuIGl0ZW0gYnkgaWRcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGl0ZW1zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBxdWVyeTtcbiAgICAgICAgICAgIH0pIHx8IG51bGxcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldE51bWVyaWNBc3BlY3RSYXRpb0Zyb21TdHJpbmcgPSBmdW5jdGlvbiBnZXROdW1lcmljQXNwZWN0UmF0aW9Gcm9tU3RyaW5nKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIGlmIChpc0VtcHR5KGFzcGVjdFJhdGlvKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmICgvOi8udGVzdChhc3BlY3RSYXRpbykpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGFzcGVjdFJhdGlvLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICByZXR1cm4gcGFydHNbMV0gLyBwYXJ0c1swXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhc3BlY3RSYXRpbyk7XG4gICAgfTtcblxuICAgIHZhciBnZXRBY3RpdmVJdGVtcyA9IGZ1bmN0aW9uIGdldEFjdGl2ZUl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICFpdGVtLmFyY2hpdmVkO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIFN0YXR1cyA9IHtcbiAgICAgICAgRU1QVFk6IDAsXG4gICAgICAgIElETEU6IDEsIC8vIHdhaXRpbmdcbiAgICAgICAgRVJST1I6IDIsIC8vIGEgZmlsZSBpcyBpbiBlcnJvciBzdGF0ZVxuICAgICAgICBCVVNZOiAzLCAvLyBidXN5IHByb2Nlc3Npbmcgb3IgbG9hZGluZ1xuICAgICAgICBSRUFEWTogNCwgLy8gYWxsIGZpbGVzIHVwbG9hZGVkXG4gICAgfTtcblxuICAgIHZhciByZXMgPSBudWxsO1xuICAgIHZhciBjYW5VcGRhdGVGaWxlSW5wdXQgPSBmdW5jdGlvbiBjYW5VcGRhdGVGaWxlSW5wdXQoKSB7XG4gICAgICAgIGlmIChyZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuaXRlbXMuYWRkKG5ldyBGaWxlKFsnaGVsbG8gd29ybGQnXSwgJ1RoaXNfV29ya3MudHh0JykpO1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2ZpbGUnKTtcbiAgICAgICAgICAgICAgICBlbC5maWxlcyA9IGRhdGFUcmFuc2Zlci5maWxlcztcbiAgICAgICAgICAgICAgICByZXMgPSBlbC5maWxlcy5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICB2YXIgSVRFTV9FUlJPUiA9IFtcbiAgICAgICAgSXRlbVN0YXR1cy5MT0FEX0VSUk9SLFxuICAgICAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IsXG4gICAgICAgIEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IsXG4gICAgXTtcblxuICAgIHZhciBJVEVNX0JVU1kgPSBbXG4gICAgICAgIEl0ZW1TdGF0dXMuTE9BRElORyxcbiAgICAgICAgSXRlbVN0YXR1cy5QUk9DRVNTSU5HLFxuICAgICAgICBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUVVFVUVELFxuICAgICAgICBJdGVtU3RhdHVzLklOSVQsXG4gICAgXTtcblxuICAgIHZhciBJVEVNX1JFQURZID0gW0l0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURV07XG5cbiAgICB2YXIgaXNJdGVtSW5FcnJvclN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5FcnJvclN0YXRlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIElURU1fRVJST1IuaW5jbHVkZXMoaXRlbS5zdGF0dXMpO1xuICAgIH07XG4gICAgdmFyIGlzSXRlbUluQnVzeVN0YXRlID0gZnVuY3Rpb24gaXNJdGVtSW5CdXN5U3RhdGUoaXRlbSkge1xuICAgICAgICByZXR1cm4gSVRFTV9CVVNZLmluY2x1ZGVzKGl0ZW0uc3RhdHVzKTtcbiAgICB9O1xuICAgIHZhciBpc0l0ZW1JblJlYWR5U3RhdGUgPSBmdW5jdGlvbiBpc0l0ZW1JblJlYWR5U3RhdGUoaXRlbSkge1xuICAgICAgICByZXR1cm4gSVRFTV9SRUFEWS5pbmNsdWRlcyhpdGVtLnN0YXR1cyk7XG4gICAgfTtcblxuICAgIHZhciBpc0FzeW5jID0gZnVuY3Rpb24gaXNBc3luYyhzdGF0ZSkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgaXNPYmplY3Qoc3RhdGUub3B0aW9ucy5zZXJ2ZXIpICYmXG4gICAgICAgICAgICAoaXNPYmplY3Qoc3RhdGUub3B0aW9ucy5zZXJ2ZXIucHJvY2VzcykgfHwgaXNGdW5jdGlvbihzdGF0ZS5vcHRpb25zLnNlcnZlci5wcm9jZXNzKSlcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHF1ZXJpZXMgPSBmdW5jdGlvbiBxdWVyaWVzKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBHRVRfU1RBVFVTOiBmdW5jdGlvbiBHRVRfU1RBVFVTKCkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKTtcbiAgICAgICAgICAgICAgICB2YXIgRU1QVFkgPSBTdGF0dXMuRU1QVFksXG4gICAgICAgICAgICAgICAgICAgIEVSUk9SID0gU3RhdHVzLkVSUk9SLFxuICAgICAgICAgICAgICAgICAgICBCVVNZID0gU3RhdHVzLkJVU1ksXG4gICAgICAgICAgICAgICAgICAgIElETEUgPSBTdGF0dXMuSURMRSxcbiAgICAgICAgICAgICAgICAgICAgUkVBRFkgPSBTdGF0dXMuUkVBRFk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSByZXR1cm4gRU1QVFk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkVycm9yU3RhdGUpKSByZXR1cm4gRVJST1I7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXRlbXMuc29tZShpc0l0ZW1JbkJ1c3lTdGF0ZSkpIHJldHVybiBCVVNZO1xuXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zLnNvbWUoaXNJdGVtSW5SZWFkeVN0YXRlKSkgcmV0dXJuIFJFQURZO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIElETEU7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBHRVRfSVRFTTogZnVuY3Rpb24gR0VUX0lURU0ocXVlcnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9BQ1RJVkVfSVRFTTogZnVuY3Rpb24gR0VUX0FDVElWRV9JVEVNKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEl0ZW1CeVF1ZXJ5KGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKSwgcXVlcnkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0FDVElWRV9JVEVNUzogZnVuY3Rpb24gR0VUX0FDVElWRV9JVEVNUygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1TOiBmdW5jdGlvbiBHRVRfSVRFTVMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLml0ZW1zO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1fTkFNRTogZnVuY3Rpb24gR0VUX0lURU1fTkFNRShxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZW5hbWUgOiBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1fU0laRTogZnVuY3Rpb24gR0VUX0lURU1fU0laRShxdWVyeSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSA/IGl0ZW0uZmlsZVNpemUgOiBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX1NUWUxFUzogZnVuY3Rpb24gR0VUX1NUWUxFUygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc3RhdGUub3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvXnN0eWxlLy50ZXN0KGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RhdGUub3B0aW9uc1tvcHRpb25dLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBHRVRfUEFORUxfQVNQRUNUX1JBVElPOiBmdW5jdGlvbiBHRVRfUEFORUxfQVNQRUNUX1JBVElPKCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1NoYXBlQ2lyY2xlID0gL2NpcmNsZS8udGVzdChzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxMYXlvdXQpO1xuICAgICAgICAgICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IGlzU2hhcGVDaXJjbGVcbiAgICAgICAgICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyhzdGF0ZS5vcHRpb25zLnN0eWxlUGFuZWxBc3BlY3RSYXRpbyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgR0VUX0lURU1fUEFORUxfQVNQRUNUX1JBVElPOiBmdW5jdGlvbiBHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLm9wdGlvbnMuc3R5bGVJdGVtUGFuZWxBc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9JVEVNU19CWV9TVEFUVVM6IGZ1bmN0aW9uIEdFVF9JVEVNU19CWV9TVEFUVVMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zdGF0dXMgPT09IHN0YXR1cztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9UT1RBTF9JVEVNUzogZnVuY3Rpb24gR0VUX1RPVEFMX0lURU1TKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUOiBmdW5jdGlvbiBTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLm9wdGlvbnMuc3RvcmVBc0ZpbGUgJiYgY2FuVXBkYXRlRmlsZUlucHV0KCkgJiYgIWlzQXN5bmMoc3RhdGUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgSVNfQVNZTkM6IGZ1bmN0aW9uIElTX0FTWU5DKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0FzeW5jKHN0YXRlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIEdFVF9GSUxFX1NJWkVfTEFCRUxTOiBmdW5jdGlvbiBHRVRfRklMRV9TSVpFX0xBQkVMUyhxdWVyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsQnl0ZXM6IHF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9TSVpFX0JZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbEtpbG9ieXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfS0lMT0JZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbE1lZ2FieXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfTUVHQUJZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbEdpZ2FieXRlczogcXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1NJWkVfR0lHQUJZVEVTJykgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgaGFzUm9vbUZvckl0ZW0gPSBmdW5jdGlvbiBoYXNSb29tRm9ySXRlbShzdGF0ZSkge1xuICAgICAgICB2YXIgY291bnQgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcykubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIGNhbm5vdCBoYXZlIG11bHRpcGxlIGl0ZW1zLCB0byBhZGQgb25lIGl0ZW0gaXQgc2hvdWxkIGN1cnJlbnRseSBub3QgY29udGFpbiBpdGVtc1xuICAgICAgICBpZiAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvdW50ID09PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgYWxsb3dzIG11bHRpcGxlIGl0ZW1zLCB3ZSBjaGVjayBpZiBhIG1heCBpdGVtIGNvdW50IGhhcyBiZWVuIHNldCwgaWYgbm90LCB0aGVyZSdzIG5vIGxpbWl0XG4gICAgICAgIHZhciBtYXhGaWxlQ291bnQgPSBzdGF0ZS5vcHRpb25zLm1heEZpbGVzO1xuICAgICAgICBpZiAobWF4RmlsZUNvdW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlIGNoZWNrIGlmIHRoZSBjdXJyZW50IGNvdW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgbWF4IGNvdW50LCBpZiBzbywgYW5vdGhlciBmaWxlIGNhbiBzdGlsbCBiZSBhZGRlZFxuICAgICAgICBpZiAoY291bnQgPCBtYXhGaWxlQ291bnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gbW9yZSByb29tIGZvciBhbm90aGVyIGZpbGVcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB2YXIgbGltaXQgPSBmdW5jdGlvbiBsaW1pdCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKG1heCwgdmFsdWUpLCBtaW4pO1xuICAgIH07XG5cbiAgICB2YXIgYXJyYXlJbnNlcnQgPSBmdW5jdGlvbiBhcnJheUluc2VydChhcnIsIGluZGV4LCBpdGVtKSB7XG4gICAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgICB9O1xuXG4gICAgdmFyIGluc2VydEl0ZW0gPSBmdW5jdGlvbiBpbnNlcnRJdGVtKGl0ZW1zLCBpdGVtLCBpbmRleCkge1xuICAgICAgICBpZiAoaXNFbXB0eShpdGVtKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpbmRleCBpcyB1bmRlZmluZWQsIGFwcGVuZFxuICAgICAgICBpZiAodHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGltaXQgdGhlIGluZGV4IHRvIHRoZSBzaXplIG9mIHRoZSBpdGVtcyBhcnJheVxuICAgICAgICBpbmRleCA9IGxpbWl0KGluZGV4LCAwLCBpdGVtcy5sZW5ndGgpO1xuXG4gICAgICAgIC8vIGFkZCBpdGVtIHRvIGFycmF5XG4gICAgICAgIGFycmF5SW5zZXJ0KGl0ZW1zLCBpbmRleCwgaXRlbSk7XG5cbiAgICAgICAgLy8gZXhwb3NlXG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH07XG5cbiAgICB2YXIgaXNCYXNlNjREYXRhVVJJID0gZnVuY3Rpb24gaXNCYXNlNjREYXRhVVJJKHN0cikge1xuICAgICAgICByZXR1cm4gL15cXHMqZGF0YTooW2Etel0rXFwvW2EtejAtOS0rLl0rKDtbYS16LV0rPVthLXowLTktXSspPyk/KDtiYXNlNjQpPywoW2EtejAtOSEkJicsKCkqKzs9XFwtLl9+OkBcXC8/JVxcc10qKVxccyokL2kudGVzdChcbiAgICAgICAgICAgIHN0clxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RmlsZW5hbWVGcm9tVVJMID0gZnVuY3Rpb24gZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCkge1xuICAgICAgICByZXR1cm4gdXJsXG4gICAgICAgICAgICAuc3BsaXQoJy8nKVxuICAgICAgICAgICAgLnBvcCgpXG4gICAgICAgICAgICAuc3BsaXQoJz8nKVxuICAgICAgICAgICAgLnNoaWZ0KCk7XG4gICAgfTtcblxuICAgIHZhciBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUgPSBmdW5jdGlvbiBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICAgIH07XG5cbiAgICB2YXIgZ3Vlc3N0aW1hdGVFeHRlbnNpb24gPSBmdW5jdGlvbiBndWVzc3RpbWF0ZUV4dGVuc2lvbih0eXBlKSB7XG4gICAgICAgIC8vIGlmIG5vIGV4dGVuc2lvbiBzdXBwbGllZCwgZXhpdCBoZXJlXG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBzdWJ0eXBlXG4gICAgICAgIHZhciBzdWJ0eXBlID0gdHlwZS5zcGxpdCgnLycpLnBvcCgpO1xuXG4gICAgICAgIC8vIGlzIHN2ZyBzdWJ0eXBlXG4gICAgICAgIGlmICgvc3ZnLy50ZXN0KHN1YnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3N2Zyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL3ppcHxjb21wcmVzc2VkLy50ZXN0KHN1YnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3ppcCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL3BsYWluLy50ZXN0KHN1YnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3R4dCc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL21zd29yZC8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuICdkb2MnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgaXMgdmFsaWQgc3VidHlwZVxuICAgICAgICBpZiAoL1thLXpdKy8udGVzdChzdWJ0eXBlKSkge1xuICAgICAgICAgICAgLy8gYWx3YXlzIHVzZSBqcGcgZXh0ZW5zaW9uXG4gICAgICAgICAgICBpZiAoc3VidHlwZSA9PT0gJ2pwZWcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdqcGcnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZXR1cm4gc3VidHlwZVxuICAgICAgICAgICAgcmV0dXJuIHN1YnR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfTtcblxuICAgIHZhciBsZWZ0UGFkID0gZnVuY3Rpb24gbGVmdFBhZCh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFkZGluZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gICAgICAgIHJldHVybiAocGFkZGluZyArIHZhbHVlKS5zbGljZSgtcGFkZGluZy5sZW5ndGgpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RGF0ZVN0cmluZyA9IGZ1bmN0aW9uIGdldERhdGVTdHJpbmcoKSB7XG4gICAgICAgIHZhciBkYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpICtcbiAgICAgICAgICAgICctJyArXG4gICAgICAgICAgICBsZWZ0UGFkKGRhdGUuZ2V0TW9udGgoKSArIDEsICcwMCcpICtcbiAgICAgICAgICAgICctJyArXG4gICAgICAgICAgICBsZWZ0UGFkKGRhdGUuZ2V0RGF0ZSgpLCAnMDAnKSArXG4gICAgICAgICAgICAnXycgK1xuICAgICAgICAgICAgbGVmdFBhZChkYXRlLmdldEhvdXJzKCksICcwMCcpICtcbiAgICAgICAgICAgICctJyArXG4gICAgICAgICAgICBsZWZ0UGFkKGRhdGUuZ2V0TWludXRlcygpLCAnMDAnKSArXG4gICAgICAgICAgICAnLScgK1xuICAgICAgICAgICAgbGVmdFBhZChkYXRlLmdldFNlY29uZHMoKSwgJzAwJylcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGVGcm9tQmxvYiA9IGZ1bmN0aW9uIGdldEZpbGVGcm9tQmxvYihibG9iLCBmaWxlbmFtZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICAgICAgdmFyIGV4dGVuc2lvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgICAgICAgdmFyIGZpbGUgPVxuICAgICAgICAgICAgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBibG9iLnNsaWNlKDAsIGJsb2Iuc2l6ZSwgdHlwZSlcbiAgICAgICAgICAgICAgICA6IGJsb2Iuc2xpY2UoMCwgYmxvYi5zaXplLCBibG9iLnR5cGUpO1xuICAgICAgICBmaWxlLmxhc3RNb2RpZmllZERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIC8vIGNvcHkgcmVsYXRpdmUgcGF0aFxuICAgICAgICBpZiAoYmxvYi5fcmVsYXRpdmVQYXRoKSBmaWxlLl9yZWxhdGl2ZVBhdGggPSBibG9iLl9yZWxhdGl2ZVBhdGg7XG5cbiAgICAgICAgLy8gaWYgYmxvYiBoYXMgbmFtZSBwcm9wZXJ0eSwgdXNlIGFzIGZpbGVuYW1lIGlmIG5vIGZpbGVuYW1lIHN1cHBsaWVkXG4gICAgICAgIGlmICghaXNTdHJpbmcoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IGdldERhdGVTdHJpbmcoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGZpbGVuYW1lIHN1cHBsaWVkIGJ1dCBubyBleHRlbnNpb24gYW5kIGZpbGVuYW1lIGhhcyBleHRlbnNpb25cbiAgICAgICAgaWYgKGZpbGVuYW1lICYmIGV4dGVuc2lvbiA9PT0gbnVsbCAmJiBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWUoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgICBmaWxlLm5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbiB8fCBndWVzc3RpbWF0ZUV4dGVuc2lvbihmaWxlLnR5cGUpO1xuICAgICAgICAgICAgZmlsZS5uYW1lID0gZmlsZW5hbWUgKyAoZXh0ZW5zaW9uID8gJy4nICsgZXh0ZW5zaW9uIDogJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfTtcblxuICAgIHZhciBnZXRCbG9iQnVpbGRlciA9IGZ1bmN0aW9uIGdldEJsb2JCdWlsZGVyKCkge1xuICAgICAgICByZXR1cm4gKHdpbmRvdy5CbG9iQnVpbGRlciA9XG4gICAgICAgICAgICB3aW5kb3cuQmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgICAgIHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlciB8fFxuICAgICAgICAgICAgd2luZG93Lk1vekJsb2JCdWlsZGVyIHx8XG4gICAgICAgICAgICB3aW5kb3cuTVNCbG9iQnVpbGRlcik7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVCbG9iID0gZnVuY3Rpb24gY3JlYXRlQmxvYihhcnJheUJ1ZmZlciwgbWltZVR5cGUpIHtcbiAgICAgICAgdmFyIEJCID0gZ2V0QmxvYkJ1aWxkZXIoKTtcblxuICAgICAgICBpZiAoQkIpIHtcbiAgICAgICAgICAgIHZhciBiYiA9IG5ldyBCQigpO1xuICAgICAgICAgICAgYmIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICAgIHJldHVybiBiYi5nZXRCbG9iKG1pbWVUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQmxvYihbYXJyYXlCdWZmZXJdLCB7XG4gICAgICAgICAgICB0eXBlOiBtaW1lVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUgPSBmdW5jdGlvbiBnZXRCbG9iRnJvbUJ5dGVTdHJpbmdXaXRoTWltZVR5cGUoXG4gICAgICAgIGJ5dGVTdHJpbmcsXG4gICAgICAgIG1pbWVUeXBlXG4gICAgKSB7XG4gICAgICAgIHZhciBhYiA9IG5ldyBBcnJheUJ1ZmZlcihieXRlU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgIHZhciBpYSA9IG5ldyBVaW50OEFycmF5KGFiKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUJsb2IoYWIsIG1pbWVUeXBlKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpIHtcbiAgICAgICAgcmV0dXJuICgvXmRhdGE6KC4rKTsvLmV4ZWMoZGF0YVVSSSkgfHwgW10pWzFdIHx8IG51bGw7XG4gICAgfTtcblxuICAgIHZhciBnZXRCYXNlNjREYXRhRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRCYXNlNjREYXRhRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkge1xuICAgICAgICAvLyBnZXQgZGF0YSBwYXJ0IG9mIHN0cmluZyAocmVtb3ZlIGRhdGE6aW1hZ2UvanBlZy4uLiwpXG4gICAgICAgIHZhciBkYXRhID0gZGF0YVVSSS5zcGxpdCgnLCcpWzFdO1xuXG4gICAgICAgIC8vIHJlbW92ZSBhbnkgd2hpdGVzcGFjZSBhcyB0aGF0IGNhdXNlcyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IgaW4gSUVcbiAgICAgICAgcmV0dXJuIGRhdGEucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSSA9IGZ1bmN0aW9uIGdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSB7XG4gICAgICAgIHJldHVybiBhdG9iKGdldEJhc2U2NERhdGFGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkgPSBmdW5jdGlvbiBnZXRCbG9iRnJvbUJhc2U2NERhdGFVUkkoZGF0YVVSSSkge1xuICAgICAgICB2YXIgbWltZVR5cGUgPSBnZXRNaW1lVHlwZUZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpO1xuICAgICAgICB2YXIgYnl0ZVN0cmluZyA9IGdldEJ5dGVTdHJpbmdGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJKTtcblxuICAgICAgICByZXR1cm4gZ2V0QmxvYkZyb21CeXRlU3RyaW5nV2l0aE1pbWVUeXBlKGJ5dGVTdHJpbmcsIG1pbWVUeXBlKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSSA9IGZ1bmN0aW9uIGdldEZpbGVGcm9tQmFzZTY0RGF0YVVSSShkYXRhVVJJLCBmaWxlbmFtZSwgZXh0ZW5zaW9uKSB7XG4gICAgICAgIHJldHVybiBnZXRGaWxlRnJvbUJsb2IoZ2V0QmxvYkZyb21CYXNlNjREYXRhVVJJKGRhdGFVUkkpLCBmaWxlbmFtZSwgbnVsbCwgZXh0ZW5zaW9uKTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGVOYW1lRnJvbUhlYWRlciA9IGZ1bmN0aW9uIGdldEZpbGVOYW1lRnJvbUhlYWRlcihoZWFkZXIpIHtcbiAgICAgICAgLy8gdGVzdCBpZiBpcyBjb250ZW50IGRpc3Bvc2l0aW9uIGhlYWRlciwgaWYgbm90IGV4aXRcbiAgICAgICAgaWYgKCEvXmNvbnRlbnQtZGlzcG9zaXRpb246L2kudGVzdChoZWFkZXIpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBnZXQgZmlsZW5hbWUgcGFydHNcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBoZWFkZXJcbiAgICAgICAgICAgIC5zcGxpdCgvZmlsZW5hbWU9fGZpbGVuYW1lXFwqPS4rJycvKVxuICAgICAgICAgICAgLnNwbGljZSgxKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUudHJpbSgpLnJlcGxhY2UoL15bXCInXXxbO1wiJ117MCwyfSQvZywgJycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lLmxlbmd0aDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBtYXRjaGVzLmxlbmd0aCA/IGRlY29kZVVSSShtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0pIDogbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGVTaXplRnJvbUhlYWRlciA9IGZ1bmN0aW9uIGdldEZpbGVTaXplRnJvbUhlYWRlcihoZWFkZXIpIHtcbiAgICAgICAgaWYgKC9jb250ZW50LWxlbmd0aDovaS50ZXN0KGhlYWRlcikpIHtcbiAgICAgICAgICAgIHZhciBzaXplID0gaGVhZGVyLm1hdGNoKC9bMC05XSsvKVswXTtcbiAgICAgICAgICAgIHJldHVybiBzaXplID8gcGFyc2VJbnQoc2l6ZSwgMTApIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGdldFRyYW5mc2VySWRGcm9tSGVhZGVyID0gZnVuY3Rpb24gZ2V0VHJhbmZzZXJJZEZyb21IZWFkZXIoaGVhZGVyKSB7XG4gICAgICAgIGlmICgveC1jb250ZW50LXRyYW5zZmVyLWlkOi9pLnRlc3QoaGVhZGVyKSkge1xuICAgICAgICAgICAgdmFyIGlkID0gKGhlYWRlci5zcGxpdCgnOicpWzFdIHx8ICcnKS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gaWQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGVJbmZvRnJvbUhlYWRlcnMgPSBmdW5jdGlvbiBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpIHtcbiAgICAgICAgdmFyIGluZm8gPSB7XG4gICAgICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICAgICAgc2l6ZTogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcm93cyA9IGhlYWRlcnMuc3BsaXQoJ1xcbicpO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSByb3dzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7XG4gICAgICAgICAgICAgICAgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXIgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gZ2V0RmlsZU5hbWVGcm9tSGVhZGVyKGhlYWRlcik7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5mby5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSBnZXRGaWxlU2l6ZUZyb21IZWFkZXIoaGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnNpemUgPSBzaXplO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gZ2V0VHJhbmZzZXJJZEZyb21IZWFkZXIoaGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRmlsZUxvYWRlciA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVMb2FkZXIoZmV0Y2hGbikge1xuICAgICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICAgIHNpemU6IG51bGwsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICBkdXJhdGlvbjogMCxcbiAgICAgICAgICAgIHJlcXVlc3Q6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldFByb2dyZXNzID0gZnVuY3Rpb24gZ2V0UHJvZ3Jlc3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUucHJvZ3Jlc3M7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBhYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlLnJlcXVlc3QgJiYgc3RhdGUucmVxdWVzdC5hYm9ydCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLnJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBsb2FkIHNvdXJjZVxuICAgICAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICAgICAgICAvLyBnZXQgcXVpY2sgcmVmZXJlbmNlXG4gICAgICAgICAgICB2YXIgc291cmNlID0gc3RhdGUuc291cmNlO1xuXG4gICAgICAgICAgICBhcGkuZmlyZSgnaW5pdCcsIHNvdXJjZSk7XG5cbiAgICAgICAgICAgIC8vIExvYWQgRmlsZXNcbiAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2xvYWQnLCBzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9hZCBibG9icywgc2V0IGRlZmF1bHQgbmFtZSB0byBjdXJyZW50IGRhdGVcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgnbG9hZCcsIGdldEZpbGVGcm9tQmxvYihzb3VyY2UsIHNvdXJjZS5uYW1lKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQmFzZTY0RGF0YVVSSShzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9hZCBiYXNlIDY0LCBzZXQgZGVmYXVsdCBuYW1lIHRvIGN1cnJlbnQgZGF0ZVxuICAgICAgICAgICAgICAgIGFwaS5maXJlKCdsb2FkJywgZ2V0RmlsZUZyb21CYXNlNjREYXRhVVJJKHNvdXJjZSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEZWFsIGFzIGlmIGlzIGV4dGVybmFsIFVSTCwgbGV0J3MgbG9hZCBpdCFcbiAgICAgICAgICAgICAgICBsb2FkVVJMKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbG9hZHMgYSB1cmxcbiAgICAgICAgdmFyIGxvYWRVUkwgPSBmdW5jdGlvbiBsb2FkVVJMKHVybCkge1xuICAgICAgICAgICAgLy8gaXMgcmVtb3RlIHVybCBhbmQgbm8gZmV0Y2ggbWV0aG9kIHN1cHBsaWVkXG4gICAgICAgICAgICBpZiAoIWZldGNoRm4pIHtcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgnZXJyb3InLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IFwiQ2FuJ3QgbG9hZCBVUkxcIixcbiAgICAgICAgICAgICAgICAgICAgY29kZTogNDAwLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZXQgcmVxdWVzdCBzdGFydFxuICAgICAgICAgICAgc3RhdGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gbG9hZCBmaWxlXG4gICAgICAgICAgICBzdGF0ZS5yZXF1ZXN0ID0gZmV0Y2hGbihcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdHVybiBibG9iIHJlc3BvbnNlIGludG8gYSBmaWxlXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gZ2V0RmlsZUZyb21CbG9iKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBhcGkuZmlyZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGhhcyByZWNlaXZlZCBibG9iLCB3ZSBnbyB3aXRoIGJsb2IsIGlmIG5vIHJlc3BvbnNlLCB3ZSByZXR1cm4gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgaW5zdGFuY2VvZiBCbG9iID8gcmVzcG9uc2UgOiByZXNwb25zZSA/IHJlc3BvbnNlLmJvZHkgOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhcGkuZmlyZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNvbXB1dGFibGUsIGN1cnJlbnQsIHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbGxlY3RlZCBzb21lIG1ldGEgZGF0YSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2l6ZSA9IHRvdGFsO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXRlLnRpbWVzdGFtcDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBjYW4ndCBjb21wdXRlIHByb2dyZXNzLCB3ZSdyZSBub3QgZ29pbmcgdG8gZmlyZSBwcm9ncmVzcyBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb21wdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgcHJvZ3Jlc3MgcGVyY2VudGFnZVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IGN1cnJlbnQgLyB0b3RhbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBleHBvc2VcbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoJ3Byb2dyZXNzJywgc3RhdGUucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKCdhYm9ydCcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVpbmZvID0gZ2V0RmlsZUluZm9Gcm9tSGVhZGVycyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZSA9PT0gJ3N0cmluZycgPyByZXNwb25zZSA6IHJlc3BvbnNlLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoJ21ldGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBzdGF0ZS5zaXplIHx8IGZpbGVpbmZvLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZmlsZWluZm8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZmlsZWluZm8uc291cmNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcGkgPSBPYmplY3QuYXNzaWduKHt9LCBvbigpLCB7XG4gICAgICAgICAgICBzZXRTb3VyY2U6IGZ1bmN0aW9uIHNldFNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHN0YXRlLnNvdXJjZSA9IHNvdXJjZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UHJvZ3Jlc3M6IGdldFByb2dyZXNzLCAvLyBmaWxlIGxvYWQgcHJvZ3Jlc3NcbiAgICAgICAgICAgIGFib3J0OiBhYm9ydCwgLy8gYWJvcnQgZmlsZSBsb2FkXG4gICAgICAgICAgICBsb2FkOiBsb2FkLCAvLyBzdGFydCBsb2FkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhcGk7XG4gICAgfTtcblxuICAgIHZhciBpc0dldCA9IGZ1bmN0aW9uIGlzR2V0KG1ldGhvZCkge1xuICAgICAgICByZXR1cm4gL0dFVHxIRUFELy50ZXN0KG1ldGhvZCk7XG4gICAgfTtcblxuICAgIHZhciBzZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KGRhdGEsIHVybCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgYXBpID0ge1xuICAgICAgICAgICAgb25oZWFkZXJzOiBmdW5jdGlvbiBvbmhlYWRlcnMoKSB7fSxcbiAgICAgICAgICAgIG9ucHJvZ3Jlc3M6IGZ1bmN0aW9uIG9ucHJvZ3Jlc3MoKSB7fSxcbiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKCkge30sXG4gICAgICAgICAgICBvbnRpbWVvdXQ6IGZ1bmN0aW9uIG9udGltZW91dCgpIHt9LFxuICAgICAgICAgICAgb25lcnJvcjogZnVuY3Rpb24gb25lcnJvcigpIHt9LFxuICAgICAgICAgICAgb25hYm9ydDogZnVuY3Rpb24gb25hYm9ydCgpIHt9LFxuICAgICAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgICAgICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB0aW1lb3V0IGlkZW50aWZpZXIsIG9ubHkgdXNlZCB3aGVuIHRpbWVvdXQgaXMgZGVmaW5lZFxuICAgICAgICB2YXIgYWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgaGVhZGVyc1JlY2VpdmVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBlbmNvZGUgdXJsXG4gICAgICAgIHVybCA9IGVuY29kZVVSSSh1cmwpO1xuXG4gICAgICAgIC8vIGlmIG1ldGhvZCBpcyBHRVQsIGFkZCBhbnkgcmVjZWl2ZWQgZGF0YSB0byB1cmxcblxuICAgICAgICBpZiAoaXNHZXQob3B0aW9ucy5tZXRob2QpICYmIGRhdGEpIHtcbiAgICAgICAgICAgIHVybCA9XG4gICAgICAgICAgICAgICAgJycgK1xuICAgICAgICAgICAgICAgIHVybCArXG4gICAgICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgcmVxdWVzdFxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gcHJvZ3Jlc3Mgb2YgbG9hZFxuICAgICAgICB2YXIgcHJvY2VzcyA9IGlzR2V0KG9wdGlvbnMubWV0aG9kKSA/IHhociA6IHhoci51cGxvYWQ7XG4gICAgICAgIHByb2Nlc3Mub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vIG5vIHByb2dyZXNzIGV2ZW50IHdoZW4gYWJvcnRlZCAoIG9ucHJvZ3Jlc3MgaXMgY2FsbGVkIG9uY2UgYWZ0ZXIgYWJvcnQoKSApXG4gICAgICAgICAgICBpZiAoYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXBpLm9ucHJvZ3Jlc3MoZS5sZW5ndGhDb21wdXRhYmxlLCBlLmxvYWRlZCwgZS50b3RhbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdHJpZXMgdG8gZ2V0IGhlYWRlciBpbmZvIHRvIHRoZSBhcHAgYXMgZmFzdCBhcyBwb3NzaWJsZVxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBub3QgaW50ZXJlc3RpbmcgaW4gdGhlc2Ugc3RhdGVzICgndW5zZW50JyBhbmQgJ29wZW5lbmQnIGFzIHRoZXkgZG9uJ3QgZ2l2ZSB1cyBhbnkgYWRkaXRpb25hbCBpbmZvKVxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlIDwgMikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm8gc2VydmVyIHJlc3BvbnNlXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQgJiYgeGhyLnN0YXR1cyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhlYWRlcnNSZWNlaXZlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGVhZGVyc1JlY2VpdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gd2UndmUgcHJvYmFibHkgcmVjZWl2ZWQgc29tZSB1c2VmdWwgZGF0YSBpbiByZXNwb25zZSBoZWFkZXJzXG4gICAgICAgICAgICBhcGkub25oZWFkZXJzKHhocik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gbG9hZCBzdWNjZXNzZnVsXG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGlzIGNsYXNzaWZpZWQgYXMgdmFsaWQgcmVzcG9uc2VcbiAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICAgICAgYXBpLm9ubG9hZCh4aHIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcGkub25lcnJvcih4aHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGVycm9yIGR1cmluZyBsb2FkXG4gICAgICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLm9uZXJyb3IoeGhyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyByZXF1ZXN0IGFib3J0ZWRcbiAgICAgICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgYXBpLm9uYWJvcnQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyByZXF1ZXN0IHRpbWVvdXRcbiAgICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5vbnRpbWVvdXQoeGhyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBvcGVuIHVwIG9wZW4gdXAhXG4gICAgICAgIHhoci5vcGVuKG9wdGlvbnMubWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIHNldCB0aW1lb3V0IGlmIGRlZmluZWQgKGRvIGl0IGFmdGVyIG9wZW4gc28gSUUxMSBwbGF5cyBiYWxsKVxuICAgICAgICBpZiAoaXNJbnQob3B0aW9ucy50aW1lb3V0KSkge1xuICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgaGVhZGVyc1xuICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLmhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQob3B0aW9ucy5oZWFkZXJzW2tleV0pKTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZXQgdHlwZSBvZiByZXNwb25zZVxuICAgICAgICBpZiAob3B0aW9ucy5yZXNwb25zZVR5cGUpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBvcHRpb25zLnJlc3BvbnNlVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBjcmVkZW50aWFsc1xuICAgICAgICBpZiAob3B0aW9ucy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0J3Mgc2VuZCBvdXIgZGF0YVxuICAgICAgICB4aHIuc2VuZChkYXRhKTtcblxuICAgICAgICByZXR1cm4gYXBpO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlUmVzcG9uc2UgPSBmdW5jdGlvbiBjcmVhdGVSZXNwb25zZSh0eXBlLCBjb2RlLCBib2R5LCBoZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlVGltZW91dFJlc3BvbnNlID0gZnVuY3Rpb24gY3JlYXRlVGltZW91dFJlc3BvbnNlKGNiKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgIGNiKGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdUaW1lb3V0JywgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBoYXNRUyA9IGZ1bmN0aW9uIGhhc1FTKHN0cikge1xuICAgICAgICByZXR1cm4gL1xcPy8udGVzdChzdHIpO1xuICAgIH07XG4gICAgdmFyIGJ1aWxkVVJMID0gZnVuY3Rpb24gYnVpbGRVUkwoKSB7XG4gICAgICAgIHZhciB1cmwgPSAnJztcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcnRzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgcGFydHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMuZm9yRWFjaChmdW5jdGlvbihwYXJ0KSB7XG4gICAgICAgICAgICB1cmwgKz0gaGFzUVModXJsKSAmJiBoYXNRUyhwYXJ0KSA/IHBhcnQucmVwbGFjZSgvXFw/LywgJyYnKSA6IHBhcnQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRmV0Y2hGdW5jdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZUZldGNoRnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcGlVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIC8vIGN1c3RvbSBoYW5kbGVyIChzaG91bGQgYWxzbyBoYW5kbGUgZmlsZSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzIGFuZCBhYm9ydClcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBhY3Rpb24gc3VwcGxpZWRcbiAgICAgICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBvbmxvYWQgaGFubGRlclxuICAgICAgICB2YXIgb25sb2FkID1cbiAgICAgICAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgICAgICBhY3Rpb24ub25lcnJvciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIGludGVybmFsIGhhbmRsZXJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHVybCwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgaGVhZGVycykge1xuICAgICAgICAgICAgLy8gZG8gbG9jYWwgb3IgcmVtb3RlIHJlcXVlc3QgYmFzZWQgb24gaWYgdGhlIHVybCBpcyBleHRlcm5hbFxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChcbiAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgYnVpbGRVUkwoYXBpVXJsLCBhY3Rpb24udXJsKSxcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24sIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYmxvYicsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IGhlYWRlcnNcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcblxuICAgICAgICAgICAgICAgIC8vIGdldCBmaWxlbmFtZVxuICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9IGdldEZpbGVJbmZvRnJvbUhlYWRlcnMoaGVhZGVycykubmFtZSB8fCBnZXRGaWxlbmFtZUZyb21VUkwodXJsKTtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSByZXNwb25zZVxuICAgICAgICAgICAgICAgIGxvYWQoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xvYWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5tZXRob2QgPT09ICdIRUFEJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZ2V0RmlsZUZyb21CbG9iKG9ubG9hZCh4aHIucmVzcG9uc2UpLCBmaWxlbmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uaGVhZGVycyA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMoY3JlYXRlUmVzcG9uc2UoJ2hlYWRlcnMnLCB4aHIuc3RhdHVzLCBudWxsLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gY3JlYXRlVGltZW91dFJlc3BvbnNlKGVycm9yKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgcmVxdWVzdC5vbmFib3J0ID0gYWJvcnQ7XG5cbiAgICAgICAgICAgIC8vIHNob3VsZCByZXR1cm4gcmVxdWVzdFxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBDaHVua1N0YXR1cyA9IHtcbiAgICAgICAgUVVFVUVEOiAwLFxuICAgICAgICBDT01QTEVURTogMSxcbiAgICAgICAgUFJPQ0VTU0lORzogMixcbiAgICAgICAgRVJST1I6IDMsXG4gICAgICAgIFdBSVRJTkc6IDQsXG4gICAgfTtcblxuICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlciwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYm9ydDooKSA9PiB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgLy8gYXBpVXJsLCBhY3Rpb24sIG5hbWUsIGZpbGUsIG1ldGFkYXRhLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MsIGFib3J0LCB0cmFuc2Zlciwgb3B0aW9uc1xuICAgIHZhciBwcm9jZXNzRmlsZUNodW5rZWQgPSBmdW5jdGlvbiBwcm9jZXNzRmlsZUNodW5rZWQoXG4gICAgICAgIGFwaVVybCxcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBuYW1lLFxuICAgICAgICBmaWxlLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgbG9hZCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHByb2dyZXNzLFxuICAgICAgICBhYm9ydCxcbiAgICAgICAgdHJhbnNmZXIsXG4gICAgICAgIG9wdGlvbnNcbiAgICApIHtcbiAgICAgICAgLy8gYWxsIGNodW5rc1xuICAgICAgICB2YXIgY2h1bmtzID0gW107XG4gICAgICAgIHZhciBjaHVua1RyYW5zZmVySWQgPSBvcHRpb25zLmNodW5rVHJhbnNmZXJJZCxcbiAgICAgICAgICAgIGNodW5rU2VydmVyID0gb3B0aW9ucy5jaHVua1NlcnZlcixcbiAgICAgICAgICAgIGNodW5rU2l6ZSA9IG9wdGlvbnMuY2h1bmtTaXplLFxuICAgICAgICAgICAgY2h1bmtSZXRyeURlbGF5cyA9IG9wdGlvbnMuY2h1bmtSZXRyeURlbGF5cztcblxuICAgICAgICAvLyBkZWZhdWx0IHN0YXRlXG4gICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlcnZlcklkOiBjaHVua1RyYW5zZmVySWQsXG4gICAgICAgICAgICBhYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZXQgb25sb2FkIGhhbmRsZXJzXG4gICAgICAgIHZhciBvbmRhdGEgPVxuICAgICAgICAgICAgYWN0aW9uLm9uZGF0YSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24oZmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB2YXIgb25sb2FkID1cbiAgICAgICAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHhociwgbWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZCA9PT0gJ0hFQUQnID8geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdVcGxvYWQtT2Zmc2V0JykgOiB4aHIucmVzcG9uc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgICAgICBhY3Rpb24ub25lcnJvciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNyZWF0ZSBzZXJ2ZXIgaG9va1xuICAgICAgICB2YXIgcmVxdWVzdFRyYW5zZmVySWQgPSBmdW5jdGlvbiByZXF1ZXN0VHJhbnNmZXJJZChjYikge1xuICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBtZXRhZGF0YSB1bmRlciBzYW1lIG5hbWVcbiAgICAgICAgICAgIGlmIChpc09iamVjdChtZXRhZGF0YSkpIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBKU09OLnN0cmluZ2lmeShtZXRhZGF0YSkpO1xuXG4gICAgICAgICAgICB2YXIgaGVhZGVycyA9XG4gICAgICAgICAgICAgICAgdHlwZW9mIGFjdGlvbi5oZWFkZXJzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gYWN0aW9uLmhlYWRlcnMoZmlsZSwgbWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLmhlYWRlcnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1MZW5ndGgnOiBmaWxlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciByZXF1ZXN0UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgYWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICAgICAgICAgIG9uZGF0YShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgYnVpbGRVUkwoYXBpVXJsLCBhY3Rpb24udXJsKSxcbiAgICAgICAgICAgICAgICByZXF1ZXN0UGFyYW1zXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYihvbmxvYWQoeGhyLCByZXF1ZXN0UGFyYW1zLm1ldGhvZCkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByZXF1ZXN0VHJhbnNmZXJPZmZzZXQgPSBmdW5jdGlvbiByZXF1ZXN0VHJhbnNmZXJPZmZzZXQoY2IpIHtcbiAgICAgICAgICAgIHZhciByZXF1ZXN0VXJsID0gYnVpbGRVUkwoYXBpVXJsLCBjaHVua1NlcnZlci51cmwsIHN0YXRlLnNlcnZlcklkKTtcblxuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKHN0YXRlLnNlcnZlcklkKVxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oe30sIGFjdGlvbi5oZWFkZXJzKTtcblxuICAgICAgICAgICAgdmFyIHJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdIRUFEJyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gc2VuZFJlcXVlc3QobnVsbCwgcmVxdWVzdFVybCwgcmVxdWVzdFBhcmFtcyk7XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNiKG9ubG9hZCh4aHIsIHJlcXVlc3RQYXJhbXMubWV0aG9kKSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJlc3BvbnNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yKHhoci5yZXNwb25zZSkgfHwgeGhyLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gY3JlYXRlIGNodW5rc1xuICAgICAgICB2YXIgbGFzdENodW5rSW5kZXggPSBNYXRoLmZsb29yKGZpbGUuc2l6ZSAvIGNodW5rU2l6ZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxhc3RDaHVua0luZGV4OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBpICogY2h1bmtTaXplO1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBmaWxlLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgY2h1bmtTaXplLCAnYXBwbGljYXRpb24vb2Zmc2V0K29jdGV0LXN0cmVhbScpO1xuICAgICAgICAgICAgY2h1bmtzW2ldID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgICAgIHNpemU6IGRhdGEuc2l6ZSxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIGZpbGU6IGZpbGUsXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgICAgICAgICAgcmV0cmllczogX3RvQ29uc3VtYWJsZUFycmF5KGNodW5rUmV0cnlEZWxheXMpLFxuICAgICAgICAgICAgICAgIHN0YXR1czogQ2h1bmtTdGF0dXMuUVVFVUVELFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IG51bGwsXG4gICAgICAgICAgICAgICAgdGltZW91dDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29tcGxldGVQcm9jZXNzaW5nQ2h1bmtzID0gZnVuY3Rpb24gY29tcGxldGVQcm9jZXNzaW5nQ2h1bmtzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvYWQoc3RhdGUuc2VydmVySWQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjYW5Qcm9jZXNzQ2h1bmsgPSBmdW5jdGlvbiBjYW5Qcm9jZXNzQ2h1bmsoY2h1bmspIHtcbiAgICAgICAgICAgIHJldHVybiBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLlFVRVVFRCB8fCBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLkVSUk9SO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwcm9jZXNzQ2h1bmsgPSBmdW5jdGlvbiBwcm9jZXNzQ2h1bmsoY2h1bmspIHtcbiAgICAgICAgICAgIC8vIHByb2Nlc3NpbmcgaXMgcGF1c2VkLCB3YWl0IGhlcmVcbiAgICAgICAgICAgIGlmIChzdGF0ZS5hYm9ydGVkKSByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIGdldCBuZXh0IGNodW5rIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGNodW5rID0gY2h1bmsgfHwgY2h1bmtzLmZpbmQoY2FuUHJvY2Vzc0NodW5rKTtcblxuICAgICAgICAgICAgLy8gbm8gbW9yZSBjaHVua3MgdG8gcHJvY2Vzc1xuICAgICAgICAgICAgaWYgKCFjaHVuaykge1xuICAgICAgICAgICAgICAgIC8vIGFsbCBkb25lP1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtzLmV2ZXJ5KGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2h1bmsuc3RhdHVzID09PSBDaHVua1N0YXR1cy5DT01QTEVURTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGVQcm9jZXNzaW5nQ2h1bmtzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbm8gY2h1bmsgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBub3cgcHJvY2Vzc2luZyB0aGlzIGNodW5rXG4gICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5QUk9DRVNTSU5HO1xuICAgICAgICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBhbGxvdyBwYXJzaW5nIG9mIGZvcm1kYXRhXG4gICAgICAgICAgICB2YXIgb25kYXRhID1cbiAgICAgICAgICAgICAgICBjaHVua1NlcnZlci5vbmRhdGEgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihmZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBvbmVycm9yID1cbiAgICAgICAgICAgICAgICBjaHVua1NlcnZlci5vbmVycm9yIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNlbmQgcmVxdWVzdCBvYmplY3RcbiAgICAgICAgICAgIHZhciByZXF1ZXN0VXJsID0gYnVpbGRVUkwoYXBpVXJsLCBjaHVua1NlcnZlci51cmwsIHN0YXRlLnNlcnZlcklkKTtcblxuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBjaHVua1NlcnZlci5oZWFkZXJzID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gY2h1bmtTZXJ2ZXIuaGVhZGVycyhjaHVuaylcbiAgICAgICAgICAgICAgICAgICAgOiBPYmplY3QuYXNzaWduKHt9LCBjaHVua1NlcnZlci5oZWFkZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2Zmc2V0K29jdGV0LXN0cmVhbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdVcGxvYWQtT2Zmc2V0JzogY2h1bmsub2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnVXBsb2FkLUxlbmd0aCc6IGZpbGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VwbG9hZC1OYW1lJzogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IChjaHVuay5yZXF1ZXN0ID0gc2VuZFJlcXVlc3QoXG4gICAgICAgICAgICAgICAgb25kYXRhKGNodW5rLmRhdGEpLFxuICAgICAgICAgICAgICAgIHJlcXVlc3RVcmwsXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgY2h1bmtTZXJ2ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gZG9uZSFcbiAgICAgICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5DT01QTEVURTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSByZXF1ZXN0IHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcHJvY2Vzc2luZyBtb3JlIGNodW5rc1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDaHVua3MoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IGZ1bmN0aW9uKGxlbmd0aENvbXB1dGFibGUsIGxvYWRlZCwgdG90YWwpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5wcm9ncmVzcyA9IGxlbmd0aENvbXB1dGFibGUgPyBsb2FkZWQgOiBudWxsO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVRvdGFsUHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkVSUk9SO1xuICAgICAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGNodW5rLmVycm9yID0gb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0O1xuICAgICAgICAgICAgICAgIGlmICghcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmVzcG9uc2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZXJyb3IoeGhyLnJlc3BvbnNlKSB8fCB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkVSUk9SO1xuICAgICAgICAgICAgICAgIGNodW5rLnJlcXVlc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcikoeGhyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5RVUVVRUQ7XG4gICAgICAgICAgICAgICAgY2h1bmsucmVxdWVzdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWJvcnQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJldHJ5UHJvY2Vzc0NodW5rID0gZnVuY3Rpb24gcmV0cnlQcm9jZXNzQ2h1bmsoY2h1bmspIHtcbiAgICAgICAgICAgIC8vIG5vIG1vcmUgcmV0cmllcyBsZWZ0XG4gICAgICAgICAgICBpZiAoY2h1bmsucmV0cmllcy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgLy8gbmV3IHJldHJ5XG4gICAgICAgICAgICBjaHVuay5zdGF0dXMgPSBDaHVua1N0YXR1cy5XQUlUSU5HO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNodW5rLnRpbWVvdXQpO1xuICAgICAgICAgICAgY2h1bmsudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0NodW5rKGNodW5rKTtcbiAgICAgICAgICAgIH0sIGNodW5rLnJldHJpZXMuc2hpZnQoKSk7XG5cbiAgICAgICAgICAgIC8vIHdlJ3JlIGdvaW5nIHRvIHJldHJ5XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdXBkYXRlVG90YWxQcm9ncmVzcyA9IGZ1bmN0aW9uIHVwZGF0ZVRvdGFsUHJvZ3Jlc3MoKSB7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgdG90YWwgcHJvZ3Jlc3MgZnJhY3Rpb25cbiAgICAgICAgICAgIHZhciB0b3RhbEJ5dGVzVHJhbnNmZXJlZCA9IGNodW5rcy5yZWR1Y2UoZnVuY3Rpb24ocCwgY2h1bmspIHtcbiAgICAgICAgICAgICAgICBpZiAocCA9PT0gbnVsbCB8fCBjaHVuay5wcm9ncmVzcyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAgKyBjaHVuay5wcm9ncmVzcztcbiAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICAvLyBjYW4ndCBjb21wdXRlIHByb2dyZXNzXG4gICAgICAgICAgICBpZiAodG90YWxCeXRlc1RyYW5zZmVyZWQgPT09IG51bGwpIHJldHVybiBwcm9ncmVzcyhmYWxzZSwgMCwgMCk7XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBwcm9ncmVzcyB2YWx1ZXNcbiAgICAgICAgICAgIHZhciB0b3RhbFNpemUgPSBjaHVua3MucmVkdWNlKGZ1bmN0aW9uKHRvdGFsLCBjaHVuaykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b3RhbCArIGNodW5rLnNpemU7XG4gICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgLy8gY2FuIHVwZGF0ZSBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgICAgICAgIHByb2dyZXNzKHRydWUsIHRvdGFsQnl0ZXNUcmFuc2ZlcmVkLCB0b3RhbFNpemUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHByb2Nlc3MgbmV3IGNodW5rc1xuICAgICAgICB2YXIgcHJvY2Vzc0NodW5rcyA9IGZ1bmN0aW9uIHByb2Nlc3NDaHVua3MoKSB7XG4gICAgICAgICAgICB2YXIgdG90YWxQcm9jZXNzaW5nID0gY2h1bmtzLmZpbHRlcihmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaHVuay5zdGF0dXMgPT09IENodW5rU3RhdHVzLlBST0NFU1NJTkc7XG4gICAgICAgICAgICB9KS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAodG90YWxQcm9jZXNzaW5nID49IDEpIHJldHVybjtcbiAgICAgICAgICAgIHByb2Nlc3NDaHVuaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhYm9ydENodW5rcyA9IGZ1bmN0aW9uIGFib3J0Q2h1bmtzKCkge1xuICAgICAgICAgICAgY2h1bmtzLmZvckVhY2goZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY2h1bmsudGltZW91dCk7XG4gICAgICAgICAgICAgICAgaWYgKGNodW5rLnJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGxldCdzIGdvIVxuICAgICAgICBpZiAoIXN0YXRlLnNlcnZlcklkKSB7XG4gICAgICAgICAgICByZXF1ZXN0VHJhbnNmZXJJZChmdW5jdGlvbihzZXJ2ZXJJZCkge1xuICAgICAgICAgICAgICAgIC8vIHN0b3AgaGVyZSBpZiBhYm9ydGVkLCBtaWdodCBoYXZlIGhhcHBlbmVkIGluIGJldHdlZW4gcmVxdWVzdCBhbmQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gcGFzcyBiYWNrIHRvIGl0ZW0gc28gd2UgY2FuIHVzZSBpdCBpZiBzb21ldGhpbmcgZ29lcyB3cm9uZ1xuICAgICAgICAgICAgICAgIHRyYW5zZmVyKHNlcnZlcklkKTtcblxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIGludGVybmFsbHlcbiAgICAgICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJJZCA9IHNlcnZlcklkO1xuICAgICAgICAgICAgICAgIHByb2Nlc3NDaHVua3MoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdFRyYW5zZmVyT2Zmc2V0KGZ1bmN0aW9uKG9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIHN0b3AgaGVyZSBpZiBhYm9ydGVkLCBtaWdodCBoYXZlIGhhcHBlbmVkIGluIGJldHdlZW4gcmVxdWVzdCBhbmQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuYWJvcnRlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gbWFyayBjaHVua3Mgd2l0aCBsb3dlciBvZmZzZXQgYXMgY29tcGxldGVcbiAgICAgICAgICAgICAgICBjaHVua3NcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNodW5rLm9mZnNldCA8IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLnN0YXR1cyA9IENodW5rU3RhdHVzLkNPTVBMRVRFO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmsucHJvZ3Jlc3MgPSBjaHVuay5zaXplO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ2h1bmtzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhYm9ydDogZnVuY3Rpb24gYWJvcnQoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYWJvcnRDaHVua3MoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaWduYXR1cmU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmaWxlLCBtZXRhZGF0YSwgbG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJvcnQ6KCkgPT4ge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICB2YXIgY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uID0gZnVuY3Rpb24gY3JlYXRlRmlsZVByb2Nlc3NvckZ1bmN0aW9uKFxuICAgICAgICBhcGlVcmwsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgbmFtZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZmlsZSwgbWV0YWRhdGEsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIHRyYW5zZmVyKSB7XG4gICAgICAgICAgICAvLyBubyBmaWxlIHJlY2VpdmVkXG4gICAgICAgICAgICBpZiAoIWZpbGUpIHJldHVybjtcblxuICAgICAgICAgICAgLy8gaWYgd2FzIHBhc3NlZCBhIGZpbGUsIGFuZCB3ZSBjYW4gY2h1bmsgaXQsIGV4aXQgaGVyZVxuICAgICAgICAgICAgdmFyIGNhbkNodW5rVXBsb2FkID0gb3B0aW9ucy5jaHVua1VwbG9hZHM7XG4gICAgICAgICAgICB2YXIgc2hvdWxkQ2h1bmtVcGxvYWQgPSBjYW5DaHVua1VwbG9hZCAmJiBmaWxlLnNpemUgPiBvcHRpb25zLmNodW5rU2l6ZTtcbiAgICAgICAgICAgIHZhciB3aWxsQ2h1bmtVcGxvYWQgPSBjYW5DaHVua1VwbG9hZCAmJiAoc2hvdWxkQ2h1bmtVcGxvYWQgfHwgb3B0aW9ucy5jaHVua0ZvcmNlKTtcbiAgICAgICAgICAgIGlmIChmaWxlIGluc3RhbmNlb2YgQmxvYiAmJiB3aWxsQ2h1bmtVcGxvYWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NGaWxlQ2h1bmtlZChcbiAgICAgICAgICAgICAgICAgICAgYXBpVXJsLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGZpbGUsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICBsb2FkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgIGFib3J0LFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2ZlcixcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIHNldCBoYW5kbGVyc1xuICAgICAgICAgICAgdmFyIG9uZGF0YSA9XG4gICAgICAgICAgICAgICAgYWN0aW9uLm9uZGF0YSB8fFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGZkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG9ubG9hZCA9XG4gICAgICAgICAgICAgICAgYWN0aW9uLm9ubG9hZCB8fFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgICAgICAgICAgYWN0aW9uLm9uZXJyb3IgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGhlYWRlcnMgPVxuICAgICAgICAgICAgICAgIHR5cGVvZiBhY3Rpb24uaGVhZGVycyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGFjdGlvbi5oZWFkZXJzKGZpbGUsIG1ldGFkYXRhKSB8fCB7fVxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbi5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdmFyIHJlcXVlc3RQYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBhY3Rpb24sIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBmb3JtZGF0YSBvYmplY3RcbiAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgICAgICAgICAvLyBhZGQgbWV0YWRhdGEgdW5kZXIgc2FtZSBuYW1lXG4gICAgICAgICAgICBpZiAoaXNPYmplY3QobWV0YWRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFR1cm4gaW50byBhbiBhcnJheSBvZiBvYmplY3RzIHNvIG5vIG1hdHRlciB3aGF0IHRoZSBpbnB1dCwgd2UgY2FuIGhhbmRsZSBpdCB0aGUgc2FtZSB3YXlcbiAgICAgICAgICAgIChmaWxlIGluc3RhbmNlb2YgQmxvYiA/IFt7IG5hbWU6IG51bGwsIGZpbGU6IGZpbGUgfV0gOiBmaWxlKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5uYW1lID09PSBudWxsID8gaXRlbS5maWxlLm5hbWUgOiAnJyArIGl0ZW0ubmFtZSArIGl0ZW0uZmlsZS5uYW1lXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBzZW5kIHJlcXVlc3Qgb2JqZWN0XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICAgICAgICAgIG9uZGF0YShmb3JtRGF0YSksXG4gICAgICAgICAgICAgICAgYnVpbGRVUkwoYXBpVXJsLCBhY3Rpb24udXJsKSxcbiAgICAgICAgICAgICAgICByZXF1ZXN0UGFyYW1zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBsb2FkKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQoeGhyLnJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBhYm9ydDtcblxuICAgICAgICAgICAgLy8gc2hvdWxkIHJldHVybiByZXF1ZXN0XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVByb2Nlc3NvckZ1bmN0aW9uID0gZnVuY3Rpb24gY3JlYXRlUHJvY2Vzc29yRnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcGlVcmwgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gY3VzdG9tIGhhbmRsZXIgKHNob3VsZCBhbHNvIGhhbmRsZSBmaWxlLCBsb2FkLCBlcnJvciwgcHJvZ3Jlc3MgYW5kIGFib3J0KVxuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcmFtcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICAgICAgICAgICAgICBfa2V5KytcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uLmFwcGx5KHZvaWQgMCwgW25hbWVdLmNvbmNhdChwYXJhbXMsIFtvcHRpb25zXSkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvLyBubyBhY3Rpb24gc3VwcGxpZWRcbiAgICAgICAgaWYgKCFhY3Rpb24gfHwgIWlzU3RyaW5nKGFjdGlvbi51cmwpKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBpbnRlcm5hbCBoYW5kbGVyXG4gICAgICAgIHJldHVybiBjcmVhdGVGaWxlUHJvY2Vzc29yRnVuY3Rpb24oYXBpVXJsLCBhY3Rpb24sIG5hbWUsIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHVuaXF1ZUZpbGVJZCwgbG9hZCwgZXJyb3IpID0+IHsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICB2YXIgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24gPSBmdW5jdGlvbiBjcmVhdGVSZXZlcnRGdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFwaVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gaXMgY3VzdG9tIGltcGxlbWVudGF0aW9uXG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gYWN0aW9uIHN1cHBsaWVkLCByZXR1cm4gc3R1YiBmdW5jdGlvbiwgaW50ZXJmYWNlIHdpbGwgd29yaywgYnV0IGZpbGUgd29uJ3QgYmUgcmVtb3ZlZFxuICAgICAgICBpZiAoIWFjdGlvbiB8fCAhaXNTdHJpbmcoYWN0aW9uLnVybCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih1bmlxdWVGaWxlSWQsIGxvYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9hZCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBvbmxvYWQgaGFubGRlclxuICAgICAgICB2YXIgb25sb2FkID1cbiAgICAgICAgICAgIGFjdGlvbi5vbmxvYWQgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB2YXIgb25lcnJvciA9XG4gICAgICAgICAgICBhY3Rpb24ub25lcnJvciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vIGludGVybmFsIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHJldHVybiBmdW5jdGlvbih1bmlxdWVGaWxlSWQsIGxvYWQsIGVycm9yKSB7XG4gICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHNlbmRSZXF1ZXN0KFxuICAgICAgICAgICAgICAgIHVuaXF1ZUZpbGVJZCxcbiAgICAgICAgICAgICAgICBhcGlVcmwgKyBhY3Rpb24udXJsLFxuICAgICAgICAgICAgICAgIGFjdGlvbiAvLyBjb250YWlucyBtZXRob2QsIGhlYWRlcnMgYW5kIHdpdGhDcmVkZW50aWFscyBwcm9wZXJ0aWVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICBsb2FkKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdsb2FkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQoeGhyLnJlc3BvbnNlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgIGVycm9yKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lcnJvcih4aHIucmVzcG9uc2UpIHx8IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBjcmVhdGVUaW1lb3V0UmVzcG9uc2UoZXJyb3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGdldFJhbmRvbU51bWJlciA9IGZ1bmN0aW9uIGdldFJhbmRvbU51bWJlcigpIHtcbiAgICAgICAgdmFyIG1pbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcbiAgICAgICAgdmFyIG1heCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTtcbiAgICAgICAgcmV0dXJuIG1pbiArIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKTtcbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciA9IGZ1bmN0aW9uIGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlcihjYikge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDEwMDA7XG4gICAgICAgIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7XG4gICAgICAgIHZhciB0aWNrTWluID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAyNTtcbiAgICAgICAgdmFyIHRpY2tNYXggPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDI1MDtcbiAgICAgICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICB2YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIHZhciB0aWNrID0gZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgICAgIHZhciBydW50aW1lID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgICAgICAgICAgdmFyIGRlbGF5ID0gZ2V0UmFuZG9tTnVtYmVyKHRpY2tNaW4sIHRpY2tNYXgpO1xuXG4gICAgICAgICAgICBpZiAocnVudGltZSArIGRlbGF5ID4gZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBkZWxheSA9IHJ1bnRpbWUgKyBkZWxheSAtIGR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBydW50aW1lIC8gZHVyYXRpb247XG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3MgPj0gMSB8fCBkb2N1bWVudC5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBjYigxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNiKHByb2dyZXNzKTtcblxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQodGljaywgZGVsYXkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkdXJhdGlvbiA+IDApIHRpY2soKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVGaWxlUHJvY2Vzc29yID0gZnVuY3Rpb24gY3JlYXRlRmlsZVByb2Nlc3Nvcihwcm9jZXNzRm4sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgY29tcGxldGU6IGZhbHNlLFxuICAgICAgICAgICAgcGVyY2VpdmVkUHJvZ3Jlc3M6IDAsXG4gICAgICAgICAgICBwZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXI6IG51bGwsXG4gICAgICAgICAgICBwcm9ncmVzczogbnVsbCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgIHBlcmNlaXZlZER1cmF0aW9uOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICByZXF1ZXN0OiBudWxsLFxuICAgICAgICAgICAgcmVzcG9uc2U6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvbiA9IG9wdGlvbnMuYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb247XG5cbiAgICAgICAgdmFyIHByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKGZpbGUsIG1ldGFkYXRhKSB7XG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NGbiA9IGZ1bmN0aW9uIHByb2dyZXNzRm4oKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UndmUgbm90IHlldCBzdGFydGVkIHRoZSByZWFsIGRvd25sb2FkLCBzdG9wIGhlcmVcbiAgICAgICAgICAgICAgICAvLyB0aGUgcmVxdWVzdCBtaWdodCBub3QgZ28gdGhyb3VnaCwgZm9yIGluc3RhbmNlLCB0aGVyZSBtaWdodCBiZSBzb21lIHNlcnZlciB0cm91YmxlXG4gICAgICAgICAgICAgICAgLy8gaWYgc3RhdGUucHJvZ3Jlc3MgaXMgbnVsbCwgdGhlIHNlcnZlciBkb2VzIG5vdCBhbGxvdyBjb21wdXRpbmcgcHJvZ3Jlc3MgYW5kIHdlIHNob3cgdGhlIHNwaW5uZXIgaW5zdGVhZFxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5kdXJhdGlvbiA9PT0gMCB8fCBzdGF0ZS5wcm9ncmVzcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy8gYXMgd2UncmUgbm93IHByb2Nlc3NpbmcsIGZpcmUgdGhlIHByb2dyZXNzIGV2ZW50XG4gICAgICAgICAgICAgICAgYXBpLmZpcmUoJ3Byb2dyZXNzJywgYXBpLmdldFByb2dyZXNzKCkpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlRm4gPSBmdW5jdGlvbiBjb21wbGV0ZUZuKCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcGkuZmlyZSgnbG9hZC1wZXJjZWl2ZWQnLCBzdGF0ZS5yZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIGxldCdzIHN0YXJ0IHByb2Nlc3NpbmdcbiAgICAgICAgICAgIGFwaS5maXJlKCdzdGFydCcpO1xuXG4gICAgICAgICAgICAvLyBzZXQgcmVxdWVzdCBzdGFydFxuICAgICAgICAgICAgc3RhdGUudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgLy8gY3JlYXRlIHBlcmNlaXZlZCBwZXJmb3JtYW5jZSBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlciA9IGNyZWF0ZVBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlcihcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NGbigpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGZha2UgcHJvZ3Jlc3MgaXMgZG9uZSwgYW5kIGEgcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWQsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSd2ZSBub3QgeWV0IGNhbGxlZCB0aGUgY29tcGxldGUgbWV0aG9kXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5yZXNwb25zZSAmJiBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcyA9PT0gMSAmJiAhc3RhdGUuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZUZuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIHJhbmRvbSBkZWxheSBhcyBpbiBhIGxpc3Qgb2YgZmlsZXMgeW91IHN0YXJ0IG5vdGljaW5nXG4gICAgICAgICAgICAgICAgLy8gZmlsZXMgdXBsb2FkaW5nIGF0IHRoZSBleGFjdCBzYW1lIHNwZWVkXG4gICAgICAgICAgICAgICAgYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb24gPyBnZXRSYW5kb21OdW1iZXIoNzUwLCAxNTAwKSA6IDBcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIHJlcXVlc3Qgc28gd2UgY2FuIGFib3J0IGl0IGxhdGVyXG4gICAgICAgICAgICBzdGF0ZS5yZXF1ZXN0ID0gcHJvY2Vzc0ZuKFxuICAgICAgICAgICAgICAgIC8vIHRoZSBmaWxlIHRvIHByb2Nlc3NcbiAgICAgICAgICAgICAgICBmaWxlLFxuXG4gICAgICAgICAgICAgICAgLy8gdGhlIG1ldGFkYXRhIHRvIHNlbmQgYWxvbmdcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSxcblxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrcyAobG9hZCwgZXJyb3IsIHByb2dyZXNzLCBhYm9ydCwgdHJhbnNmZXIpXG4gICAgICAgICAgICAgICAgLy8gbG9hZCBleHBlY3RzIHRoZSBib2R5IHRvIGJlIGEgc2VydmVyIGlkIGlmXG4gICAgICAgICAgICAgICAgLy8geW91IHdhbnQgdG8gbWFrZSB1c2Ugb2YgcmV2ZXJ0XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgcHV0IHRoZSByZXNwb25zZSBpbiBzdGF0ZSBzbyB3ZSBjYW4gYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IG91dHNpZGUgb2YgdGhpcyBtZXRob2RcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucmVzcG9uc2UgPSBpc09iamVjdChyZXNwb25zZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xvYWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogJycgKyByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IERhdGUubm93KCkgLSBzdGF0ZS50aW1lc3RhbXA7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgcHJvZ3Jlc3MgdG8gMSBhcyB3ZSdyZSBub3cgZG9uZVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wcm9ncmVzcyA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0dWFsIGxvYWQgaXMgZG9uZSBsZXQncyBzaGFyZSByZXN1bHRzXG4gICAgICAgICAgICAgICAgICAgIGFwaS5maXJlKCdsb2FkJywgc3RhdGUucmVzcG9uc2UuYm9keSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIHJlYWxseSBkb25lXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHBlcmNlaXZlZCBwcm9ncmVzcyBpcyAxICggd2FpdCBmb3IgcGVyY2VpdmVkIHByb2dyZXNzIHRvIGNvbXBsZXRlIClcbiAgICAgICAgICAgICAgICAgICAgLy8gb3IgaWYgc2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcHJvZ3Jlc3MgKCBudWxsIClcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIWFsbG93TWluaW11bVVwbG9hZER1cmF0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb24gJiYgc3RhdGUucGVyY2VpdmVkUHJvZ3Jlc3MgPT09IDEpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVGbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIGVycm9yIGlzIGV4cGVjdGVkIHRvIGJlIGFuIG9iamVjdCB3aXRoIHR5cGUsIGNvZGUsIGJvZHlcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBjYW5jZWwgdXBkYXRlclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgb3RoZXJzIGFib3V0IHRoaXMgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNPYmplY3QoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiAnJyArIGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBhY3R1YWwgcHJvY2Vzc2luZyBwcm9ncmVzc1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGNvbXB1dGFibGUsIGN1cnJlbnQsIHRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBhY3R1YWwgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZHVyYXRpb24gPSBEYXRlLm5vdygpIC0gc3RhdGUudGltZXN0YW1wO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBhY3R1YWwgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUucHJvZ3Jlc3MgPSBjb21wdXRhYmxlID8gY3VycmVudCAvIHRvdGFsIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc0ZuKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIGFib3J0IGRvZXMgbm90IGV4cGVjdCBhIHZhbHVlXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgdXBkYXRlclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWRQZXJmb3JtYW5jZVVwZGF0ZXIuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaXJlIHRoZSBhYm9ydCBldmVudCBzbyB3ZSBjYW4gc3dpdGNoIHZpc3VhbHNcbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoJ2Fib3J0Jywgc3RhdGUucmVzcG9uc2UgPyBzdGF0ZS5yZXNwb25zZS5ib2R5IDogbnVsbCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBpZCBmb3IgdGhpcyB0cmFuc2ZlclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHRyYW5zZmVySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXBpLmZpcmUoJ3RyYW5zZmVyJywgdHJhbnNmZXJJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgICAgICAgIC8vIG5vIHJlcXVlc3QgcnVubmluZywgY2FuJ3QgYWJvcnRcbiAgICAgICAgICAgIGlmICghc3RhdGUucmVxdWVzdCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBzdG9wIHVwZGF0ZXJcbiAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFBlcmZvcm1hbmNlVXBkYXRlci5jbGVhcigpO1xuXG4gICAgICAgICAgICAvLyBhYm9ydCBhY3R1YWwgcmVxdWVzdFxuICAgICAgICAgICAgaWYgKHN0YXRlLnJlcXVlc3QuYWJvcnQpIHN0YXRlLnJlcXVlc3QuYWJvcnQoKTtcblxuICAgICAgICAgICAgLy8gaWYgaGFzIHJlc3BvbnNlIG9iamVjdCwgd2UndmUgY29tcGxldGVkIHRoZSByZXF1ZXN0XG4gICAgICAgICAgICBzdGF0ZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlc2V0ID0gZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgICAgICBhYm9ydCgpO1xuICAgICAgICAgICAgc3RhdGUuY29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLnBlcmNlaXZlZFByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIHN0YXRlLnByb2dyZXNzID0gMDtcbiAgICAgICAgICAgIHN0YXRlLnRpbWVzdGFtcCA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5wZXJjZWl2ZWREdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBzdGF0ZS5kdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBzdGF0ZS5yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLnJlc3BvbnNlID0gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0UHJvZ3Jlc3MgPSBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvblxuICAgICAgICAgICAgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5wcm9ncmVzcyA/IE1hdGgubWluKHN0YXRlLnByb2dyZXNzLCBzdGF0ZS5wZXJjZWl2ZWRQcm9ncmVzcykgOiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnByb2dyZXNzIHx8IG51bGw7XG4gICAgICAgICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldER1cmF0aW9uID0gYWxsb3dNaW5pbXVtVXBsb2FkRHVyYXRpb25cbiAgICAgICAgICAgID8gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oc3RhdGUuZHVyYXRpb24sIHN0YXRlLnBlcmNlaXZlZER1cmF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICB2YXIgYXBpID0gT2JqZWN0LmFzc2lnbih7fSwgb24oKSwge1xuICAgICAgICAgICAgcHJvY2VzczogcHJvY2VzcywgLy8gc3RhcnQgcHJvY2Vzc2luZyBmaWxlXG4gICAgICAgICAgICBhYm9ydDogYWJvcnQsIC8vIGFib3J0IGFjdGl2ZSBwcm9jZXNzIHJlcXVlc3RcbiAgICAgICAgICAgIGdldFByb2dyZXNzOiBnZXRQcm9ncmVzcyxcbiAgICAgICAgICAgIGdldER1cmF0aW9uOiBnZXREdXJhdGlvbixcbiAgICAgICAgICAgIHJlc2V0OiByZXNldCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbiA9IGZ1bmN0aW9uIGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxhc3RJbmRleE9mKCcuJykpIHx8IG5hbWU7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVGaWxlU3R1YiA9IGZ1bmN0aW9uIGNyZWF0ZUZpbGVTdHViKHNvdXJjZSkge1xuICAgICAgICB2YXIgZGF0YSA9IFtzb3VyY2UubmFtZSwgc291cmNlLnNpemUsIHNvdXJjZS50eXBlXTtcblxuICAgICAgICAvLyBpcyBibG9iIG9yIGJhc2U2NCwgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgbmFtZVxuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQmxvYiB8fCBpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICAgICAgZGF0YVswXSA9IHNvdXJjZS5uYW1lIHx8IGdldERhdGVTdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Jhc2U2NERhdGFVUkkoc291cmNlKSkge1xuICAgICAgICAgICAgLy8gaWYgaXMgYmFzZTY0IGRhdGEgdXJpIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIHRoZSBhdmVyYWdlIHNpemUgYW5kIHR5cGVcbiAgICAgICAgICAgIGRhdGFbMV0gPSBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgZGF0YVsyXSA9IGdldE1pbWVUeXBlRnJvbUJhc2U2NERhdGFVUkkoc291cmNlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgICAgICAgICAvLyB1cmxcbiAgICAgICAgICAgIGRhdGFbMF0gPSBnZXRGaWxlbmFtZUZyb21VUkwoc291cmNlKTtcbiAgICAgICAgICAgIGRhdGFbMV0gPSAwO1xuICAgICAgICAgICAgZGF0YVsyXSA9ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IGRhdGFbMF0sXG4gICAgICAgICAgICBzaXplOiBkYXRhWzFdLFxuICAgICAgICAgICAgdHlwZTogZGF0YVsyXSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRmlsZSA9IGZ1bmN0aW9uIGlzRmlsZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gISEodmFsdWUgaW5zdGFuY2VvZiBGaWxlIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgJiYgdmFsdWUubmFtZSkpO1xuICAgIH07XG5cbiAgICB2YXIgZGVlcENsb25lT2JqZWN0ID0gZnVuY3Rpb24gZGVlcENsb25lT2JqZWN0KHNyYykge1xuICAgICAgICBpZiAoIWlzT2JqZWN0KHNyYykpIHJldHVybiBzcmM7XG4gICAgICAgIHZhciB0YXJnZXQgPSBpc0FycmF5KHNyYykgPyBbXSA6IHt9O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgICAgICAgICBpZiAoIXNyYy5oYXNPd25Qcm9wZXJ0eShrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgIHZhciB2ID0gc3JjW2tleV07XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHYgJiYgaXNPYmplY3QodikgPyBkZWVwQ2xvbmVPYmplY3QodikgOiB2O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVJdGVtID0gZnVuY3Rpb24gY3JlYXRlSXRlbSgpIHtcbiAgICAgICAgdmFyIG9yaWdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgICAgICAgdmFyIHNlcnZlckZpbGVSZWZlcmVuY2UgPVxuICAgICAgICAgICAgYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsO1xuICAgICAgICB2YXIgZmlsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICAgICAgLy8gdW5pcXVlIGlkIGZvciB0aGlzIGl0ZW0sIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIGl0ZW0gYWNyb3NzIHZpZXdzXG4gICAgICAgIHZhciBpZCA9IGdldFVuaXF1ZUlkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGl0ZW0gc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgIC8vIGlzIGFyY2hpdmVkXG4gICAgICAgICAgICBhcmNoaXZlZDogZmFsc2UsXG5cbiAgICAgICAgICAgIC8vIGlmIGlzIGZyb3plbiwgbm8gbG9uZ2VyIGZpcmVzIGV2ZW50c1xuICAgICAgICAgICAgZnJvemVuOiBmYWxzZSxcblxuICAgICAgICAgICAgLy8gcmVtb3ZlZCBmcm9tIHZpZXdcbiAgICAgICAgICAgIHJlbGVhc2VkOiBmYWxzZSxcblxuICAgICAgICAgICAgLy8gb3JpZ2luYWwgc291cmNlXG4gICAgICAgICAgICBzb3VyY2U6IG51bGwsXG5cbiAgICAgICAgICAgIC8vIGZpbGUgbW9kZWwgcmVmZXJlbmNlXG4gICAgICAgICAgICBmaWxlOiBmaWxlLFxuXG4gICAgICAgICAgICAvLyBpZCBvZiBmaWxlIG9uIHNlcnZlclxuICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogc2VydmVyRmlsZVJlZmVyZW5jZSxcblxuICAgICAgICAgICAgLy8gaWQgb2YgZmlsZSB0cmFuc2ZlciBvbiBzZXJ2ZXJcbiAgICAgICAgICAgIHRyYW5zZmVySWQ6IG51bGwsXG5cbiAgICAgICAgICAgIC8vIGlzIGFib3J0ZWRcbiAgICAgICAgICAgIHByb2Nlc3NpbmdBYm9ydGVkOiBmYWxzZSxcblxuICAgICAgICAgICAgLy8gY3VycmVudCBpdGVtIHN0YXR1c1xuICAgICAgICAgICAgc3RhdHVzOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlID8gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIDogSXRlbVN0YXR1cy5JTklULFxuXG4gICAgICAgICAgICAvLyBhY3RpdmUgcHJvY2Vzc2VzXG4gICAgICAgICAgICBhY3RpdmVMb2FkZXI6IG51bGwsXG4gICAgICAgICAgICBhY3RpdmVQcm9jZXNzb3I6IG51bGwsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gY2FsbGJhY2sgdXNlZCB3aGVuIGFib3J0IHByb2Nlc3NpbmcgaXMgY2FsbGVkIHRvIGxpbmsgYmFjayB0byB0aGUgcmVzb2x2ZSBtZXRob2RcbiAgICAgICAgdmFyIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dGVybmFsbHkgYWRkZWQgaXRlbSBtZXRhZGF0YVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG1ldGFkYXRhID0ge307XG5cbiAgICAgICAgLy8gaXRlbSBkYXRhXG4gICAgICAgIHZhciBzZXRTdGF0dXMgPSBmdW5jdGlvbiBzZXRTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICByZXR1cm4gKHN0YXRlLnN0YXR1cyA9IHN0YXR1cyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZmlyZSBldmVudCB1bmxlc3MgdGhlIGl0ZW0gaGFzIGJlZW4gYXJjaGl2ZWRcbiAgICAgICAgdmFyIGZpcmUgPSBmdW5jdGlvbiBmaXJlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUucmVsZWFzZWQgfHwgc3RhdGUuZnJvemVuKSByZXR1cm47XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1zID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7XG4gICAgICAgICAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgICAgICAgICAgX2tleSsrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwYXJhbXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBpLmZpcmUuYXBwbHkoYXBpLCBbZXZlbnRdLmNvbmNhdChwYXJhbXMpKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBmaWxlIGRhdGFcbiAgICAgICAgdmFyIGdldEZpbGVFeHRlbnNpb24gPSBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShzdGF0ZS5maWxlLm5hbWUpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0RmlsZVR5cGUgPSBmdW5jdGlvbiBnZXRGaWxlVHlwZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maWxlLnR5cGU7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBnZXRGaWxlU2l6ZSA9IGZ1bmN0aW9uIGdldEZpbGVTaXplKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZpbGUuc2l6ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGdldEZpbGUgPSBmdW5jdGlvbiBnZXRGaWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZpbGU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gbG9naWMgdG8gbG9hZCBhIGZpbGVcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIGxvYWQgPSBmdW5jdGlvbiBsb2FkKHNvdXJjZSwgbG9hZGVyLCBvbmxvYWQpIHtcbiAgICAgICAgICAgIC8vIHJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpdGVtIHNvdXJjZVxuICAgICAgICAgICAgc3RhdGUuc291cmNlID0gc291cmNlO1xuXG4gICAgICAgICAgICAvLyBzb3VyY2UgaXMga25vd25cbiAgICAgICAgICAgIGFwaS5maXJlU3luYygnaW5pdCcpO1xuXG4gICAgICAgICAgICAvLyBmaWxlIHN0dWIgaXMgYWxyZWFkeSB0aGVyZVxuICAgICAgICAgICAgaWYgKHN0YXRlLmZpbGUpIHtcbiAgICAgICAgICAgICAgICBhcGkuZmlyZVN5bmMoJ2xvYWQtc2tpcCcpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IGEgc3R1YiBmaWxlIG9iamVjdCB3aGlsZSBsb2FkaW5nIHRoZSBhY3R1YWwgZGF0YVxuICAgICAgICAgICAgc3RhdGUuZmlsZSA9IGNyZWF0ZUZpbGVTdHViKHNvdXJjZSk7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0cyBsb2FkaW5nXG4gICAgICAgICAgICBsb2FkZXIub24oJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLWluaXQnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB3ZSdldmUgcmVjZWl2ZWQgYSBzaXplIGluZGljYXRpb24sIGxldCdzIHVwZGF0ZSB0aGUgc3R1YlxuICAgICAgICAgICAgbG9hZGVyLm9uKCdtZXRhJywgZnVuY3Rpb24obWV0YSkge1xuICAgICAgICAgICAgICAgIC8vIHNldCBzaXplIG9mIGZpbGUgc3R1YlxuICAgICAgICAgICAgICAgIHN0YXRlLmZpbGUuc2l6ZSA9IG1ldGEuc2l6ZTtcblxuICAgICAgICAgICAgICAgIC8vIHNldCBuYW1lIG9mIGZpbGUgc3R1YlxuICAgICAgICAgICAgICAgIHN0YXRlLmZpbGUuZmlsZW5hbWUgPSBtZXRhLmZpbGVuYW1lO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgaGFzIHJlY2VpdmVkIHNvdXJjZSwgd2UgZG9uZVxuICAgICAgICAgICAgICAgIGlmIChtZXRhLnNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW4gPSBGaWxlT3JpZ2luLkxJTUJPO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlID0gbWV0YS5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnN0YXR1cyA9IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19DT01QTEVURTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzaXplIGhhcyBiZWVuIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLW1ldGEnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB0aGUgZmlsZSBpcyBub3cgbG9hZGluZyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgICAgICAgICAgbG9hZGVyLm9uKCdwcm9ncmVzcycsIGZ1bmN0aW9uKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuTE9BRElORyk7XG5cbiAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLXByb2dyZXNzJywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGFuIGVycm9yIHdhcyB0aHJvd24gd2hpbGUgbG9hZGluZyB0aGUgZmlsZSwgd2UgbmVlZCB0byBzd2l0Y2ggdG8gZXJyb3Igc3RhdGVcbiAgICAgICAgICAgIGxvYWRlci5vbignZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURfRVJST1IpO1xuXG4gICAgICAgICAgICAgICAgZmlyZSgnbG9hZC1yZXF1ZXN0LWVycm9yJywgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHVzZXIgb3IgYW5vdGhlciBwcm9jZXNzIGFib3J0ZWQgdGhlIGZpbGUgbG9hZCAoY2Fubm90IHJldHJ5KVxuICAgICAgICAgICAgbG9hZGVyLm9uKCdhYm9ydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklOSVQpO1xuICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQtYWJvcnQnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBkb25lIGxvYWRpbmdcbiAgICAgICAgICAgIGxvYWRlci5vbignbG9hZCcsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBhcyB3ZSd2ZSBub3cgbG9hZGVkIHRoZSBmaWxlIHRoZSBsb2FkZXIgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIGZpbGUgaGFzIGxvYWRlZCBzdWNjZXNmdWxseVxuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IChwb3NzaWJseSkgdHJhbnNmb3JtZWQgZmlsZVxuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5maWxlID0gaXNGaWxlKHJlc3VsdCkgPyByZXN1bHQgOiBzdGF0ZS5maWxlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgcmVjZWl2ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MSU1CTyAmJiBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZmlyZSgnbG9hZCcpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IG9yaWdpbmFsIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuZmlsZSA9IGZpbGU7XG4gICAgICAgICAgICAgICAgICAgIGZpcmUoJ2xvYWQtbWV0YScpO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLkxPQURfRVJST1IpO1xuICAgICAgICAgICAgICAgICAgICBmaXJlKCdsb2FkLWZpbGUtZXJyb3InLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBzZXJ2ZXIgZmlsZSByZWZlcmVuY2UsIHdlIGRvbid0IG5lZWQgdG8gY2FsbCB0aGUgb25sb2FkIG1ldGhvZFxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBubyBzZXJ2ZXIgaWQsIGxldCdzIGdpdmUgdGhpcyBmaWxlIHRoZSBmdWxsIHRyZWF0bWVudFxuICAgICAgICAgICAgICAgIG9ubG9hZChmaWxlLCBzdWNjZXNzLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gc2V0IGxvYWRlciBzb3VyY2UgZGF0YVxuICAgICAgICAgICAgbG9hZGVyLnNldFNvdXJjZShzb3VyY2UpO1xuXG4gICAgICAgICAgICAvLyBzZXQgYXMgYWN0aXZlIGxvYWRlclxuICAgICAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyID0gbG9hZGVyO1xuXG4gICAgICAgICAgICAvLyBsb2FkIHRoZSBzb3VyY2UgZGF0YVxuICAgICAgICAgICAgbG9hZGVyLmxvYWQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmV0cnlMb2FkID0gZnVuY3Rpb24gcmV0cnlMb2FkKCkge1xuICAgICAgICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVMb2FkZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVMb2FkZXIubG9hZCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhYm9ydExvYWQgPSBmdW5jdGlvbiBhYm9ydExvYWQoKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUuYWN0aXZlTG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlTG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuSU5JVCk7XG4gICAgICAgICAgICBmaXJlKCdsb2FkLWFib3J0Jyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gbG9naWMgdG8gcHJvY2VzcyBhIGZpbGVcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIHByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKHByb2Nlc3Nvciwgb25wcm9jZXNzKSB7XG4gICAgICAgICAgICAvLyBwcm9jZXNzaW5nIHdhcyBhYm9ydGVkXG4gICAgICAgICAgICBpZiAoc3RhdGUucHJvY2Vzc2luZ0Fib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbm93IHByb2Nlc3NpbmdcbiAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkcpO1xuXG4gICAgICAgICAgICAvLyByZXNldCBhYm9ydCBjYWxsYmFja1xuICAgICAgICAgICAgYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gaWYgbm8gZmlsZSBsb2FkZWQgd2UnbGwgd2FpdCBmb3IgdGhlIGxvYWQgZXZlbnRcbiAgICAgICAgICAgIGlmICghKHN0YXRlLmZpbGUgaW5zdGFuY2VvZiBCbG9iKSkge1xuICAgICAgICAgICAgICAgIGFwaS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKHByb2Nlc3Nvciwgb25wcm9jZXNzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldHVwIHByb2Nlc3NvclxuICAgICAgICAgICAgcHJvY2Vzc29yLm9uKCdsb2FkJywgZnVuY3Rpb24oc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIG5lZWQgdGhpcyBpZCB0byBiZSBhYmxlIHRvIHJldmVydCB0aGUgdXBsb2FkXG4gICAgICAgICAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgdHJhbnNmZXIgaWRcbiAgICAgICAgICAgIHByb2Nlc3Nvci5vbigndHJhbnNmZXInLCBmdW5jdGlvbih0cmFuc2ZlcklkKSB7XG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0aGlzIGlkIHRvIGJlIGFibGUgdG8gcmV2ZXJ0IHRoZSB1cGxvYWRcbiAgICAgICAgICAgICAgICBzdGF0ZS50cmFuc2ZlcklkID0gdHJhbnNmZXJJZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9jZXNzb3Iub24oJ2xvYWQtcGVyY2VpdmVkJywgZnVuY3Rpb24oc2VydmVyRmlsZVJlZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgIC8vIG5vIGxvbmdlciByZXF1aXJlZFxuICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZVByb2Nlc3NvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAvLyBuZWVkIHRoaXMgaWQgdG8gYmUgYWJsZSB0byByZXZlciB0aGUgdXBsb2FkXG4gICAgICAgICAgICAgICAgc3RhdGUudHJhbnNmZXJJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKTtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLWNvbXBsZXRlJywgc2VydmVyRmlsZVJlZmVyZW5jZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvY2Vzc29yLm9uKCdzdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3Mtc3RhcnQnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9jZXNzb3Iub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1IpO1xuICAgICAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcHJvY2Vzc29yLm9uKCdhYm9ydCcsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgZmlsZSB3YXMgdXBsb2FkZWQgYnV0IHByb2Nlc3Npbmcgd2FzIGNhbmNlbGxlZCBkdXJpbmcgcGVyY2VpdmVkIHByb2Nlc3NvciB0aW1lIHN0b3JlIGZpbGUgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IHNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLWFib3J0Jyk7XG5cbiAgICAgICAgICAgICAgICAvLyBoYXMgdGltZW91dCBzbyBkb2Vzbid0IGludGVyZmVyZSB3aXRoIHJlbW92ZSBhY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoYWJvcnRQcm9jZXNzaW5nUmVxdWVzdENvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBwcm9jZXNzb3Iub24oJ3Byb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBmaXJlKCdwcm9jZXNzLXByb2dyZXNzJywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHdoZW4gc3VjY2Vzc2Z1bGx5IHRyYW5zZm9ybWVkXG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdhcyBhcmNoaXZlZCBpbiB0aGUgbWVhbiB0aW1lLCBkb24ndCBwcm9jZXNzXG4gICAgICAgICAgICAgICAgaWYgKHN0YXRlLmFyY2hpdmVkKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIGZpbGUhXG4gICAgICAgICAgICAgICAgcHJvY2Vzc29yLnByb2Nlc3MoZmlsZSwgT2JqZWN0LmFzc2lnbih7fSwgbWV0YWRhdGEpKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nIGR1cmluZyB0cmFuc2Zvcm0gcGhhc2VcbiAgICAgICAgICAgIHZhciBlcnJvciA9IGNvbnNvbGUuZXJyb3I7XG5cbiAgICAgICAgICAgIC8vIHN0YXJ0IHByb2Nlc3NpbmcgdGhlIGZpbGVcbiAgICAgICAgICAgIG9ucHJvY2VzcyhzdGF0ZS5maWxlLCBzdWNjZXNzLCBlcnJvcik7XG5cbiAgICAgICAgICAgIC8vIHNldCBhcyBhY3RpdmUgcHJvY2Vzc29yXG4gICAgICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IgPSBwcm9jZXNzb3I7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJlcXVlc3RQcm9jZXNzaW5nID0gZnVuY3Rpb24gcmVxdWVzdFByb2Nlc3NpbmcoKSB7XG4gICAgICAgICAgICBzdGF0ZS5wcm9jZXNzaW5nQWJvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhYm9ydFByb2Nlc3NpbmcgPSBmdW5jdGlvbiBhYm9ydFByb2Nlc3NpbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGUuYWN0aXZlUHJvY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByb2Nlc3NpbmdBYm9ydGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoSXRlbVN0YXR1cy5JRExFKTtcbiAgICAgICAgICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1hYm9ydCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSA9IGZ1bmN0aW9uIGFib3J0UHJvY2Vzc2luZ1JlcXVlc3RDb21wbGV0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVQcm9jZXNzb3IuYWJvcnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGxvZ2ljIHRvIHJldmVydCBhIHByb2Nlc3NlZCBmaWxlXG4gICAgICAgIC8vXG4gICAgICAgIHZhciByZXZlcnQgPSBmdW5jdGlvbiByZXZlcnQocmV2ZXJ0RmlsZVVwbG9hZCwgZm9yY2VSZXZlcnQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAvLyBhIGNvbXBsZXRlZCB1cGxvYWQgd2lsbCBoYXZlIGEgc2VydmVyRmlsZVJlZmVyZW5jZSwgYSBmYWlsZWQgY2h1bmtlZCB1cGxvYWQgd2hlcmVcbiAgICAgICAgICAgICAgICAvLyBnZXR0aW5nIGEgc2VydmVySWQgc3VjY2VlZGVkIGJ1dCA+PTAgY2h1bmtzIGhhdmUgYmVlbiB1cGxvYWRlZCB3aWxsIGhhdmUgdHJhbnNmZXJJZCBzZXRcbiAgICAgICAgICAgICAgICB2YXIgc2VydmVyVHJhbnNmZXJJZCA9XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnNlcnZlckZpbGVSZWZlcmVuY2UgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzdGF0ZS50cmFuc2ZlcklkO1xuXG4gICAgICAgICAgICAgICAgLy8gY2Fubm90IHJldmVydCB3aXRob3V0IGEgc2VydmVyIGlkIGZvciB0aGlzIHByb2Nlc3NcbiAgICAgICAgICAgICAgICBpZiAoc2VydmVyVHJhbnNmZXJJZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXZlcnQgdGhlIHVwbG9hZCAoZmlyZSBhbmQgZm9yZ2V0KVxuICAgICAgICAgICAgICAgIHJldmVydEZpbGVVcGxvYWQoXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlclRyYW5zZmVySWQsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgZmlsZSBzZXJ2ZXIgaWQgYW5kIHRyYW5zZmVyIGlkIGFzIG5vdyBpdCdzIG5vdCBhdmFpbGFibGUgb24gdGhlIHNlcnZlclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuc2VydmVyRmlsZVJlZmVyZW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS50cmFuc2ZlcklkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNldCBlcnJvciBzdGF0ZSB3aGVuIHJldmVydGluZyBpcyBvcHRpb25hbCwgaXQgd2lsbCBhbHdheXMgcmVzb2x2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JjZVJldmVydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9oIG5vIGVycm9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdHVzKEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZSgncHJvY2Vzcy1yZXZlcnQtZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlyZSBldmVudFxuICAgICAgICAgICAgICAgIHNldFN0YXR1cyhJdGVtU3RhdHVzLklETEUpO1xuICAgICAgICAgICAgICAgIGZpcmUoJ3Byb2Nlc3MtcmV2ZXJ0Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleHBvc2VkIG1ldGhvZHNcbiAgICAgICAgdmFyIF9zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIHNldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHZhciByb290ID0ga2V5c1swXTtcbiAgICAgICAgICAgIHZhciBsYXN0ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgICAgIHZhciBkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChkYXRhID0gZGF0YVtrZXldKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjb21wYXJlIG9sZCB2YWx1ZSBhZ2FpbnN0IG5ldyB2YWx1ZSwgaWYgdGhleSdyZSB0aGUgc2FtZSwgd2UncmUgbm90IHVwZGF0aW5nXG4gICAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZGF0YVtsYXN0XSkgPT09IEpTT04uc3RyaW5naWZ5KHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdmFsdWVcbiAgICAgICAgICAgIGRhdGFbbGFzdF0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgLy8gZmlyZSB1cGRhdGVcbiAgICAgICAgICAgIGZpcmUoJ21ldGFkYXRhLXVwZGF0ZScsIHtcbiAgICAgICAgICAgICAgICBrZXk6IHJvb3QsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1ldGFkYXRhW3Jvb3RdLFxuICAgICAgICAgICAgICAgIHNpbGVudDogc2lsZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1ldGFkYXRhID0gZnVuY3Rpb24gZ2V0TWV0YWRhdGEoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGVlcENsb25lT2JqZWN0KGtleSA/IG1ldGFkYXRhW2tleV0gOiBtZXRhZGF0YSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwaSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChvcmlnaW4gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJJZDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zZXJ2ZXJGaWxlUmVmZXJlbmNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJJZDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS50cmFuc2ZlcklkO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmZpbGUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb24oc3RhdGUuZmlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbGVFeHRlbnNpb246IHsgZ2V0OiBnZXRGaWxlRXh0ZW5zaW9uIH0sXG4gICAgICAgICAgICAgICAgZmlsZVR5cGU6IHsgZ2V0OiBnZXRGaWxlVHlwZSB9LFxuICAgICAgICAgICAgICAgIGZpbGVTaXplOiB7IGdldDogZ2V0RmlsZVNpemUgfSxcbiAgICAgICAgICAgICAgICBmaWxlOiB7IGdldDogZ2V0RmlsZSB9LFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlUGF0aDoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5maWxlLl9yZWxhdGl2ZVBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5zb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGdldE1ldGFkYXRhOiBnZXRNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBzZXRNZXRhZGF0YTogZnVuY3Rpb24gc2V0TWV0YWRhdGEoa2V5LCB2YWx1ZSwgc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGtleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldE1ldGFkYXRhKGtleSwgZGF0YVtrZXldLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3NldE1ldGFkYXRhKGtleSwgdmFsdWUsIHNpbGVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZXh0ZW5kOiBmdW5jdGlvbiBleHRlbmQobmFtZSwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGl0ZW1BUElbbmFtZV0gPSBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgYWJvcnRMb2FkOiBhYm9ydExvYWQsXG4gICAgICAgICAgICAgICAgcmV0cnlMb2FkOiByZXRyeUxvYWQsXG4gICAgICAgICAgICAgICAgcmVxdWVzdFByb2Nlc3Npbmc6IHJlcXVlc3RQcm9jZXNzaW5nLFxuICAgICAgICAgICAgICAgIGFib3J0UHJvY2Vzc2luZzogYWJvcnRQcm9jZXNzaW5nLFxuXG4gICAgICAgICAgICAgICAgbG9hZDogbG9hZCxcbiAgICAgICAgICAgICAgICBwcm9jZXNzOiBwcm9jZXNzLFxuICAgICAgICAgICAgICAgIHJldmVydDogcmV2ZXJ0LFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb24oKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmVlemU6IGZ1bmN0aW9uIGZyZWV6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5mcm96ZW4gPSB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgcmVsZWFzZTogZnVuY3Rpb24gcmVsZWFzZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5yZWxlYXNlZCA9IHRydWUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVsZWFzZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUucmVsZWFzZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGFyY2hpdmU6IGZ1bmN0aW9uIGFyY2hpdmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoc3RhdGUuYXJjaGl2ZWQgPSB0cnVlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFyY2hpdmVkOiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmFyY2hpdmVkO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGl0IGhlcmUgaW5zdGVhZCBvZiByZXR1cm5pbmcgaXQgaW5zdGFudGx5IHNvIHdlIGNhbiBleHRlbmQgaXQgbGF0ZXJcbiAgICAgICAgdmFyIGl0ZW1BUEkgPSBjcmVhdGVPYmplY3QoYXBpKTtcblxuICAgICAgICByZXR1cm4gaXRlbUFQSTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEl0ZW1JbmRleEJ5UXVlcnkgPSBmdW5jdGlvbiBnZXRJdGVtSW5kZXhCeVF1ZXJ5KGl0ZW1zLCBxdWVyeSkge1xuICAgICAgICAvLyBqdXN0IHJldHVybiBmaXJzdCBpbmRleFxuICAgICAgICBpZiAoaXNFbXB0eShxdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW52YWxpZCBxdWVyaWVzXG4gICAgICAgIGlmICghaXNTdHJpbmcocXVlcnkpKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZXR1cm4gaXRlbSBieSBpZCAob3IgLTEgaWYgbm90IGZvdW5kKVxuICAgICAgICByZXR1cm4gaXRlbXMuZmluZEluZGV4KGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBxdWVyeTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtQnlJZCA9IGZ1bmN0aW9uIGdldEl0ZW1CeUlkKGl0ZW1zLCBpdGVtSWQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZ2V0SXRlbUluZGV4QnlRdWVyeShpdGVtcywgaXRlbUlkKTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtc1tpbmRleF0gfHwgbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIGZldGNoQmxvYiA9IGZ1bmN0aW9uIGZldGNoQmxvYih1cmwsIGxvYWQsIGVycm9yLCBwcm9ncmVzcywgYWJvcnQsIGhlYWRlcnMpIHtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBzZW5kUmVxdWVzdChudWxsLCB1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6ICdibG9iJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgIC8vIGdldCBoZWFkZXJzXG4gICAgICAgICAgICB2YXIgaGVhZGVycyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcblxuICAgICAgICAgICAgLy8gZ2V0IGZpbGVuYW1lXG4gICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBnZXRGaWxlSW5mb0Zyb21IZWFkZXJzKGhlYWRlcnMpLm5hbWUgfHwgZ2V0RmlsZW5hbWVGcm9tVVJMKHVybCk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSByZXNwb25zZVxuICAgICAgICAgICAgbG9hZChcbiAgICAgICAgICAgICAgICBjcmVhdGVSZXNwb25zZSgnbG9hZCcsIHhoci5zdGF0dXMsIGdldEZpbGVGcm9tQmxvYih4aHIucmVzcG9uc2UsIGZpbGVuYW1lKSwgaGVhZGVycylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24oeGhyKSB7XG4gICAgICAgICAgICBlcnJvcihjcmVhdGVSZXNwb25zZSgnZXJyb3InLCB4aHIuc3RhdHVzLCB4aHIuc3RhdHVzVGV4dCwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVxdWVzdC5vbmhlYWRlcnMgPSBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgIGhlYWRlcnMoY3JlYXRlUmVzcG9uc2UoJ2hlYWRlcnMnLCB4aHIuc3RhdHVzLCBudWxsLCB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXF1ZXN0Lm9udGltZW91dCA9IGNyZWF0ZVRpbWVvdXRSZXNwb25zZShlcnJvcik7XG4gICAgICAgIHJlcXVlc3Qub25wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICByZXF1ZXN0Lm9uYWJvcnQgPSBhYm9ydDtcblxuICAgICAgICAvLyBzaG91bGQgcmV0dXJuIHJlcXVlc3RcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XG4gICAgfTtcblxuICAgIHZhciBnZXREb21haW5Gcm9tVVJMID0gZnVuY3Rpb24gZ2V0RG9tYWluRnJvbVVSTCh1cmwpIHtcbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgICAgICB1cmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIHVybDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsXG4gICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ2Jsb2I6JywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFthLXpdKT86XFwvXFwvLywgJyQxJylcbiAgICAgICAgICAgIC5zcGxpdCgnLycpWzBdO1xuICAgIH07XG5cbiAgICB2YXIgaXNFeHRlcm5hbFVSTCA9IGZ1bmN0aW9uIGlzRXh0ZXJuYWxVUkwodXJsKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodXJsLmluZGV4T2YoJzonKSA+IC0xIHx8IHVybC5pbmRleE9mKCcvLycpID4gLTEpICYmXG4gICAgICAgICAgICBnZXREb21haW5Gcm9tVVJMKGxvY2F0aW9uLmhyZWYpICE9PSBnZXREb21haW5Gcm9tVVJMKHVybClcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIGR5bmFtaWNMYWJlbCA9IGZ1bmN0aW9uIGR5bmFtaWNMYWJlbChsYWJlbCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihsYWJlbCkgPyBsYWJlbC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykgOiBsYWJlbDtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGlzTW9ja0l0ZW0gPSBmdW5jdGlvbiBpc01vY2tJdGVtKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICFpc0ZpbGUoaXRlbS5maWxlKTtcbiAgICB9O1xuXG4gICAgdmFyIGxpc3RVcGRhdGVkID0gZnVuY3Rpb24gbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzdGF0ZS5saXN0VXBkYXRlVGltZW91dCk7XG4gICAgICAgIHN0YXRlLmxpc3RVcGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVVBEQVRFX0lURU1TJywgeyBpdGVtczogZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgdmFyIG9wdGlvbmFsUHJvbWlzZSA9IGZ1bmN0aW9uIG9wdGlvbmFsUHJvbWlzZShmbikge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgICAgdmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBwYXJhbXMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTtcbiAgICAgICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICAgICAgX2tleSsrXG4gICAgICAgICkge1xuICAgICAgICAgICAgcGFyYW1zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKCFmbikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkodm9pZCAwLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudGhlbihyZXNvbHZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzb3J0SXRlbXMgPSBmdW5jdGlvbiBzb3J0SXRlbXMoc3RhdGUsIGNvbXBhcmUpIHtcbiAgICAgICAgc3RhdGUuaXRlbXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZShjcmVhdGVJdGVtQVBJKGEpLCBjcmVhdGVJdGVtQVBJKGIpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIHJldHVybnMgaXRlbSBiYXNlZCBvbiBzdGF0ZVxuICAgIHZhciBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZSA9IGZ1bmN0aW9uIGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBpdGVtSGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAgICAgICB2YXIgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuICAgICAgICAgICAgICAgIF9yZWYkc3VjY2VzcyA9IF9yZWYuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzID0gX3JlZiRzdWNjZXNzID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiRzdWNjZXNzLFxuICAgICAgICAgICAgICAgIF9yZWYkZmFpbHVyZSA9IF9yZWYuZmFpbHVyZSxcbiAgICAgICAgICAgICAgICBmYWlsdXJlID0gX3JlZiRmYWlsdXJlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZiRmYWlsdXJlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWydxdWVyeScsICdzdWNjZXNzJywgJ2ZhaWx1cmUnXSk7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW1CeVF1ZXJ5KHN0YXRlLml0ZW1zLCBxdWVyeSk7XG4gICAgICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICAgICAgICBmYWlsdXJlKHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdJdGVtIG5vdCBmb3VuZCcpLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbUhhbmRsZXIoaXRlbSwgc3VjY2VzcywgZmFpbHVyZSwgb3B0aW9ucyB8fCB7fSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBhY3Rpb25zID0gZnVuY3Rpb24gYWN0aW9ucyhkaXNwYXRjaCwgcXVlcnksIHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFib3J0cyBhbGwgb25nb2luZyBwcm9jZXNzZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgQUJPUlRfQUxMOiBmdW5jdGlvbiBBQk9SVF9BTEwoKSB7XG4gICAgICAgICAgICAgICAgZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmZyZWV6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmFib3J0TG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIGluaXRpYWwgZmlsZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgRElEX1NFVF9GSUxFUzogZnVuY3Rpb24gRElEX1NFVF9GSUxFUyhfcmVmMikge1xuICAgICAgICAgICAgICAgIHZhciBfcmVmMiR2YWx1ZSA9IF9yZWYyLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYyJHZhbHVlID09PSB2b2lkIDAgPyBbXSA6IF9yZWYyJHZhbHVlO1xuICAgICAgICAgICAgICAgIC8vIG1hcCB2YWx1ZXMgdG8gZmlsZSBvYmplY3RzXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVzID0gdmFsdWUubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZmlsZS5zb3VyY2UgPyBmaWxlLnNvdXJjZSA6IGZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBmaWxlLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBsb29wIG92ZXIgZmlsZXMsIGlmIGZpbGUgaXMgaW4gbGlzdCwgbGVhdmUgaXQgYmUsIGlmIG5vdCwgcmVtb3ZlXG4gICAgICAgICAgICAgICAgLy8gdGVzdCBpZiBpdGVtcyBzaG91bGQgYmUgbW92ZWRcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlSXRlbXMgPSBnZXRBY3RpdmVJdGVtcyhzdGF0ZS5pdGVtcyk7XG5cbiAgICAgICAgICAgICAgICBhY3RpdmVJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXRlbSBub3QgaXMgaW4gbmV3IHZhbHVlLCByZW1vdmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIWZpbGVzLmZpbmQoZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlLnNvdXJjZSA9PT0gaXRlbS5zb3VyY2UgfHwgZmlsZS5zb3VyY2UgPT09IGl0ZW0uZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaXRlbSwgcmVtb3ZlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIG5ldyBmaWxlc1xuICAgICAgICAgICAgICAgIGFjdGl2ZUl0ZW1zID0gZ2V0QWN0aXZlSXRlbXMoc3RhdGUuaXRlbXMpO1xuICAgICAgICAgICAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZmlsZSBpcyBhbHJlYWR5IGluIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbXMuZmluZChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc291cmNlID09PSBmaWxlLnNvdXJjZSB8fCBpdGVtLmZpbGUgPT09IGZpbGUuc291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBpbiBsaXN0LCBhZGRcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAnQUREX0lURU0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgZmlsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5OT05FLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBESURfVVBEQVRFX0lURU1fTUVUQURBVEE6IGZ1bmN0aW9uIERJRF9VUERBVEVfSVRFTV9NRVRBREFUQShfcmVmMykge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IF9yZWYzLmlkLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZSA9IF9yZWYzLmNoYW5nZTtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgICAgIGlmIChjaGFuZ2Uuc2lsZW50KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gY2xvc2Ugc3VjY2Vzc2lvbiB3ZSBjb21iaW5lZCBhbGwgY2FsbHMgdG9nZXRoZXIgdG8gc2F2ZSByZXNvdXJjZXNcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3RhdGUuaXRlbVVwZGF0ZVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHN0YXRlLml0ZW1VcGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtQnlJZChzdGF0ZS5pdGVtcywgaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgcmV2ZXJ0IGFuZCBhdHRlbXB0IHRvIHVwbG9hZCB3aGVuIHdlJ3JlIHVwbG9hZGluZyB0byBhIHNlcnZlclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXF1ZXJ5KCdJU19BU1lOQycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgd2UgdXBkYXRlIHRoZSBvdXRwdXQgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignU0hPVUxEX1BSRVBBUkVfT1VUUFVUJywgZmFsc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oc2hvdWxkUHJlcGFyZU91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBsdWdpbnMgZGV0ZXJtaW5lZCB0aGUgb3V0cHV0IGRhdGEgc2hvdWxkIGJlIHByZXBhcmVkIChvciBub3QpLCBjYW4gYmUgYWRqdXN0ZWQgd2l0aCBiZWZvcmVQcmVwYXJlT3V0cHV0IGhvb2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlUHJlcGFyZUZpbGUgPSBxdWVyeSgnR0VUX0JFRk9SRV9QUkVQQVJFX0ZJTEUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlUHJlcGFyZUZpbGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFByZXBhcmVPdXRwdXQgPSBiZWZvcmVQcmVwYXJlRmlsZShpdGVtLCBzaG91bGRQcmVwYXJlT3V0cHV0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkUHJlcGFyZU91dHB1dCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUFJFUEFSRV9PVVRQVVQnLCB7IGlkOiBpZCwgZmlsZTogZmlsZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXMgbG9jYWwgaXRlbSB3ZSBuZWVkIHRvIGVuYWJsZSB1cGxvYWQgYnV0dG9uIHNvIGNoYW5nZSBjYW4gYmUgcHJvcGFnYXRlZCB0byBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxPQ0FMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJGaWxlUmVmZXJlbmNlOiBpdGVtLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGFzeW5jIHNjZW5hcmlvc1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgcHVzaCB0aGlzIGZvcndhcmQgYSBiaXQgc28gdGhlIGludGVyZmFjZSBpcyB1cGRhdGVkIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMyKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV2ZXJ0ID0gZnVuY3Rpb24gcmV2ZXJ0KGRvVXBsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihkb1VwbG9hZCA/IHVwbG9hZCA6IGZ1bmN0aW9uKCkge30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge30pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhYm9ydCA9IGZ1bmN0aW9uIGFib3J0KGRvVXBsb2FkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpLnRoZW4oZG9VcGxvYWQgPyB1cGxvYWQgOiBmdW5jdGlvbigpIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgcmUtdXBsb2FkIHRoZSBmaWxlIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV2ZXJ0KHN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50bHkgdXBsb2FkaW5nLCBjYW5jZWwgdXBsb2FkXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWJvcnQoc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBNT1ZFX0lURU06IGZ1bmN0aW9uIE1PVkVfSVRFTShfcmVmNCkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IF9yZWY0LnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IF9yZWY0LmluZGV4O1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhdGUuaXRlbXMuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGxpbWl0KGluZGV4LCAwLCBzdGF0ZS5pdGVtcy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSBpbmRleCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHN0YXRlLml0ZW1zLnNwbGljZShpbmRleCwgMCwgc3RhdGUuaXRlbXMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSlbMF0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgU09SVDogZnVuY3Rpb24gU09SVChfcmVmNSkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wYXJlID0gX3JlZjUuY29tcGFyZTtcbiAgICAgICAgICAgICAgICBzb3J0SXRlbXMoc3RhdGUsIGNvbXBhcmUpO1xuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfU09SVF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBBRERfSVRFTVM6IGZ1bmN0aW9uIEFERF9JVEVNUyhfcmVmNikge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IF9yZWY2Lml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IF9yZWY2LmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCA9IF9yZWY2LmludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBfcmVmNiRzdWNjZXNzID0gX3JlZjYuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IF9yZWY2JHN1Y2Nlc3MgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNiRzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICBfcmVmNiRmYWlsdXJlID0gX3JlZjYuZmFpbHVyZSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSA9IF9yZWY2JGZhaWx1cmUgPT09IHZvaWQgMCA/IGZ1bmN0aW9uKCkge30gOiBfcmVmNiRmYWlsdXJlO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBpbmRleDtcblxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEgfHwgdHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbEl0ZW1zID0gcXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggPSBpbnNlcnRMb2NhdGlvbiA9PT0gJ2JlZm9yZScgPyAwIDogdG90YWxJdGVtcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgaWdub3JlZEZpbGVzID0gcXVlcnkoJ0dFVF9JR05PUkVEX0ZJTEVTJyk7XG4gICAgICAgICAgICAgICAgdmFyIGlzVmFsaWRGaWxlID0gZnVuY3Rpb24gaXNWYWxpZEZpbGUoc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0ZpbGUoc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAhaWdub3JlZEZpbGVzLmluY2x1ZGVzKHNvdXJjZS5uYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICFpc0VtcHR5KHNvdXJjZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWRJdGVtcyA9IGl0ZW1zLmZpbHRlcihpc1ZhbGlkRmlsZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSB2YWxpZEl0ZW1zLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0FERF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZS5zb3VyY2UgfHwgc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogcmVqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBjdXJyZW50SW5kZXgrKyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBzb3VyY2Uub3B0aW9ucyB8fCB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZmFpbHVyZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBwYXJhbSBzb3VyY2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBpbmRleFxuICAgICAgICAgICAgICogQHBhcmFtIGludGVyYWN0aW9uTWV0aG9kXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIEFERF9JVEVNOiBmdW5jdGlvbiBBRERfSVRFTShfcmVmNykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBfcmVmNy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIF9yZWY3JGluZGV4ID0gX3JlZjcuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gX3JlZjckaW5kZXggPT09IHZvaWQgMCA/IC0xIDogX3JlZjckaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kID0gX3JlZjcuaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIF9yZWY3JHN1Y2Nlc3MgPSBfcmVmNy5zdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gX3JlZjckc3VjY2VzcyA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY3JHN1Y2Nlc3MsXG4gICAgICAgICAgICAgICAgICAgIF9yZWY3JGZhaWx1cmUgPSBfcmVmNy5mYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICBmYWlsdXJlID0gX3JlZjckZmFpbHVyZSA9PT0gdm9pZCAwID8gZnVuY3Rpb24oKSB7fSA6IF9yZWY3JGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIF9yZWY3JG9wdGlvbnMgPSBfcmVmNy5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gX3JlZjckb3B0aW9ucyA9PT0gdm9pZCAwID8ge30gOiBfcmVmNyRvcHRpb25zO1xuICAgICAgICAgICAgICAgIC8vIGlmIG5vIHNvdXJjZSBzdXBwbGllZFxuICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5KHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogY3JlYXRlUmVzcG9uc2UoJ2Vycm9yJywgMCwgJ05vIHNvdXJjZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgaW52YWxpZCBmaWxlIGl0ZW1zLCB1c2VkIHRvIGZpbHRlciBkcm9wcGVkIGRpcmVjdG9yeSBjb250ZW50c1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgaXNGaWxlKHNvdXJjZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5pZ25vcmVkRmlsZXMuaW5jbHVkZXMoc291cmNlLm5hbWUudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmFpbCBzaWxlbnRseVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdGVzdCBpZiB0aGVyZSdzIHN0aWxsIHJvb20gaW4gdGhlIGxpc3Qgb2YgZmlsZXNcbiAgICAgICAgICAgICAgICBpZiAoIWhhc1Jvb21Gb3JJdGVtKHN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBtdWx0aXBsZSBhbGxvd2VkLCB3ZSBjYW4ndCByZXBsYWNlXG4gICAgICAgICAgICAgICAgICAgIC8vIG9yIGlmIG9ubHkgYSBzaW5nbGUgaXRlbSBpcyBhbGxvd2VkIGJ1dCB3ZSdyZSBub3QgYWxsb3dlZCB0byByZXBsYWNlIGl0IHdlIGV4aXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5hbGxvd011bHRpcGxlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoIXN0YXRlLm9wdGlvbnMuYWxsb3dNdWx0aXBsZSAmJiAhc3RhdGUub3B0aW9ucy5hbGxvd1JlcGxhY2UpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gY3JlYXRlUmVzcG9uc2UoJ3dhcm5pbmcnLCAwLCAnTWF4IGZpbGVzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfTUFYX0ZJTEVTJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLCBmaWxlOiBudWxsIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyByZXBsYWNlIHRoZSBpdGVtXG4gICAgICAgICAgICAgICAgICAgIC8vIGlkIG9mIGZpcnN0IGl0ZW0gd2UncmUgYWJvdXQgdG8gcmVtb3ZlXG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlbSA9IGdldEFjdGl2ZUl0ZW1zKHN0YXRlLml0ZW1zKVswXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBoYXMgYmVlbiBwcm9jZXNzZWQgcmVtb3ZlIGl0IGZyb20gdGhlIHNlcnZlciBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19SRVZFUlRfRVJST1JcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9yY2VSZXZlcnQgPSBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JjZVJldmVydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3JjZVJldmVydCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyeSB0byBhZGQgbm93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdBRERfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IGludGVyYWN0aW9uTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbigpIHt9KTsgLy8gbm8gbmVlZCB0byBoYW5kbGUgdGhpcyBjYXRjaCBzdGF0ZSBmb3Igbm93XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZVJldmVydCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZpcnN0IGl0ZW0gYXMgaXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGlzIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogX2l0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgZGlkIHRoZSBmaWxlIG9yaWdpbmF0ZVxuICAgICAgICAgICAgICAgIHZhciBvcmlnaW4gPVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnR5cGUgPT09ICdsb2NhbCdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gRmlsZU9yaWdpbi5MT0NBTFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLnR5cGUgPT09ICdsaW1ibydcbiAgICAgICAgICAgICAgICAgICAgICAgID8gRmlsZU9yaWdpbi5MSU1CT1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBGaWxlT3JpZ2luLklOUFVUO1xuXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGEgbmV3IGJsYW5rIGl0ZW1cbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGNyZWF0ZUl0ZW0oXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZXJlIGRpZCB0aGlzIGZpbGUgY29tZSBmcm9tXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbixcblxuICAgICAgICAgICAgICAgICAgICAvLyBhbiBpbnB1dCBmaWxlIG5ldmVyIGhhcyBhIHNlcnZlciBmaWxlIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICBvcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVQgPyBudWxsIDogc291cmNlLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgbW9jayBkYXRhLCBpZiBkZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZmlsZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZXQgaW5pdGlhbCBtZXRhIGRhdGFcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zLm1ldGFkYXRhIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnNldE1ldGFkYXRhKGtleSwgb3B0aW9ucy5tZXRhZGF0YVtrZXldKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZWQgdGhlIGl0ZW0sIGxldCBwbHVnaW5zIGFkZCBtZXRob2RzXG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdESURfQ1JFQVRFX0lURU0nLCBpdGVtLCB7IHF1ZXJ5OiBxdWVyeSwgZGlzcGF0Y2g6IGRpc3BhdGNoIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgdG8gaW5zZXJ0IG5ldyBpdGVtc1xuICAgICAgICAgICAgICAgIHZhciBpdGVtSW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGp1c3QgaW5kZXggaWYgaXMgbm90IGFsbG93ZWQgdG8gcGljayBsb2NhdGlvblxuICAgICAgICAgICAgICAgIGlmICghc3RhdGUub3B0aW9ucy5pdGVtSW5zZXJ0TG9jYXRpb25GcmVlZG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaXRlbUluc2VydExvY2F0aW9uID09PSAnYmVmb3JlJyA/IC0xIDogc3RhdGUuaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGFkZCBpdGVtIHRvIGxpc3RcbiAgICAgICAgICAgICAgICBpbnNlcnRJdGVtKHN0YXRlLml0ZW1zLCBpdGVtLCBpbmRleCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzb3J0IGl0ZW1zIGluIGxpc3RcbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihpdGVtSW5zZXJ0TG9jYXRpb24pICYmIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBzb3J0SXRlbXMoc3RhdGUsIGl0ZW1JbnNlcnRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGEgcXVpY2sgcmVmZXJlbmNlIHRvIHRoZSBpdGVtIGlkXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gaXRlbS5pZDtcblxuICAgICAgICAgICAgICAgIC8vIG9ic2VydmUgaXRlbSBldmVudHNcbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfSU5JVF9JVEVNJywgeyBpZDogaWQgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdsb2FkLWluaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TVEFSVF9JVEVNX0xPQUQnLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ2xvYWQtbWV0YScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX01FVEEnLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ2xvYWQtcHJvZ3Jlc3MnLCBmdW5jdGlvbihwcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1MnLCB7IGlkOiBpZCwgcHJvZ3Jlc3M6IHByb2dyZXNzIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbignbG9hZC1yZXF1ZXN0LWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1haW5TdGF0dXMgPSBkeW5hbWljTGFiZWwoc3RhdGUub3B0aW9ucy5sYWJlbEZpbGVMb2FkRXJyb3IpKGVycm9yKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBjbGllbnQgZXJyb3IsIG5vIHdheSB0byByZWNvdmVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID49IDQwMCAmJiBlcnJvci5jb2RlIDwgNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fSU5WQUxJRCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBtYWluU3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWI6IGVycm9yLmNvZGUgKyAnICgnICsgZXJyb3IuYm9keSArICcpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdCB0aGUgZmlsZSBzbyBjYW4gYmUgZGVhbHQgd2l0aCB0aHJvdWdoIEFQSVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZSh7IGVycm9yOiBlcnJvciwgZmlsZTogY3JlYXRlSXRlbUFQSShpdGVtKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIHBvc3NpYmxlIHNlcnZlciBlcnJvciwgc28gbWlnaHQgYmUgcG9zc2libGUgdG8gcmV0cnlcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX0xPQURfRVJST1InLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWluOiBtYWluU3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ2xvYWQtZmlsZS1lcnJvcicsIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9JTlZBTElEJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLnN0YXR1cywgZmlsZTogY3JlYXRlSXRlbUFQSShpdGVtKSB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ2xvYWQtYWJvcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFTU9WRV9JVEVNJywgeyBxdWVyeTogaWQgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdsb2FkLXNraXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0NPTVBMRVRFX0xPQURfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQWRkID0gZnVuY3Rpb24gaGFuZGxlQWRkKHNob3VsZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gc2hvdWxkIG5vdCBhZGQgdGhpcyBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBub3cgaW50ZXJlc3RlZCBpbiBtZXRhZGF0YSB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9uKCdtZXRhZGF0YS11cGRhdGUnLCBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1VQREFURV9JVEVNX01FVEFEQVRBJywgeyBpZDogaWQsIGNoYW5nZTogY2hhbmdlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBwbHVnaW5zIGRlY2lkZSBpZiB0aGUgb3V0cHV0IGRhdGEgc2hvdWxkIGJlIHByZXBhcmVkIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1lYW5zIHdlJ2xsIGRvIHRoaXMgYW5kIHdhaXQgZm9yIGlkbGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1NIT1VMRF9QUkVQQVJFX09VVFBVVCcsIGZhbHNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHNob3VsZFByZXBhcmVPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwbHVnaW5zIGRldGVybWluZWQgdGhlIG91dHB1dCBkYXRhIHNob3VsZCBiZSBwcmVwYXJlZCAob3Igbm90KSwgY2FuIGJlIGFkanVzdGVkIHdpdGggYmVmb3JlUHJlcGFyZU91dHB1dCBob29rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJlZm9yZVByZXBhcmVGaWxlID0gcXVlcnkoJ0dFVF9CRUZPUkVfUFJFUEFSRV9GSUxFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZVByZXBhcmVGaWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRQcmVwYXJlT3V0cHV0ID0gYmVmb3JlUHJlcGFyZUZpbGUoaXRlbSwgc2hvdWxkUHJlcGFyZU91dHB1dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9hZENvbXBsZXRlID0gZnVuY3Rpb24gbG9hZENvbXBsZXRlKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnQ09NUExFVEVfTE9BRF9JVEVNJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRQcmVwYXJlT3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGlkbGUgc3RhdGUgYW5kIHRoZW4gcnVuIFBSRVBBUkVfT1VUUFVUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1JFUVVFU1RfUFJFUEFSRV9PVVRQVVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1BSRVBBUkVfT1VUUFVUJywgeyBpZDogaWQsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaXRlbSBsb2FkZWQsIGFsbG93IHBsdWdpbnMgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gLSByZWFkIGRhdGEgKHF1aWNrbHkpXG4gICAgICAgICAgICAgICAgICAgIC8vIC0gYWRkIG1ldGFkYXRhXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0RJRF9MT0FEX0lURU0nLCBpdGVtLCB7IHF1ZXJ5OiBxdWVyeSwgZGlzcGF0Y2g6IGRpc3BhdGNoIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbFByb21pc2UocXVlcnkoJ0dFVF9CRUZPUkVfQUREX0ZJTEUnKSwgY3JlYXRlSXRlbUFQSShpdGVtKSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQWRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZSB8fCAhZS5lcnJvciB8fCAhZS5zdGF0dXMpIHJldHVybiBoYW5kbGVBZGQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfVEhST1dfSVRFTV9JTlZBTElEJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGUuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXN0YXJ0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaWQgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpdGVtLm9uKCdwcm9jZXNzLXByb2dyZXNzJywgZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTJywgeyBpZDogaWQsIHByb2dyZXNzOiBwcm9ncmVzcyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZVByb2Nlc3NpbmdFcnJvcikoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yjogc3RhdGUub3B0aW9ucy5sYWJlbFRhcFRvUmV0cnksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGl0ZW0ub24oJ3Byb2Nlc3MtcmV2ZXJ0LWVycm9yJywgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbjogZHluYW1pY0xhYmVsKHN0YXRlLm9wdGlvbnMubGFiZWxGaWxlUHJvY2Vzc2luZ1JldmVydEVycm9yKShlcnJvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1jb21wbGV0ZScsIGZ1bmN0aW9uKHNlcnZlckZpbGVSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IHNlcnZlckZpbGVSZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywgeyBpZDogaWQsIHZhbHVlOiBzZXJ2ZXJGaWxlUmVmZXJlbmNlIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1hYm9ydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORycsIHsgaWQ6IGlkIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5vbigncHJvY2Vzcy1yZXZlcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBpZDogaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfREVGSU5FX1ZBTFVFJywgeyBpZDogaWQsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0IHZpZXcga25vdyB0aGUgaXRlbSBoYXMgYmVlbiBpbnNlcnRlZFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfQUREX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogaW50ZXJhY3Rpb25NZXRob2QsXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsaXN0VXBkYXRlZChkaXNwYXRjaCwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZyB0aGUgc291cmNlXG4gICAgICAgICAgICAgICAgdmFyIF9yZWY4ID0gc3RhdGUub3B0aW9ucy5zZXJ2ZXIgfHwge30sXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IF9yZWY4LnVybCxcbiAgICAgICAgICAgICAgICAgICAgbG9hZCA9IF9yZWY4LmxvYWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3RvcmUgPSBfcmVmOC5yZXN0b3JlLFxuICAgICAgICAgICAgICAgICAgICBmZXRjaCA9IF9yZWY4LmZldGNoO1xuXG4gICAgICAgICAgICAgICAgaXRlbS5sb2FkKFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBsb2FkcyB0aGUgZmlsZSBiYXNlZCBvbiB0aGUgdHlwZSBvZiBmaWxlIChzdHJpbmcsIGJhc2U2NCwgYmxvYiwgZmlsZSkgYW5kIGxvY2F0aW9uIG9mIGZpbGUgKGxvY2FsLCByZW1vdGUsIGxpbWJvKVxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVGaWxlTG9hZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luID09PSBGaWxlT3JpZ2luLklOUFVUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAvLyBpbnB1dCwgaWYgaXMgcmVtb3RlLCBzZWUgaWYgc2hvdWxkIHVzZSBjdXN0b20gZmV0Y2gsIGVsc2UgdXNlIGRlZmF1bHQgZmV0Y2hCbG9iXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1N0cmluZyhzb3VyY2UpICYmIGlzRXh0ZXJuYWxVUkwoc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZldGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCBmZXRjaClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZmV0Y2hCbG9iIC8vIHJlbW90ZSB1cmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmZXRjaEJsb2IgLy8gdHJ5IHRvIGZldGNoIHVybFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogLy8gbGltYm8gb3IgbG9jYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4gPT09IEZpbGVPcmlnaW4uTElNQk9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZldGNoRnVuY3Rpb24odXJsLCByZXN0b3JlKSAvLyBsaW1ib1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3JlYXRlRmV0Y2hGdW5jdGlvbih1cmwsIGxvYWQpIC8vIGxvY2FsXG4gICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIHdoZW4gdGhlIGZpbGUgaXMgbG9hZGVkIHNvIGl0IGNhbiBiZSBwaXBlZCB0aHJvdWdoIHRoZSBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGZpbGUsIHN1Y2Nlc3MsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBwcm9jZXNzIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdMT0FEX0ZJTEUnLCBmaWxlLCB7IHF1ZXJ5OiBxdWVyeSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHN1Y2Nlc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBSRVFVRVNUX1BSRVBBUkVfT1VUUFVUOiBmdW5jdGlvbiBSRVFVRVNUX1BSRVBBUkVfT1VUUFVUKF9yZWY5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfcmVmOS5pdGVtLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzID0gX3JlZjkuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgX3JlZjkkZmFpbHVyZSA9IF9yZWY5LmZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmUgPSBfcmVmOSRmYWlsdXJlID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHt9IDogX3JlZjkkZmFpbHVyZTtcbiAgICAgICAgICAgICAgICAvLyBlcnJvciByZXNwb25zZSBpZiBpdGVtIGFyY2hpdmVkXG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCdlcnJvcicsIDAsICdJdGVtIG5vdCBmb3VuZCcpLFxuICAgICAgICAgICAgICAgICAgICBmaWxlOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBoYW5kbGUgYXJjaGl2ZWQgaXRlbXMsIGFuIGl0ZW0gY291bGQgaGF2ZSBiZWVuIGFyY2hpdmVkIChsb2FkIGFib3J0ZWQpIHdoaWxlIHdhaXRpbmcgdG8gYmUgcHJlcGFyZWRcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5hcmNoaXZlZCkgcmV0dXJuIGZhaWx1cmUoZXJyKTtcblxuICAgICAgICAgICAgICAgIC8vIGFsbG93IHBsdWdpbnMgdG8gYWx0ZXIgdGhlIGZpbGUgZGF0YVxuICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ1BSRVBBUkVfT1VUUFVUJywgaXRlbS5maWxlLCB7IHF1ZXJ5OiBxdWVyeSwgaXRlbTogaXRlbSB9KS50aGVuKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyQ2hhaW4oJ0NPTVBMRVRFX1BSRVBBUkVfT1VUUFVUJywgcmVzdWx0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGhhbmRsZSBhcmNoaXZlZCBpdGVtcywgYW4gaXRlbSBjb3VsZCBoYXZlIGJlZW4gYXJjaGl2ZWQgKGxvYWQgYWJvcnRlZCkgd2hpbGUgYmVpbmcgcHJlcGFyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hcmNoaXZlZCkgcmV0dXJuIGZhaWx1cmUoZXJyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGRvbmUhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgQ09NUExFVEVfTE9BRF9JVEVNOiBmdW5jdGlvbiBDT01QTEVURV9MT0FEX0lURU0oX3JlZjEwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfcmVmMTAuaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9yZWYxMC5kYXRhO1xuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzID0gZGF0YS5zdWNjZXNzLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBkYXRhLnNvdXJjZTtcblxuICAgICAgICAgICAgICAgIC8vIHNvcnQgaXRlbXMgaW4gbGlzdFxuICAgICAgICAgICAgICAgIHZhciBpdGVtSW5zZXJ0TG9jYXRpb24gPSBxdWVyeSgnR0VUX0lURU1fSU5TRVJUX0xPQ0FUSU9OJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaXRlbUluc2VydExvY2F0aW9uKSAmJiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc29ydEl0ZW1zKHN0YXRlLCBpdGVtSW5zZXJ0TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGxldCBpbnRlcmZhY2Uga25vdyB0aGUgaXRlbSBoYXMgbG9hZGVkXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9MT0FEX0lURU0nLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRmlsZVJlZmVyZW5jZTogaXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uSU5QVVQgPyBudWxsIDogc291cmNlLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gaXRlbSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgbG9hZGVkIGFuZCBhZGRlZCB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGl0ZW1zIHNvIGNhbiBub3cgYmUgc2FmZWx5IHJldHVybmVkIGZvciB1c2VcbiAgICAgICAgICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhIGxvY2FsIHNlcnZlciBmaWxlIHdlIG5lZWQgdG8gc2hvdyBhIGRpZmZlcmVudCBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnRElEX0xPQURfTE9DQUxfSVRFTScsIHsgaWQ6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBpcyBhIHRlbXAgc2VydmVyIGZpbGUgd2UgcHJldmVudCBhc3luYyB1cGxvYWQgY2FsbCBoZXJlIChhcyB0aGUgZmlsZSBpcyBhbHJlYWR5IG9uIHRoZSBzZXJ2ZXIpXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ub3JpZ2luID09PSBGaWxlT3JpZ2luLkxJTUJPKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckZpbGVSZWZlcmVuY2U6IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9ERUZJTkVfVkFMVUUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLnNlcnZlcklkIHx8IHNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlkIHdlIGFyZSBhbGxvd2VkIHRvIHVwbG9hZCB0aGUgZmlsZSBpbW1lZGlhdGVseSwgbGV0cyBkbyBpdFxuICAgICAgICAgICAgICAgIGlmIChxdWVyeSgnSVNfQVNZTkMnKSAmJiBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbS5pZCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBSRVRSWV9JVEVNX0xPQUQ6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJ5IGxvYWRpbmcgdGhlIHNvdXJjZSBvbmUgbW9yZSB0aW1lXG4gICAgICAgICAgICAgICAgaXRlbS5yZXRyeUxvYWQoKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBSRVFVRVNUX0lURU1fUFJFUEFSRTogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0sIF9zdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgICAgICdSRVFVRVNUX1BSRVBBUkVfT1VUUFVUJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGl0ZW0uaWQsIGZpbGU6IGZpbGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3N1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IGZpbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogZmFpbHVyZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBSRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgICBmYWlsdXJlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmUgcXVldWVkIChvciBpcyBhbHJlYWR5IHF1ZXVlZClcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUNhbkJlUXVldWVkRm9yUHJvY2Vzc2luZyA9XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhaXRpbmcgZm9yIHNvbWV0aGluZ1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5JRExFIHx8XG4gICAgICAgICAgICAgICAgICAgIC8vIHByb2Nlc3Npbmcgd2VudCB3cm9uZyBlYXJsaWVyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfRVJST1I7XG5cbiAgICAgICAgICAgICAgICAvLyBub3QgcmVhZHkgdG8gYmUgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtQ2FuQmVRdWV1ZWRGb3JQcm9jZXNzaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzTm93ID0gZnVuY3Rpb24gcHJvY2Vzc05vdygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWlsdXJlOiBmYWlsdXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3MgPSBmdW5jdGlvbiBwcm9jZXNzKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmhpZGRlbiA/IHByb2Nlc3NOb3coKSA6IHNldFRpbWVvdXQocHJvY2Vzc05vdywgMzIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGFscmVhZHkgZG9uZSBwcm9jZXNzaW5nIG9yIHRyaWVkIHRvIHJldmVydCBidXQgZGlkbid0IHdvcmssIHRyeSBhZ2FpblxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUlxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmV2ZXJ0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJldmVydEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMuc2VydmVyLnJldmVydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkoJ0dFVF9GT1JDRV9SRVZFUlQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHByb2Nlc3MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKCkge30pOyAvLyBkb24ndCBjb250aW51ZSB3aXRoIHByb2Nlc3NpbmcgaWYgc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PT0gSXRlbVN0YXR1cy5QUk9DRVNTSU5HKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpLnRoZW4ocHJvY2Vzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBxdWV1ZWQgZm9yIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuUFJPQ0VTU0lOR19RVUVVRUQpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGl0ZW0ucmVxdWVzdFByb2Nlc3NpbmcoKTtcblxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkOiBpdGVtLmlkIH0pO1xuXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1BST0NFU1NfSVRFTScsIHsgcXVlcnk6IGl0ZW0sIHN1Y2Nlc3M6IHN1Y2Nlc3MsIGZhaWx1cmU6IGZhaWx1cmUgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgUFJPQ0VTU19JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSwgc3VjY2VzcywgZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgIHZhciBtYXhQYXJhbGxlbFVwbG9hZHMgPSBxdWVyeSgnR0VUX01BWF9QQVJBTExFTF9VUExPQURTJyk7XG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsQ3VycmVudFVwbG9hZHMgPSBxdWVyeSgnR0VUX0lURU1TX0JZX1NUQVRVUycsIEl0ZW1TdGF0dXMuUFJPQ0VTU0lORylcbiAgICAgICAgICAgICAgICAgICAgLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIC8vIHF1ZXVlIGFuZCB3YWl0IHRpbGwgcXVldWUgaXMgZnJlZWQgdXBcbiAgICAgICAgICAgICAgICBpZiAodG90YWxDdXJyZW50VXBsb2FkcyA9PT0gbWF4UGFyYWxsZWxVcGxvYWRzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHF1ZXVlIGZvciBsYXRlciBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnByb2Nlc3NpbmdRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgaXQhXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3YXMgbm90IHF1ZXVlZCBvciBpcyBhbHJlYWR5IHByb2Nlc3NpbmcgZXhpdCBoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzTmV4dCA9IGZ1bmN0aW9uIHByb2Nlc3NOZXh0KCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHF1ZXVldWQgaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXVlRW50cnkgPSBzdGF0ZS5wcm9jZXNzaW5nUXVldWUuc2hpZnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBubyBpdGVtcyBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGlmICghcXVldWVFbnRyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGdldCBpdGVtIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBxdWV1ZUVudHJ5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA9IHF1ZXVlRW50cnkuc3VjY2VzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWx1cmUgPSBxdWV1ZUVudHJ5LmZhaWx1cmU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtUmVmZXJlbmNlID0gZ2V0SXRlbUJ5UXVlcnkoc3RhdGUuaXRlbXMsIGlkKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdGVtIHdhcyBhcmNoaXZlZCB3aGlsZSBpbiBxdWV1ZSwganVtcCB0byBuZXh0XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXRlbVJlZmVyZW5jZSB8fCBpdGVtUmVmZXJlbmNlLmFyY2hpdmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBxdWV1ZWQgaXRlbVxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICdQUk9DRVNTX0lURU0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBxdWVyeTogaWQsIHN1Y2Nlc3M6IHN1Y2Nlc3MsIGZhaWx1cmU6IGZhaWx1cmUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uZSBmdW5jdGlvblxuICAgICAgICAgICAgICAgIGl0ZW0ub25PbmNlKCdwcm9jZXNzLWNvbXBsZXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MoY3JlYXRlSXRlbUFQSShpdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NOZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgb3JpZ2luIGlzIGxvY2FsLCBhbmQgd2UncmUgaW5zdGFudCB1cGxvYWRpbmcsIHRyaWdnZXIgcmVtb3ZlIG9mIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFzIHJldmVydCB3aWxsIHJlbW92ZSBmaWxlIGZyb20gbGlzdFxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VydmVyID0gc3RhdGUub3B0aW9ucy5zZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW50VXBsb2FkID0gc3RhdGUub3B0aW9ucy5pbnN0YW50VXBsb2FkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW50VXBsb2FkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihzZXJ2ZXIucmVtb3ZlKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmlnaW4gPSBGaWxlT3JpZ2luLkxJTUJPO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIucmVtb3ZlKGl0ZW0uc291cmNlLCBub29wLCBub29wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbCBpdGVtcyBwcm9jZXNzZWQ/IE5vIGVycm9ycz9cbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbEl0ZW1zUHJvY2Vzc2VkID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfSVRFTVNfQllfU1RBVFVTJywgSXRlbVN0YXR1cy5QUk9DRVNTSU5HX0NPTVBMRVRFKS5sZW5ndGggPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxJdGVtc1Byb2Nlc3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkdfQUxMJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHdlIGVycm9yIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgaXRlbS5vbk9uY2UoJ3Byb2Nlc3MtZXJyb3InLCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBmYWlsdXJlKHsgZXJyb3I6IGVycm9yLCBmaWxlOiBjcmVhdGVJdGVtQVBJKGl0ZW0pIH0pO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzTmV4dCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgZmlsZSBwcm9jZXNzaW5nXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBzdGF0ZS5vcHRpb25zO1xuICAgICAgICAgICAgICAgIGl0ZW0ucHJvY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRmlsZVByb2Nlc3NvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVByb2Nlc3NvckZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VydmVyLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNlcnZlci5wcm9jZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rVHJhbnNmZXJJZDogaXRlbS50cmFuc2ZlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHVua1NlcnZlcjogb3B0aW9ucy5zZXJ2ZXIucGF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rVXBsb2Fkczogb3B0aW9ucy5jaHVua1VwbG9hZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rRm9yY2U6IG9wdGlvbnMuY2h1bmtGb3JjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtTaXplOiBvcHRpb25zLmNodW5rU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtSZXRyeURlbGF5czogb3B0aW9ucy5jaHVua1JldHJ5RGVsYXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd01pbmltdW1VcGxvYWREdXJhdGlvbjogcXVlcnkoJ0dFVF9BTExPV19NSU5JTVVNX1VQTE9BRF9EVVJBVElPTicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxlZCB3aGVuIHRoZSBmaWxlIGlzIGFib3V0IHRvIGJlIHByb2Nlc3NlZCBzbyBpdCBjYW4gYmUgcGlwZWQgdGhyb3VnaCB0aGUgdHJhbnNmb3JtIGZpbHRlcnNcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZmlsZSwgc3VjY2VzcywgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsbG93IHBsdWdpbnMgdG8gYWx0ZXIgdGhlIGZpbGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignUFJFUEFSRV9PVVRQVVQnLCBmaWxlLCB7IHF1ZXJ5OiBxdWVyeSwgaXRlbTogaXRlbSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9QUkVQQVJFX09VVFBVVCcsIHsgaWQ6IGl0ZW0uaWQsIGZpbGU6IGZpbGUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyhmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFJFVFJZX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLCB7IHF1ZXJ5OiBpdGVtIH0pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFJFUVVFU1RfUkVNT1ZFX0lURU06IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9uYWxQcm9taXNlKHF1ZXJ5KCdHRVRfQkVGT1JFX1JFTU9WRV9GSUxFJyksIGNyZWF0ZUl0ZW1BUEkoaXRlbSkpLnRoZW4oZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlbW92ZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZFJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgUkVMRUFTRV9JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIGl0ZW0ucmVsZWFzZSgpO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIFJFTU9WRV9JVEVNOiBnZXRJdGVtQnlRdWVyeUZyb21TdGF0ZShzdGF0ZSwgZnVuY3Rpb24oaXRlbSwgc3VjY2VzcywgZmFpbHVyZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciByZW1vdmVGcm9tVmlldyA9IGZ1bmN0aW9uIHJlbW92ZUZyb21WaWV3KCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBnZXQgaWQgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGl0ZW0uaWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYXJjaGl2ZSB0aGUgaXRlbSwgdGhpcyBkb2VzIG5vdCByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdFxuICAgICAgICAgICAgICAgICAgICBnZXRJdGVtQnlJZChzdGF0ZS5pdGVtcywgaWQpLmFyY2hpdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyB0ZWxsIHRoZSB2aWV3IHRoZSBpdGVtIGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9SRU1PVkVfSVRFTScsIHsgZXJyb3I6IG51bGwsIGlkOiBpZCwgaXRlbTogaXRlbSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBub3cgdGhlIGxpc3QgaGFzIGJlZW4gbW9kaWZpZWRcbiAgICAgICAgICAgICAgICAgICAgbGlzdFVwZGF0ZWQoZGlzcGF0Y2gsIHN0YXRlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjb3JyZWN0bHkgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKGNyZWF0ZUl0ZW1BUEkoaXRlbSkpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgbG9jYWwgZmlsZSBhbmQgdGhlIGBzZXJ2ZXIucmVtb3ZlYCBmdW5jdGlvbiBoYXMgYmVlbiBjb25maWd1cmVkLFxuICAgICAgICAgICAgICAgIC8vIHNlbmQgc291cmNlIHRoZXJlIHNvIGRldiBjYW4gcmVtb3ZlIGZpbGUgZnJvbSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmVyID0gc3RhdGUub3B0aW9ucy5zZXJ2ZXI7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCAmJlxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihzZXJ2ZXIucmVtb3ZlKSAmJlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJlbW92ZSAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9TVEFSVF9JVEVNX1JFTU9WRScsIHsgaWQ6IGl0ZW0uaWQgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VydmVyLnJlbW92ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZUZyb21WaWV3KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ0RJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnZXJyb3InLCAwLCBzdGF0dXMsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1haW46IGR5bmFtaWNMYWJlbChzdGF0ZS5vcHRpb25zLmxhYmVsRmlsZVJlbW92ZUVycm9yKShzdGF0dXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViOiBzdGF0ZS5vcHRpb25zLmxhYmVsVGFwVG9SZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpcyByZXF1ZXN0aW5nIHJldmVydCBhbmQgY2FuIHJldmVydCBuZWVkIHRvIGNhbGwgcmV2ZXJ0IGhhbmRsZXIgKG5vdCBjYWxsaW5nIHJlcXVlc3RfIGJlY2F1c2UgdGhhdCB3b3VsZCBhbHNvIHRyaWdnZXIgYmVmb3JlUmVtb3ZlSG9vaylcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKG9wdGlvbnMucmV2ZXJ0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmlnaW4gIT09IEZpbGVPcmlnaW4uTE9DQUwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNlcnZlcklkICE9PSBudWxsKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgY2h1bmtlZCB1cGxvYWRzIGFyZSBlbmFibGVkIGFuZCB3ZSdyZSB1cGxvYWRpbmcgaW4gY2h1bmtzIGZvciB0aGlzIHNwZWNpZmljIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIGlmIHRoZSBmaWxlIGlzbid0IGJpZyBlbm91Z2ggZm9yIGNodW5rZWQgdXBsb2FkcyBidXQgY2h1bmtGb3JjZSBpcyBzZXQgdGhlbiBjYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnQgYmVmb3JlIHJlbW92aW5nIGZyb20gdGhlIHZpZXcuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIChzdGF0ZS5vcHRpb25zLmNodW5rVXBsb2FkcyAmJiBpdGVtLmZpbGUuc2l6ZSA+IHN0YXRlLm9wdGlvbnMuY2h1bmtTaXplKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXRlLm9wdGlvbnMuY2h1bmtVcGxvYWRzICYmIHN0YXRlLm9wdGlvbnMuY2h1bmtGb3JjZSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVSZXZlcnRGdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5KCdHRVRfRk9SQ0VfUkVWRVJUJylcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBjYW4gbm93IHNhZmVseSByZW1vdmUgZnJvbSB2aWV3XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUZyb21WaWV3KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIEFCT1JUX0lURU1fTE9BRDogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLmFib3J0TG9hZCgpO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIEFCT1JUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAvLyB0ZXN0IGlmIGlzIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uc2VydmVySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goJ1JFVkVSVF9JVEVNX1BST0NFU1NJTkcnLCB7IGlkOiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYWJvcnRcbiAgICAgICAgICAgICAgICBpdGVtLmFib3J0UHJvY2Vzc2luZygpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG91bGRSZW1vdmUgPSBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRU1PVkVfSVRFTScsIHsgcXVlcnk6IGl0ZW0uaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBSRVFVRVNUX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGdldEl0ZW1CeVF1ZXJ5RnJvbVN0YXRlKHN0YXRlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90IGluc3RhbnQgdXBsb2FkaW5nLCByZXZlcnQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLm9wdGlvbnMuaW5zdGFudFVwbG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsIHsgcXVlcnk6IGl0ZW0gfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBpbnN0YW50IHVwbG9hZGluZyB0aGUgZmlsZSB3aWxsIGFsc28gYmUgcmVtb3ZlZCBpZiB3ZSByZXZlcnQsXG4gICAgICAgICAgICAgICAgLy8gc28gaWYgYSBiZWZvcmUgcmVtb3ZlIGZpbGUgaG9vayBpcyBkZWZpbmVkIHdlIG5lZWQgdG8gcnVuIGl0IG5vd1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVSZXZlcnQgPSBmdW5jdGlvbiBoYW5kbGVSZXZlcnQoc2hvdWxkUmV2ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkUmV2ZXJ0KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdSRVZFUlRfSVRFTV9QUk9DRVNTSU5HJywgeyBxdWVyeTogaXRlbSB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGZuID0gcXVlcnkoJ0dFVF9CRUZPUkVfUkVNT1ZFX0ZJTEUnKTtcbiAgICAgICAgICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXZlcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RSZW1vdmVSZXN1bHQgPSBmbihjcmVhdGVJdGVtQVBJKGl0ZW0pKTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdFJlbW92ZVJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXZlcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0UmVtb3ZlUmVzdWx0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJldmVydChyZXF1ZXN0UmVtb3ZlUmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3RSZW1vdmVSZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UmVtb3ZlUmVzdWx0LnRoZW4oaGFuZGxlUmV2ZXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogZ2V0SXRlbUJ5UXVlcnlGcm9tU3RhdGUoc3RhdGUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBpdGVtLnJldmVydChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV2ZXJ0RnVuY3Rpb24oc3RhdGUub3B0aW9ucy5zZXJ2ZXIudXJsLCBzdGF0ZS5vcHRpb25zLnNlcnZlci5yZXZlcnQpLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeSgnR0VUX0ZPUkNFX1JFVkVSVCcpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaG91bGRSZW1vdmUgPSBzdGF0ZS5vcHRpb25zLmluc3RhbnRVcGxvYWQgfHwgaXNNb2NrSXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCB7IHF1ZXJ5OiBpdGVtLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oKSB7fSk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgU0VUX09QVElPTlM6IGZ1bmN0aW9uIFNFVF9PUFRJT05TKF9yZWYxMSkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gX3JlZjExLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IGFsbCBrZXlzIHBhc3NlZFxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25LZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICAvLyBnZXQgcHJpb3JpdGl6ZWQga2V5ZWQgdG8gaW5jbHVkZSAocmVtb3ZlIG9uY2Ugbm90IGluIG9wdGlvbnMgb2JqZWN0KVxuICAgICAgICAgICAgICAgIHZhciBwcmlvcml0aXplZE9wdGlvbktleXMgPSBQcmlvcml0aXplZE9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uS2V5cy5pbmNsdWRlcyhrZXkpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgdGhlIGtleXMsIHByaW9yaXRpemVkIGZpcnN0LCB0aGVuIHJlc3RcbiAgICAgICAgICAgICAgICB2YXIgb3JkZXJlZE9wdGlvbktleXMgPSBbXS5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIF90b0NvbnN1bWFibGVBcnJheShwcmlvcml0aXplZE9wdGlvbktleXMpLFxuICAgICAgICAgICAgICAgICAgICBfdG9Db25zdW1hYmxlQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvcHRpb25zKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFwcmlvcml0aXplZE9wdGlvbktleXMuaW5jbHVkZXMoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggc2V0IGV2ZW50IGZvciBlYWNoIG9wdGlvblxuICAgICAgICAgICAgICAgIG9yZGVyZWRPcHRpb25LZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdTRVRfJyArIGZyb21DYW1lbHMoa2V5LCAnXycpLnRvVXBwZXJDYXNlKCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb25zW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIFByaW9yaXRpemVkT3B0aW9ucyA9IFsnc2VydmVyJ107XG5cbiAgICB2YXIgZm9ybWF0RmlsZW5hbWUgPSBmdW5jdGlvbiBmb3JtYXRGaWxlbmFtZShuYW1lKSB7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRWxlbWVudCQxID0gZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIH07XG5cbiAgICB2YXIgdGV4dCA9IGZ1bmN0aW9uIHRleHQobm9kZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHRleHROb2RlID0gbm9kZS5jaGlsZE5vZGVzWzBdO1xuICAgICAgICBpZiAoIXRleHROb2RlKSB7XG4gICAgICAgICAgICB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlKTtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB0ZXh0Tm9kZS5ub2RlVmFsdWUpIHtcbiAgICAgICAgICAgIHRleHROb2RlLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBwb2xhclRvQ2FydGVzaWFuID0gZnVuY3Rpb24gcG9sYXJUb0NhcnRlc2lhbihjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMsIGFuZ2xlSW5EZWdyZWVzKSB7XG4gICAgICAgIHZhciBhbmdsZUluUmFkaWFucyA9ICgoKGFuZ2xlSW5EZWdyZWVzICUgMzYwKSAtIDkwKSAqIE1hdGguUEkpIC8gMTgwLjA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBjZW50ZXJYICsgcmFkaXVzICogTWF0aC5jb3MoYW5nbGVJblJhZGlhbnMpLFxuICAgICAgICAgICAgeTogY2VudGVyWSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlSW5SYWRpYW5zKSxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGRlc2NyaWJlQXJjID0gZnVuY3Rpb24gZGVzY3JpYmVBcmMoeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYXJjU3dlZXApIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gcG9sYXJUb0NhcnRlc2lhbih4LCB5LCByYWRpdXMsIGVuZEFuZ2xlKTtcbiAgICAgICAgdmFyIGVuZCA9IHBvbGFyVG9DYXJ0ZXNpYW4oeCwgeSwgcmFkaXVzLCBzdGFydEFuZ2xlKTtcbiAgICAgICAgcmV0dXJuIFsnTScsIHN0YXJ0LngsIHN0YXJ0LnksICdBJywgcmFkaXVzLCByYWRpdXMsIDAsIGFyY1N3ZWVwLCAwLCBlbmQueCwgZW5kLnldLmpvaW4oJyAnKTtcbiAgICB9O1xuXG4gICAgdmFyIHBlcmNlbnRhZ2VBcmMgPSBmdW5jdGlvbiBwZXJjZW50YWdlQXJjKHgsIHksIHJhZGl1cywgZnJvbSwgdG8pIHtcbiAgICAgICAgdmFyIGFyY1N3ZWVwID0gMTtcbiAgICAgICAgaWYgKHRvID4gZnJvbSAmJiB0byAtIGZyb20gPD0gMC41KSB7XG4gICAgICAgICAgICBhcmNTd2VlcCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb20gPiB0byAmJiBmcm9tIC0gdG8gPj0gMC41KSB7XG4gICAgICAgICAgICBhcmNTd2VlcCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlQXJjKFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgICBNYXRoLm1pbigwLjk5OTksIGZyb20pICogMzYwLFxuICAgICAgICAgICAgTWF0aC5taW4oMC45OTk5LCB0bykgKiAzNjAsXG4gICAgICAgICAgICBhcmNTd2VlcFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgICAgIC8vIHN0YXJ0IGF0IDBcbiAgICAgICAgcHJvcHMuc3BpbiA9IGZhbHNlO1xuICAgICAgICBwcm9wcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHByb3BzLm9wYWNpdHkgPSAwO1xuXG4gICAgICAgIC8vIHN2Z1xuICAgICAgICB2YXIgc3ZnID0gY3JlYXRlRWxlbWVudCgnc3ZnJyk7XG4gICAgICAgIHJvb3QucmVmLnBhdGggPSBjcmVhdGVFbGVtZW50KCdwYXRoJywge1xuICAgICAgICAgICAgJ3N0cm9rZS13aWR0aCc6IDIsXG4gICAgICAgICAgICAnc3Ryb2tlLWxpbmVjYXAnOiAncm91bmQnLFxuICAgICAgICB9KTtcblxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQocm9vdC5yZWYucGF0aCk7XG5cbiAgICAgICAgcm9vdC5yZWYuc3ZnID0gc3ZnO1xuXG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgICB9O1xuXG4gICAgdmFyIHdyaXRlID0gZnVuY3Rpb24gd3JpdGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgaWYgKHByb3BzLm9wYWNpdHkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9wcy5hbGlnbikge1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSBwcm9wcy5hbGlnbjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB3aWR0aCBvZiBzdHJva2VcbiAgICAgICAgdmFyIHJpbmdTdHJva2VXaWR0aCA9IHBhcnNlSW50KGF0dHIocm9vdC5yZWYucGF0aCwgJ3N0cm9rZS13aWR0aCcpLCAxMCk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHNpemUgb2YgcmluZ1xuICAgICAgICB2YXIgc2l6ZSA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoICogMC41O1xuXG4gICAgICAgIC8vIHJpbmcgc3RhdGVcbiAgICAgICAgdmFyIHJpbmdGcm9tID0gMDtcbiAgICAgICAgdmFyIHJpbmdUbyA9IDA7XG5cbiAgICAgICAgLy8gbm93IGluIGJ1c3kgbW9kZVxuICAgICAgICBpZiAocHJvcHMuc3Bpbikge1xuICAgICAgICAgICAgcmluZ0Zyb20gPSAwO1xuICAgICAgICAgICAgcmluZ1RvID0gMC41O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmluZ0Zyb20gPSAwO1xuICAgICAgICAgICAgcmluZ1RvID0gcHJvcHMucHJvZ3Jlc3M7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZXQgYXJjIHBhdGhcbiAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gcGVyY2VudGFnZUFyYyhzaXplLCBzaXplLCBzaXplIC0gcmluZ1N0cm9rZVdpZHRoLCByaW5nRnJvbSwgcmluZ1RvKTtcblxuICAgICAgICAvLyB1cGRhdGUgcHJvZ3Jlc3MgYmFyXG4gICAgICAgIGF0dHIocm9vdC5yZWYucGF0aCwgJ2QnLCBjb29yZGluYXRlcyk7XG5cbiAgICAgICAgLy8gaGlkZSB3aGlsZSBjb250YWlucyAwIHZhbHVlXG4gICAgICAgIGF0dHIocm9vdC5yZWYucGF0aCwgJ3N0cm9rZS1vcGFjaXR5JywgcHJvcHMuc3BpbiB8fCBwcm9wcy5wcm9ncmVzcyA+IDAgPyAxIDogMCk7XG4gICAgfTtcblxuICAgIHZhciBwcm9ncmVzc0luZGljYXRvciA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBuYW1lOiAncHJvZ3Jlc3MtaW5kaWNhdG9yJyxcbiAgICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgICAgIHdyaXRlOiB3cml0ZSxcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBhcGlzOiBbJ3Byb2dyZXNzJywgJ3NwaW4nLCAnYWxpZ24nXSxcbiAgICAgICAgICAgIHN0eWxlczogWydvcGFjaXR5J10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogNTAwIH0sXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgICAgIHN0aWZmbmVzczogMC45NSxcbiAgICAgICAgICAgICAgICAgICAgZGFtcGluZzogMC42NSxcbiAgICAgICAgICAgICAgICAgICAgbWFzczogMTAsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgY3JlYXRlJDEgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9IChwcm9wcy5pY29uIHx8ICcnKSArICgnPHNwYW4+JyArIHByb3BzLmxhYmVsICsgJzwvc3Bhbj4nKTtcblxuICAgICAgICBwcm9wcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgfTtcblxuICAgIHZhciB3cml0ZSQxID0gZnVuY3Rpb24gd3JpdGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgdmFyIGlzRGlzYWJsZWQgPSBwcm9wcy5pc0Rpc2FibGVkO1xuICAgICAgICB2YXIgc2hvdWxkRGlzYWJsZSA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpIHx8IHByb3BzLm9wYWNpdHkgPT09IDA7XG5cbiAgICAgICAgaWYgKHNob3VsZERpc2FibGUgJiYgIWlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHByb3BzLmlzRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzaG91bGREaXNhYmxlICYmIGlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHByb3BzLmlzRGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGZpbGVBY3Rpb25CdXR0b24gPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgIH0sXG5cbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgbmFtZTogJ2ZpbGUtYWN0aW9uLWJ1dHRvbicsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgYXBpczogWydsYWJlbCddLFxuICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH0sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBsaXN0ZW5lcnM6IHRydWUsXG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkMSxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDEsXG4gICAgfSk7XG5cbiAgICB2YXIgdG9OYXR1cmFsRmlsZVNpemUgPSBmdW5jdGlvbiB0b05hdHVyYWxGaWxlU2l6ZShieXRlcykge1xuICAgICAgICB2YXIgZGVjaW1hbFNlcGFyYXRvciA9XG4gICAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcuJztcbiAgICAgICAgdmFyIGJhc2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDEwMDA7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fTtcbiAgICAgICAgdmFyIF9vcHRpb25zJGxhYmVsQnl0ZXMgPSBvcHRpb25zLmxhYmVsQnl0ZXMsXG4gICAgICAgICAgICBsYWJlbEJ5dGVzID0gX29wdGlvbnMkbGFiZWxCeXRlcyA9PT0gdm9pZCAwID8gJ2J5dGVzJyA6IF9vcHRpb25zJGxhYmVsQnl0ZXMsXG4gICAgICAgICAgICBfb3B0aW9ucyRsYWJlbEtpbG9ieXQgPSBvcHRpb25zLmxhYmVsS2lsb2J5dGVzLFxuICAgICAgICAgICAgbGFiZWxLaWxvYnl0ZXMgPSBfb3B0aW9ucyRsYWJlbEtpbG9ieXQgPT09IHZvaWQgMCA/ICdLQicgOiBfb3B0aW9ucyRsYWJlbEtpbG9ieXQsXG4gICAgICAgICAgICBfb3B0aW9ucyRsYWJlbE1lZ2FieXQgPSBvcHRpb25zLmxhYmVsTWVnYWJ5dGVzLFxuICAgICAgICAgICAgbGFiZWxNZWdhYnl0ZXMgPSBfb3B0aW9ucyRsYWJlbE1lZ2FieXQgPT09IHZvaWQgMCA/ICdNQicgOiBfb3B0aW9ucyRsYWJlbE1lZ2FieXQsXG4gICAgICAgICAgICBfb3B0aW9ucyRsYWJlbEdpZ2FieXQgPSBvcHRpb25zLmxhYmVsR2lnYWJ5dGVzLFxuICAgICAgICAgICAgbGFiZWxHaWdhYnl0ZXMgPSBfb3B0aW9ucyRsYWJlbEdpZ2FieXQgPT09IHZvaWQgMCA/ICdHQicgOiBfb3B0aW9ucyRsYWJlbEdpZ2FieXQ7XG5cbiAgICAgICAgLy8gbm8gbmVnYXRpdmUgYnl0ZSBzaXplc1xuICAgICAgICBieXRlcyA9IE1hdGgucm91bmQoTWF0aC5hYnMoYnl0ZXMpKTtcblxuICAgICAgICB2YXIgS0IgPSBiYXNlO1xuICAgICAgICB2YXIgTUIgPSBiYXNlICogYmFzZTtcbiAgICAgICAgdmFyIEdCID0gYmFzZSAqIGJhc2UgKiBiYXNlO1xuXG4gICAgICAgIC8vIGp1c3QgYnl0ZXNcbiAgICAgICAgaWYgKGJ5dGVzIDwgS0IpIHtcbiAgICAgICAgICAgIHJldHVybiBieXRlcyArICcgJyArIGxhYmVsQnl0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBraWxvYnl0ZXNcbiAgICAgICAgaWYgKGJ5dGVzIDwgTUIpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKGJ5dGVzIC8gS0IpICsgJyAnICsgbGFiZWxLaWxvYnl0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtZWdhYnl0ZXNcbiAgICAgICAgaWYgKGJ5dGVzIDwgR0IpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVEZWNpbWFsc1doZW5aZXJvKGJ5dGVzIC8gTUIsIDEsIGRlY2ltYWxTZXBhcmF0b3IpICsgJyAnICsgbGFiZWxNZWdhYnl0ZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnaWdhYnl0ZXNcbiAgICAgICAgcmV0dXJuIHJlbW92ZURlY2ltYWxzV2hlblplcm8oYnl0ZXMgLyBHQiwgMiwgZGVjaW1hbFNlcGFyYXRvcikgKyAnICcgKyBsYWJlbEdpZ2FieXRlcztcbiAgICB9O1xuXG4gICAgdmFyIHJlbW92ZURlY2ltYWxzV2hlblplcm8gPSBmdW5jdGlvbiByZW1vdmVEZWNpbWFsc1doZW5aZXJvKHZhbHVlLCBkZWNpbWFsQ291bnQsIHNlcGFyYXRvcikge1xuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgICAgIC50b0ZpeGVkKGRlY2ltYWxDb3VudClcbiAgICAgICAgICAgIC5zcGxpdCgnLicpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFydCAhPT0gJzAnO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKHNlcGFyYXRvcik7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGUkMiA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICAvLyBmaWxlbmFtZVxuICAgICAgICB2YXIgZmlsZU5hbWUgPSBjcmVhdGVFbGVtZW50JDEoJ3NwYW4nKTtcbiAgICAgICAgZmlsZU5hbWUuY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLWluZm8tbWFpbic7XG4gICAgICAgIC8vIGhpZGUgZm9yIHNjcmVlbnJlYWRlcnNcbiAgICAgICAgLy8gdGhlIGZpbGUgaXMgY29udGFpbmVkIGluIGEgZmllbGRzZXQgd2l0aCBsZWdlbmQgdGhhdCBjb250YWlucyB0aGUgZmlsZW5hbWVcbiAgICAgICAgLy8gbm8gbmVlZCB0byByZWFkIGl0IHR3aWNlXG4gICAgICAgIGF0dHIoZmlsZU5hbWUsICdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoZmlsZU5hbWUpO1xuICAgICAgICByb290LnJlZi5maWxlTmFtZSA9IGZpbGVOYW1lO1xuXG4gICAgICAgIC8vIGZpbGVzaXplXG4gICAgICAgIHZhciBmaWxlU2l6ZSA9IGNyZWF0ZUVsZW1lbnQkMSgnc3BhbicpO1xuICAgICAgICBmaWxlU2l6ZS5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtaW5mby1zdWInO1xuICAgICAgICByb290LmFwcGVuZENoaWxkKGZpbGVTaXplKTtcbiAgICAgICAgcm9vdC5yZWYuZmlsZVNpemUgPSBmaWxlU2l6ZTtcblxuICAgICAgICAvLyBzZXQgaW5pdGlhbCB2YWx1ZXNcbiAgICAgICAgdGV4dChmaWxlU2l6ZSwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfV0FJVElOR19GT1JfU0laRScpKTtcbiAgICAgICAgdGV4dChmaWxlTmFtZSwgZm9ybWF0RmlsZW5hbWUocm9vdC5xdWVyeSgnR0VUX0lURU1fTkFNRScsIHByb3BzLmlkKSkpO1xuICAgIH07XG5cbiAgICB2YXIgdXBkYXRlRmlsZSA9IGZ1bmN0aW9uIHVwZGF0ZUZpbGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgdGV4dChcbiAgICAgICAgICAgIHJvb3QucmVmLmZpbGVTaXplLFxuICAgICAgICAgICAgdG9OYXR1cmFsRmlsZVNpemUoXG4gICAgICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0lURU1fU0laRScsIHByb3BzLmlkKSxcbiAgICAgICAgICAgICAgICAnLicsXG4gICAgICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0ZJTEVfU0laRV9CQVNFJyksXG4gICAgICAgICAgICAgICAgcm9vdC5xdWVyeSgnR0VUX0ZJTEVfU0laRV9MQUJFTFMnLCByb290LnF1ZXJ5KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIHRleHQocm9vdC5yZWYuZmlsZU5hbWUsIGZvcm1hdEZpbGVuYW1lKHJvb3QucXVlcnkoJ0dFVF9JVEVNX05BTUUnLCBwcm9wcy5pZCkpKTtcbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZUZpbGVTaXplT25FcnJvciA9IGZ1bmN0aW9uIHVwZGF0ZUZpbGVTaXplT25FcnJvcihfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgICAgICAvLyBpZiBzaXplIGlzIGF2YWlsYWJsZSBkb24ndCBmYWxsYmFjayB0byB1bmtub3duIHNpemUgbWVzc2FnZVxuICAgICAgICBpZiAoaXNJbnQocm9vdC5xdWVyeSgnR0VUX0lURU1fU0laRScsIHByb3BzLmlkKSkpIHtcbiAgICAgICAgICAgIHVwZGF0ZUZpbGUoeyByb290OiByb290LCBwcm9wczogcHJvcHMgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0KHJvb3QucmVmLmZpbGVTaXplLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9TSVpFX05PVF9BVkFJTEFCTEUnKSk7XG4gICAgfTtcblxuICAgIHZhciBmaWxlSW5mbyA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBuYW1lOiAnZmlsZS1pbmZvJyxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgaWdub3JlUmVjdFVwZGF0ZTogdHJ1ZSxcbiAgICAgICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgICAgIERJRF9MT0FEX0lURU06IHVwZGF0ZUZpbGUsXG4gICAgICAgICAgICBESURfVVBEQVRFX0lURU1fTUVUQTogdXBkYXRlRmlsZSxcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IHVwZGF0ZUZpbGVTaXplT25FcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IHVwZGF0ZUZpbGVTaXplT25FcnJvcixcbiAgICAgICAgfSksXG5cbiAgICAgICAgZGlkQ3JlYXRlVmlldzogZnVuY3Rpb24gZGlkQ3JlYXRlVmlldyhyb290KSB7XG4gICAgICAgICAgICBhcHBseUZpbHRlcnMoJ0NSRUFURV9WSUVXJywgT2JqZWN0LmFzc2lnbih7fSwgcm9vdCwgeyB2aWV3OiByb290IH0pKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkMixcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJ10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIHRvUGVyY2VudGFnZSA9IGZ1bmN0aW9uIHRvUGVyY2VudGFnZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCk7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGUkMyA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuXG4gICAgICAgIC8vIG1haW4gc3RhdHVzXG4gICAgICAgIHZhciBtYWluID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgICAgIG1haW4uY2xhc3NOYW1lID0gJ2ZpbGVwb25kLS1maWxlLXN0YXR1cy1tYWluJztcbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChtYWluKTtcbiAgICAgICAgcm9vdC5yZWYubWFpbiA9IG1haW47XG5cbiAgICAgICAgLy8gc3ViIHN0YXR1c1xuICAgICAgICB2YXIgc3ViID0gY3JlYXRlRWxlbWVudCQxKCdzcGFuJyk7XG4gICAgICAgIHN1Yi5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWZpbGUtc3RhdHVzLXN1Yic7XG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoc3ViKTtcbiAgICAgICAgcm9vdC5yZWYuc3ViID0gc3ViO1xuXG4gICAgICAgIGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MoeyByb290OiByb290LCBhY3Rpb246IHsgcHJvZ3Jlc3M6IG51bGwgfSB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZFNldEl0ZW1Mb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbiBkaWRTZXRJdGVtTG9hZFByb2dyZXNzKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgdmFyIHRpdGxlID1cbiAgICAgICAgICAgIGFjdGlvbi5wcm9ncmVzcyA9PT0gbnVsbFxuICAgICAgICAgICAgICAgID8gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfTE9BRElORycpXG4gICAgICAgICAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9MT0FESU5HJykgKyAnICcgKyB0b1BlcmNlbnRhZ2UoYWN0aW9uLnByb2dyZXNzKSArICclJztcblxuICAgICAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHRpdGxlKTtcbiAgICAgICAgdGV4dChyb290LnJlZi5zdWIsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9UQVBfVE9fQ0FOQ0VMJykpO1xuICAgIH07XG5cbiAgICB2YXIgZGlkU2V0SXRlbVByb2Nlc3NQcm9ncmVzcyA9IGZ1bmN0aW9uIGRpZFNldEl0ZW1Qcm9jZXNzUHJvZ3Jlc3MoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uO1xuICAgICAgICB2YXIgdGl0bGUgPVxuICAgICAgICAgICAgYWN0aW9uLnByb2dyZXNzID09PSBudWxsXG4gICAgICAgICAgICAgICAgPyByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HJylcbiAgICAgICAgICAgICAgICA6IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKSArXG4gICAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgdG9QZXJjZW50YWdlKGFjdGlvbi5wcm9ncmVzcykgK1xuICAgICAgICAgICAgICAgICAgJyUnO1xuXG4gICAgICAgIHRleHQocm9vdC5yZWYubWFpbiwgdGl0bGUpO1xuICAgICAgICB0ZXh0KHJvb3QucmVmLnN1Yiwgcm9vdC5xdWVyeSgnR0VUX0xBQkVMX1RBUF9UT19DQU5DRUwnKSk7XG4gICAgfTtcblxuICAgIHZhciBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRSZXF1ZXN0SXRlbVByb2Nlc3NpbmcoX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290O1xuICAgICAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkcnKSk7XG4gICAgICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX0NBTkNFTCcpKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZEFib3J0SXRlbVByb2Nlc3NpbmcgPSBmdW5jdGlvbiBkaWRBYm9ydEl0ZW1Qcm9jZXNzaW5nKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICAgICAgdGV4dChyb290LnJlZi5tYWluLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9QUk9DRVNTSU5HX0FCT1JURUQnKSk7XG4gICAgICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX1JFVFJZJykpO1xuICAgIH07XG5cbiAgICB2YXIgZGlkQ29tcGxldGVJdGVtUHJvY2Vzc2luZyA9IGZ1bmN0aW9uIGRpZENvbXBsZXRlSXRlbVByb2Nlc3NpbmcoX3JlZjYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290O1xuICAgICAgICB0ZXh0KHJvb3QucmVmLm1haW4sIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1BST0NFU1NJTkdfQ09NUExFVEUnKSk7XG4gICAgICAgIHRleHQocm9vdC5yZWYuc3ViLCByb290LnF1ZXJ5KCdHRVRfTEFCRUxfVEFQX1RPX1VORE8nKSk7XG4gICAgfTtcblxuICAgIHZhciBjbGVhciA9IGZ1bmN0aW9uIGNsZWFyKF9yZWY3KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdDtcbiAgICAgICAgdGV4dChyb290LnJlZi5tYWluLCAnJyk7XG4gICAgICAgIHRleHQocm9vdC5yZWYuc3ViLCAnJyk7XG4gICAgfTtcblxuICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uIGVycm9yKF9yZWY4KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjgucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY4LmFjdGlvbjtcbiAgICAgICAgdGV4dChyb290LnJlZi5tYWluLCBhY3Rpb24uc3RhdHVzLm1haW4pO1xuICAgICAgICB0ZXh0KHJvb3QucmVmLnN1YiwgYWN0aW9uLnN0YXR1cy5zdWIpO1xuICAgIH07XG5cbiAgICB2YXIgZmlsZVN0YXR1cyA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBuYW1lOiAnZmlsZS1zdGF0dXMnLFxuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgICAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgICAgICAgRElEX0xPQURfSVRFTTogY2xlYXIsXG4gICAgICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogY2xlYXIsXG4gICAgICAgICAgICBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6IGRpZFJlcXVlc3RJdGVtUHJvY2Vzc2luZyxcbiAgICAgICAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGRpZEFib3J0SXRlbVByb2Nlc3NpbmcsXG4gICAgICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HOiBkaWRDb21wbGV0ZUl0ZW1Qcm9jZXNzaW5nLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IGRpZFNldEl0ZW1Qcm9jZXNzUHJvZ3Jlc3MsXG4gICAgICAgICAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogZGlkU2V0SXRlbUxvYWRQcm9ncmVzcyxcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IGVycm9yLFxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogZXJyb3IsXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBlcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfUkVWRVJUX0VSUk9SOiBlcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX1JFTU9WRV9FUlJPUjogZXJyb3IsXG4gICAgICAgIH0pLFxuXG4gICAgICAgIGRpZENyZWF0ZVZpZXc6IGZ1bmN0aW9uIGRpZENyZWF0ZVZpZXcocm9vdCkge1xuICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIE9iamVjdC5hc3NpZ24oe30sIHJvb3QsIHsgdmlldzogcm9vdCB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJDMsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdvcGFjaXR5J10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH0sXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQnV0dG9uIGRlZmluaXRpb25zIGZvciB0aGUgZmlsZSB2aWV3XG4gICAgICovXG5cbiAgICB2YXIgQnV0dG9ucyA9IHtcbiAgICAgICAgQWJvcnRJdGVtTG9hZDoge1xuICAgICAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRCcsXG4gICAgICAgICAgICBhY3Rpb246ICdBQk9SVF9JVEVNX0xPQUQnLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZmlsZXBvbmQtLWFjdGlvbi1hYm9ydC1pdGVtLWxvYWQnLFxuICAgICAgICAgICAgYWxpZ246ICdMT0FEX0lORElDQVRPUl9QT1NJVElPTicsIC8vIHJpZ2h0XG4gICAgICAgIH0sXG4gICAgICAgIFJldHJ5SXRlbUxvYWQ6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9SRVRSWV9JVEVNX0xPQUQnLFxuICAgICAgICAgICAgYWN0aW9uOiAnUkVUUllfSVRFTV9MT0FEJyxcbiAgICAgICAgICAgIGljb246ICdHRVRfSUNPTl9SRVRSWScsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldHJ5LWl0ZW0tbG9hZCcsXG4gICAgICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgICAgICB9LFxuICAgICAgICBSZW1vdmVJdGVtOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUkVNT1ZFX0lURU0nLFxuICAgICAgICAgICAgYWN0aW9uOiAnUkVRVUVTVF9SRU1PVkVfSVRFTScsXG4gICAgICAgICAgICBpY29uOiAnR0VUX0lDT05fUkVNT1ZFJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcmVtb3ZlLWl0ZW0nLFxuICAgICAgICAgICAgYWxpZ246ICdCVVRUT05fUkVNT1ZFX0lURU1fUE9TSVRJT04nLCAvLyBsZWZ0XG4gICAgICAgIH0sXG4gICAgICAgIFByb2Nlc3NJdGVtOiB7XG4gICAgICAgICAgICBsYWJlbDogJ0dFVF9MQUJFTF9CVVRUT05fUFJPQ0VTU19JVEVNJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgIGljb246ICdHRVRfSUNPTl9QUk9DRVNTJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tcHJvY2Vzcy1pdGVtJyxcbiAgICAgICAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicsIC8vIHJpZ2h0XG4gICAgICAgIH0sXG4gICAgICAgIEFib3J0SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAgICAgYWN0aW9uOiAnQUJPUlRfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ZpbGVwb25kLS1hY3Rpb24tYWJvcnQtaXRlbS1wcm9jZXNzaW5nJyxcbiAgICAgICAgICAgIGFsaWduOiAnQlVUVE9OX1BST0NFU1NfSVRFTV9QT1NJVElPTicsIC8vIHJpZ2h0XG4gICAgICAgIH0sXG4gICAgICAgIFJldHJ5SXRlbVByb2Nlc3Npbmc6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnR0VUX0xBQkVMX0JVVFRPTl9SRVRSWV9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAgICAgYWN0aW9uOiAnUkVUUllfSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgIGljb246ICdHRVRfSUNPTl9SRVRSWScsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldHJ5LWl0ZW0tcHJvY2Vzc2luZycsXG4gICAgICAgICAgICBhbGlnbjogJ0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nLCAvLyByaWdodFxuICAgICAgICB9LFxuICAgICAgICBSZXZlcnRJdGVtUHJvY2Vzc2luZzoge1xuICAgICAgICAgICAgbGFiZWw6ICdHRVRfTEFCRUxfQlVUVE9OX1VORE9fSVRFTV9QUk9DRVNTSU5HJyxcbiAgICAgICAgICAgIGFjdGlvbjogJ1JFUVVFU1RfUkVWRVJUX0lURU1fUFJPQ0VTU0lORycsXG4gICAgICAgICAgICBpY29uOiAnR0VUX0lDT05fVU5ETycsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdmaWxlcG9uZC0tYWN0aW9uLXJldmVydC1pdGVtLXByb2Nlc3NpbmcnLFxuICAgICAgICAgICAgYWxpZ246ICdCVVRUT05fUFJPQ0VTU19JVEVNX1BPU0lUSU9OJywgLy8gcmlnaHRcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gbWFrZSBhIGxpc3Qgb2YgYnV0dG9ucywgd2UgY2FuIHRoZW4gcmVtb3ZlIGJ1dHRvbnMgZnJvbSB0aGlzIGxpc3QgaWYgdGhleSdyZSBkaXNhYmxlZFxuICAgIHZhciBCdXR0b25LZXlzID0gW107XG4gICAgZm9yaW4oQnV0dG9ucywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIEJ1dHRvbktleXMucHVzaChrZXkpO1xuICAgIH0pO1xuXG4gICAgdmFyIGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0ID0gZnVuY3Rpb24gY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQocm9vdCkge1xuICAgICAgICBpZiAoZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnQocm9vdCkgPT09ICdyaWdodCcpIHJldHVybiAwO1xuICAgICAgICB2YXIgYnV0dG9uUmVjdCA9IHJvb3QucmVmLmJ1dHRvblJlbW92ZUl0ZW0ucmVjdC5lbGVtZW50O1xuICAgICAgICByZXR1cm4gYnV0dG9uUmVjdC5oaWRkZW4gPyBudWxsIDogYnV0dG9uUmVjdC53aWR0aCArIGJ1dHRvblJlY3QubGVmdDtcbiAgICB9O1xuXG4gICAgdmFyIGNhbGN1bGF0ZUJ1dHRvbldpZHRoID0gZnVuY3Rpb24gY2FsY3VsYXRlQnV0dG9uV2lkdGgocm9vdCkge1xuICAgICAgICB2YXIgYnV0dG9uUmVjdCA9IHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbUxvYWQucmVjdC5lbGVtZW50O1xuICAgICAgICByZXR1cm4gYnV0dG9uUmVjdC53aWR0aDtcbiAgICB9O1xuXG4gICAgLy8gRm9yY2Ugb24gZnVsbCBwaXhlbHMgc28gdGV4dCBzdGF5cyBjcmlwc1xuICAgIHZhciBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQgPSBmdW5jdGlvbiBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQocm9vdCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyb290LnJlZi5idXR0b25SZW1vdmVJdGVtLnJlY3QuZWxlbWVudC5oZWlnaHQgLyA0KTtcbiAgICB9O1xuICAgIHZhciBjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUZpbGVIb3Jpem9udGFsQ2VudGVyT2Zmc2V0KHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3Iocm9vdC5yZWYuYnV0dG9uUmVtb3ZlSXRlbS5yZWN0LmVsZW1lbnQubGVmdCAvIDIpO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0TG9hZEluZGljYXRvckFsaWdubWVudCA9IGZ1bmN0aW9uIGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQocm9vdCkge1xuICAgICAgICByZXR1cm4gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX0xPQURfSU5ESUNBVE9SX1BPU0lUSU9OJyk7XG4gICAgfTtcbiAgICB2YXIgZ2V0UHJvY2Vzc0luZGljYXRvckFsaWdubWVudCA9IGZ1bmN0aW9uIGdldFByb2Nlc3NJbmRpY2F0b3JBbGlnbm1lbnQocm9vdCkge1xuICAgICAgICByZXR1cm4gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX1BST0dSRVNTX0lORElDQVRPUl9QT1NJVElPTicpO1xuICAgIH07XG4gICAgdmFyIGdldFJlbW92ZUluZGljYXRvckFsaWdtZW50ID0gZnVuY3Rpb24gZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnQocm9vdCkge1xuICAgICAgICByZXR1cm4gcm9vdC5xdWVyeSgnR0VUX1NUWUxFX0JVVFRPTl9SRU1PVkVfSVRFTV9QT1NJVElPTicpO1xuICAgIH07XG5cbiAgICB2YXIgRGVmYXVsdFN0eWxlID0ge1xuICAgICAgICBidXR0b25BYm9ydEl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAgICAgYnV0dG9uUmV0cnlJdGVtTG9hZDogeyBvcGFjaXR5OiAwIH0sXG4gICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMCB9LFxuICAgICAgICBidXR0b25Qcm9jZXNzSXRlbTogeyBvcGFjaXR5OiAwIH0sXG4gICAgICAgIGJ1dHRvbkFib3J0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMCB9LFxuICAgICAgICBidXR0b25SZXRyeUl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAgICAgYnV0dG9uUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMCB9LFxuICAgICAgICBsb2FkUHJvZ3Jlc3NJbmRpY2F0b3I6IHsgb3BhY2l0eTogMCwgYWxpZ246IGdldExvYWRJbmRpY2F0b3JBbGlnbm1lbnQgfSxcbiAgICAgICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDAsIGFsaWduOiBnZXRQcm9jZXNzSW5kaWNhdG9yQWxpZ25tZW50IH0sXG4gICAgICAgIHByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvcjogeyBvcGFjaXR5OiAwLCBzY2FsZVg6IDAuNzUsIHNjYWxlWTogMC43NSB9LFxuICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IDAsIHRyYW5zbGF0ZVk6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICAgICAgc3RhdHVzOiB7IHRyYW5zbGF0ZVg6IDAsIHRyYW5zbGF0ZVk6IDAsIG9wYWNpdHk6IDAgfSxcbiAgICB9O1xuXG4gICAgdmFyIElkbGVTdHlsZSA9IHtcbiAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIGJ1dHRvblByb2Nlc3NJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICB9O1xuXG4gICAgdmFyIFByb2Nlc3NpbmdTdHlsZSA9IHtcbiAgICAgICAgYnV0dG9uQWJvcnRJdGVtUHJvY2Vzc2luZzogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgIHN0YXR1czogeyBvcGFjaXR5OiAxIH0sXG4gICAgfTtcblxuICAgIHZhciBTdHlsZU1hcCA9IHtcbiAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDoge1xuICAgICAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgICAgICBzdGF0dXM6IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQsIG9wYWNpdHk6IDEgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfU1RBUlRfSVRFTV9MT0FEOiB7XG4gICAgICAgICAgICBidXR0b25BYm9ydEl0ZW1Mb2FkOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGxvYWRQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IHtcbiAgICAgICAgICAgIGJ1dHRvblJldHJ5SXRlbUxvYWQ6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgYnV0dG9uUmVtb3ZlSXRlbTogeyBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICBpbmZvOiB7IHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgICAgICBzdGF0dXM6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1JFTU9WRToge1xuICAgICAgICAgICAgcHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yOiB7IG9wYWNpdHk6IDEsIGFsaWduOiBnZXRSZW1vdmVJbmRpY2F0b3JBbGlnbWVudCB9LFxuICAgICAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IHtcbiAgICAgICAgICAgIHByb2Nlc3NQcm9ncmVzc0luZGljYXRvcjogeyBvcGFjaXR5OiAwLCBhbGlnbjogZ2V0UmVtb3ZlSW5kaWNhdG9yQWxpZ21lbnQgfSxcbiAgICAgICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEsIHRyYW5zbGF0ZVg6IGNhbGN1bGF0ZUZpbGVJbmZvT2Zmc2V0IH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgRElEX0xPQURfSVRFTTogSWRsZVN0eWxlLFxuICAgICAgICBESURfTE9BRF9MT0NBTF9JVEVNOiB7XG4gICAgICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgICAgIHN0YXR1czogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIERJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkc6IFByb2Nlc3NpbmdTdHlsZSxcbiAgICAgICAgRElEX1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiBQcm9jZXNzaW5nU3R5bGUsXG4gICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IHtcbiAgICAgICAgICAgIGJ1dHRvblJldmVydEl0ZW1Qcm9jZXNzaW5nOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGluZm86IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiB7XG4gICAgICAgICAgICBidXR0b25SZW1vdmVJdGVtOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGJ1dHRvblJldHJ5SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGluZm86IHsgdHJhbnNsYXRlWDogY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjoge1xuICAgICAgICAgICAgYnV0dG9uUmV2ZXJ0SXRlbVByb2Nlc3Npbmc6IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgICAgIGluZm86IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IHtcbiAgICAgICAgICAgIGJ1dHRvblJlbW92ZUl0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgYnV0dG9uUHJvY2Vzc0l0ZW06IHsgb3BhY2l0eTogMSB9LFxuICAgICAgICAgICAgaW5mbzogeyB0cmFuc2xhdGVYOiBjYWxjdWxhdGVGaWxlSW5mb09mZnNldCB9LFxuICAgICAgICAgICAgc3RhdHVzOiB7IG9wYWNpdHk6IDEgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBESURfUkVWRVJUX0lURU1fUFJPQ0VTU0lORzogSWRsZVN0eWxlLFxuICAgIH07XG5cbiAgICAvLyBjb21wbGV0ZSBpbmRpY2F0b3Igdmlld1xuICAgIHZhciBwcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3JWaWV3ID0gY3JlYXRlVmlldyh7XG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmlubmVySFRNTCA9IHJvb3QucXVlcnkoJ0dFVF9JQ09OX0RPTkUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZTogJ3Byb2Nlc3NpbmctY29tcGxldGUtaW5kaWNhdG9yJyxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBzdHlsZXM6IFsnc2NhbGVYJywgJ3NjYWxlWScsICdvcGFjaXR5J10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGVYOiAnc3ByaW5nJyxcbiAgICAgICAgICAgICAgICBzY2FsZVk6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgdHlwZTogJ3R3ZWVuJywgZHVyYXRpb246IDI1MCB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICAgICAqL1xuICAgIHZhciBjcmVhdGUkNCA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmMikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYyLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYyLnByb3BzO1xuICAgICAgICAvLyBjb3B5IEJ1dHRvbnMgb2JqZWN0XG4gICAgICAgIHZhciBMb2NhbEJ1dHRvbnMgPSBPYmplY3Qua2V5cyhCdXR0b25zKS5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3Vycikge1xuICAgICAgICAgICAgcHJldltjdXJyXSA9IE9iamVjdC5hc3NpZ24oe30sIEJ1dHRvbnNbY3Vycl0pO1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgdmFyIGlkID0gcHJvcHMuaWQ7XG5cbiAgICAgICAgLy8gYWxsb3cgcmV2ZXJ0aW5nIHVwbG9hZFxuICAgICAgICB2YXIgYWxsb3dSZXZlcnQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVWRVJUJyk7XG5cbiAgICAgICAgLy8gYWxsb3cgcmVtb3ZlIGZpbGVcbiAgICAgICAgdmFyIGFsbG93UmVtb3ZlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFTU9WRScpO1xuXG4gICAgICAgIC8vIGFsbG93IHByb2Nlc3NpbmcgdXBsb2FkXG4gICAgICAgIHZhciBhbGxvd1Byb2Nlc3MgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUFJPQ0VTUycpO1xuXG4gICAgICAgIC8vIGlzIGluc3RhbnQgdXBsb2FkaW5nLCBuZWVkIHRoaXMgdG8gZGV0ZXJtaW5lIHRoZSBpY29uIG9mIHRoZSB1bmRvIGJ1dHRvblxuICAgICAgICB2YXIgaW5zdGFudFVwbG9hZCA9IHJvb3QucXVlcnkoJ0dFVF9JTlNUQU5UX1VQTE9BRCcpO1xuXG4gICAgICAgIC8vIGlzIGFzeW5jIHNldCB1cFxuICAgICAgICB2YXIgaXNBc3luYyA9IHJvb3QucXVlcnkoJ0lTX0FTWU5DJyk7XG5cbiAgICAgICAgLy8gc2hvdWxkIGFsaWduIHJlbW92ZSBpdGVtIGJ1dHRvbnNcbiAgICAgICAgdmFyIGFsaWduUmVtb3ZlSXRlbUJ1dHRvbiA9IHJvb3QucXVlcnkoJ0dFVF9TVFlMRV9CVVRUT05fUkVNT1ZFX0lURU1fQUxJR04nKTtcblxuICAgICAgICAvLyBlbmFibGVkIGJ1dHRvbnMgYXJyYXlcbiAgICAgICAgdmFyIGJ1dHRvbkZpbHRlcjtcbiAgICAgICAgaWYgKGlzQXN5bmMpIHtcbiAgICAgICAgICAgIGlmIChhbGxvd1Byb2Nlc3MgJiYgIWFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSByZW1vdmUgcmV2ZXJ0IGJ1dHRvblxuICAgICAgICAgICAgICAgIGJ1dHRvbkZpbHRlciA9IGZ1bmN0aW9uIGJ1dHRvbkZpbHRlcihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEvUmV2ZXJ0SXRlbVByb2Nlc3NpbmcvLnRlc3Qoa2V5KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICghYWxsb3dQcm9jZXNzICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSByZW1vdmUgcHJvY2VzcyBidXR0b25cbiAgICAgICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhL1Byb2Nlc3NJdGVtfFJldHJ5SXRlbVByb2Nlc3Npbmd8QWJvcnRJdGVtUHJvY2Vzc2luZy8udGVzdChrZXkpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhbGxvd1Byb2Nlc3MgJiYgIWFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBwcm9jZXNzIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICBidXR0b25GaWx0ZXIgPSBmdW5jdGlvbiBidXR0b25GaWx0ZXIoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhL1Byb2Nlc3MvLnRlc3Qoa2V5KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gcHJvY2VzcyBjb250cm9scyBhdmFpbGFibGVcbiAgICAgICAgICAgIGJ1dHRvbkZpbHRlciA9IGZ1bmN0aW9uIGJ1dHRvbkZpbHRlcihrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIS9Qcm9jZXNzLy50ZXN0KGtleSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVuYWJsZWRCdXR0b25zID0gYnV0dG9uRmlsdGVyID8gQnV0dG9uS2V5cy5maWx0ZXIoYnV0dG9uRmlsdGVyKSA6IEJ1dHRvbktleXMuY29uY2F0KCk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGljb24gYW5kIGxhYmVsIGZvciByZXZlcnQgYnV0dG9uIHdoZW4gaW5zdGFudCB1cGxvYWRpbmdcbiAgICAgICAgaWYgKGluc3RhbnRVcGxvYWQgJiYgYWxsb3dSZXZlcnQpIHtcbiAgICAgICAgICAgIExvY2FsQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5sYWJlbCA9ICdHRVRfTEFCRUxfQlVUVE9OX1JFTU9WRV9JVEVNJztcbiAgICAgICAgICAgIExvY2FsQnV0dG9uc1snUmV2ZXJ0SXRlbVByb2Nlc3NpbmcnXS5pY29uID0gJ0dFVF9JQ09OX1JFTU9WRSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgbGFzdCBidXR0b24gKHJldmVydCkgaWYgbm90IGFsbG93ZWRcbiAgICAgICAgaWYgKGlzQXN5bmMgJiYgIWFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gU3R5bGVNYXBbJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnXTtcbiAgICAgICAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVGaWxlSG9yaXpvbnRhbENlbnRlck9mZnNldDtcbiAgICAgICAgICAgIG1hcC5pbmZvLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICAgICAgICBtYXAuc3RhdHVzLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICAgICAgICBtYXAucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yID0geyBvcGFjaXR5OiAxLCBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hvdWxkIGFsaWduIGNlbnRlclxuICAgICAgICBpZiAoaXNBc3luYyAmJiAhYWxsb3dQcm9jZXNzKSB7XG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgJ0RJRF9TVEFSVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAgICAgICAgICdESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkcnLFxuICAgICAgICAgICAgICAgICdESURfVVBEQVRFX0lURU1fUFJPQ0VTU19QUk9HUkVTUycsXG4gICAgICAgICAgICAgICAgJ0RJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1InLFxuICAgICAgICAgICAgXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgIFN0eWxlTWFwW2tleV0uc3RhdHVzLnRyYW5zbGF0ZVkgPSBjYWxjdWxhdGVGaWxlVmVydGljYWxDZW50ZXJPZmZzZXQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFN0eWxlTWFwWydESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SJ10uc3RhdHVzLnRyYW5zbGF0ZVggPSBjYWxjdWxhdGVCdXR0b25XaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG1vdmUgcmVtb3ZlIGJ1dHRvbiB0byByaWdodFxuICAgICAgICBpZiAoYWxpZ25SZW1vdmVJdGVtQnV0dG9uICYmIGFsbG93UmV2ZXJ0KSB7XG4gICAgICAgICAgICBMb2NhbEJ1dHRvbnNbJ1JldmVydEl0ZW1Qcm9jZXNzaW5nJ10uYWxpZ24gPSAnQlVUVE9OX1JFTU9WRV9JVEVNX1BPU0lUSU9OJztcbiAgICAgICAgICAgIHZhciBfbWFwID0gU3R5bGVNYXBbJ0RJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkcnXTtcbiAgICAgICAgICAgIF9tYXAuaW5mby50cmFuc2xhdGVYID0gY2FsY3VsYXRlRmlsZUluZm9PZmZzZXQ7XG4gICAgICAgICAgICBfbWFwLnN0YXR1cy50cmFuc2xhdGVZID0gY2FsY3VsYXRlRmlsZVZlcnRpY2FsQ2VudGVyT2Zmc2V0O1xuICAgICAgICAgICAgX21hcC5wcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3IgPSB7IG9wYWNpdHk6IDEsIHNjYWxlWDogMSwgc2NhbGVZOiAxIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaG93L2hpZGUgUmVtb3ZlSXRlbSBidXR0b25cbiAgICAgICAgaWYgKCFhbGxvd1JlbW92ZSkge1xuICAgICAgICAgICAgTG9jYWxCdXR0b25zWydSZW1vdmVJdGVtJ10uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3JlYXRlIHRoZSBidXR0b24gdmlld3NcbiAgICAgICAgZm9yaW4oTG9jYWxCdXR0b25zLCBmdW5jdGlvbihrZXksIGRlZmluaXRpb24pIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBidXR0b25cbiAgICAgICAgICAgIHZhciBidXR0b25WaWV3ID0gcm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZUFjdGlvbkJ1dHRvbiwge1xuICAgICAgICAgICAgICAgIGxhYmVsOiByb290LnF1ZXJ5KGRlZmluaXRpb24ubGFiZWwpLFxuICAgICAgICAgICAgICAgIGljb246IHJvb3QucXVlcnkoZGVmaW5pdGlvbi5pY29uKSxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHNob3VsZCBiZSBhcHBlbmRlZD9cbiAgICAgICAgICAgIGlmIChlbmFibGVkQnV0dG9ucy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5hcHBlbmRDaGlsZFZpZXcoYnV0dG9uVmlldyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRvZ2dsZVxuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBidXR0b25WaWV3LmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdoaWRkZW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIHBvc2l0aW9uIGF0dHJpYnV0ZVxuICAgICAgICAgICAgYnV0dG9uVmlldy5lbGVtZW50LmRhdGFzZXQuYWxpZ24gPSByb290LnF1ZXJ5KCdHRVRfU1RZTEVfJyArIGRlZmluaXRpb24uYWxpZ24pO1xuXG4gICAgICAgICAgICAvLyBhZGQgY2xhc3NcbiAgICAgICAgICAgIGJ1dHRvblZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGRlZmluaXRpb24uY2xhc3NOYW1lKTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGludGVyYWN0aW9uc1xuICAgICAgICAgICAgYnV0dG9uVmlldy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5kaXNhYmxlZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goZGVmaW5pdGlvbi5hY3Rpb24sIHsgcXVlcnk6IGlkIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHNldCByZWZlcmVuY2VcbiAgICAgICAgICAgIHJvb3QucmVmWydidXR0b24nICsga2V5XSA9IGJ1dHRvblZpZXc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGNoZWNrbWFya1xuICAgICAgICByb290LnJlZi5wcm9jZXNzaW5nQ29tcGxldGVJbmRpY2F0b3IgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2Nlc3NpbmdDb21wbGV0ZUluZGljYXRvclZpZXcpXG4gICAgICAgICk7XG5cbiAgICAgICAgcm9vdC5yZWYucHJvY2Vzc2luZ0NvbXBsZXRlSW5kaWNhdG9yLmVsZW1lbnQuZGF0YXNldC5hbGlnbiA9IHJvb3QucXVlcnkoXG4gICAgICAgICAgICAnR0VUX1NUWUxFX0JVVFRPTl9QUk9DRVNTX0lURU1fUE9TSVRJT04nXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGZpbGUgaW5mbyB2aWV3XG4gICAgICAgIHJvb3QucmVmLmluZm8gPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhmaWxlSW5mbywgeyBpZDogaWQgfSkpO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBmaWxlIHN0YXR1cyB2aWV3XG4gICAgICAgIHJvb3QucmVmLnN0YXR1cyA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGVTdGF0dXMsIHsgaWQ6IGlkIH0pKTtcblxuICAgICAgICAvLyBhZGQgcHJvZ3Jlc3MgaW5kaWNhdG9yc1xuICAgICAgICB2YXIgbG9hZEluZGljYXRvclZpZXcgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2dyZXNzSW5kaWNhdG9yLCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICBhbGlnbjogcm9vdC5xdWVyeSgnR0VUX1NUWUxFX0xPQURfSU5ESUNBVE9SX1BPU0lUSU9OJyksXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAgIGxvYWRJbmRpY2F0b3JWaWV3LmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLWxvYWQtaW5kaWNhdG9yJyk7XG4gICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvciA9IGxvYWRJbmRpY2F0b3JWaWV3O1xuXG4gICAgICAgIHZhciBwcm9ncmVzc0luZGljYXRvclZpZXcgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHByb2dyZXNzSW5kaWNhdG9yLCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICBhbGlnbjogcm9vdC5xdWVyeSgnR0VUX1NUWUxFX1BST0dSRVNTX0lORElDQVRPUl9QT1NJVElPTicpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBwcm9ncmVzc0luZGljYXRvclZpZXcuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmaWxlcG9uZC0tcHJvY2Vzcy1pbmRpY2F0b3InKTtcbiAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yID0gcHJvZ3Jlc3NJbmRpY2F0b3JWaWV3O1xuXG4gICAgICAgIC8vIGN1cnJlbnQgYWN0aXZlIHN0eWxlc1xuICAgICAgICByb290LnJlZi5hY3RpdmVTdHlsZXMgPSBbXTtcbiAgICB9O1xuXG4gICAgdmFyIHdyaXRlJDIgPSBmdW5jdGlvbiB3cml0ZShfcmVmMykge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYzLnJvb3QsXG4gICAgICAgICAgICBhY3Rpb25zID0gX3JlZjMuYWN0aW9ucyxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjMucHJvcHM7XG4gICAgICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICAgICAgcm91dGUoeyByb290OiByb290LCBhY3Rpb25zOiBhY3Rpb25zLCBwcm9wczogcHJvcHMgfSk7XG5cbiAgICAgICAgLy8gc2VsZWN0IGxhc3Qgc3RhdGUgY2hhbmdlIGFjdGlvblxuICAgICAgICB2YXIgYWN0aW9uID0gYWN0aW9uc1xuICAgICAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAvXkRJRF8vLnRlc3QoYWN0aW9uLnR5cGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgIC5maW5kKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHlsZU1hcFthY3Rpb24udHlwZV07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBhIG5ldyBhY3Rpb24gaGFwcGVuZWQsIGxldCdzIGdldCB0aGUgbWF0Y2hpbmcgc3R5bGVzXG4gICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIGRlZmluZSBuZXcgYWN0aXZlIHN0eWxlc1xuICAgICAgICAgICAgcm9vdC5yZWYuYWN0aXZlU3R5bGVzID0gW107XG5cbiAgICAgICAgICAgIHZhciBzdHlsZXNUb0FwcGx5ID0gU3R5bGVNYXBbYWN0aW9uLnR5cGVdO1xuICAgICAgICAgICAgZm9yaW4oRGVmYXVsdFN0eWxlLCBmdW5jdGlvbihuYW1lLCBkZWZhdWx0U3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHJlZmVyZW5jZSB0byBjb250cm9sXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSByb290LnJlZltuYW1lXTtcblxuICAgICAgICAgICAgICAgIC8vIGxvb3Agb3ZlciBhbGwgc3R5bGVzIGZvciB0aGlzIGNvbnRyb2xcbiAgICAgICAgICAgICAgICBmb3JpbihkZWZhdWx0U3R5bGVzLCBmdW5jdGlvbihrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzVG9BcHBseVtuYW1lXSAmJiB0eXBlb2Ygc3R5bGVzVG9BcHBseVtuYW1lXVtrZXldICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gc3R5bGVzVG9BcHBseVtuYW1lXVtrZXldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcy5wdXNoKHsgY29udHJvbDogY29udHJvbCwga2V5OiBrZXksIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwbHkgYWN0aXZlIHN0eWxlcyB0byBlbGVtZW50XG4gICAgICAgIHJvb3QucmVmLmFjdGl2ZVN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKF9yZWY0KSB7XG4gICAgICAgICAgICB2YXIgY29udHJvbCA9IF9yZWY0LmNvbnRyb2wsXG4gICAgICAgICAgICAgICAga2V5ID0gX3JlZjQua2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX3JlZjQudmFsdWU7XG4gICAgICAgICAgICBjb250cm9sW2tleV0gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZShyb290KSA6IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIHJvdXRlID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGZ1bmN0aW9uIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fUFJPQ0VTU0lORyhcbiAgICAgICAgICAgIF9yZWY1XG4gICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY1LmFjdGlvbjtcbiAgICAgICAgICAgIHJvb3QucmVmLmJ1dHRvbkFib3J0SXRlbVByb2Nlc3NpbmcubGFiZWwgPSBhY3Rpb24udmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9TRVRfTEFCRUxfQlVUVE9OX0FCT1JUX0lURU1fTE9BRDogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9MT0FEKF9yZWY2KSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY2LnJvb3QsXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gX3JlZjYuYWN0aW9uO1xuICAgICAgICAgICAgcm9vdC5yZWYuYnV0dG9uQWJvcnRJdGVtTG9hZC5sYWJlbCA9IGFjdGlvbi52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1NFVF9MQUJFTF9CVVRUT05fQUJPUlRfSVRFTV9SRU1PVkFMOiBmdW5jdGlvbiBESURfU0VUX0xBQkVMX0JVVFRPTl9BQk9SVF9JVEVNX1JFTU9WQUwoXG4gICAgICAgICAgICBfcmVmN1xuICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmNy5hY3Rpb247XG4gICAgICAgICAgICByb290LnJlZi5idXR0b25BYm9ydEl0ZW1SZW1vdmFsLmxhYmVsID0gYWN0aW9uLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBESURfUkVRVUVTVF9JVEVNX1BST0NFU1NJTkc6IGZ1bmN0aW9uIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORyhfcmVmOCkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290O1xuICAgICAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1NUQVJUX0lURU1fTE9BRDogZnVuY3Rpb24gRElEX1NUQVJUX0lURU1fTE9BRChfcmVmOSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmOS5yb290O1xuICAgICAgICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1NUQVJUX0lURU1fUkVNT1ZFOiBmdW5jdGlvbiBESURfU1RBUlRfSVRFTV9SRU1PVkUoX3JlZjEwKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYxMC5yb290O1xuICAgICAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSB0cnVlO1xuICAgICAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnByb2dyZXNzID0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6IGZ1bmN0aW9uIERJRF9VUERBVEVfSVRFTV9MT0FEX1BST0dSRVNTKF9yZWYxMSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTEucm9vdCxcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmMTEuYWN0aW9uO1xuICAgICAgICAgICAgcm9vdC5yZWYubG9hZFByb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHJvb3QucmVmLmxvYWRQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IGFjdGlvbi5wcm9ncmVzcztcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IGZ1bmN0aW9uIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTKF9yZWYxMikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTIucm9vdCxcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmMTIuYWN0aW9uO1xuICAgICAgICAgICAgcm9vdC5yZWYucHJvY2Vzc1Byb2dyZXNzSW5kaWNhdG9yLnNwaW4gPSBmYWxzZTtcbiAgICAgICAgICAgIHJvb3QucmVmLnByb2Nlc3NQcm9ncmVzc0luZGljYXRvci5wcm9ncmVzcyA9IGFjdGlvbi5wcm9ncmVzcztcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHZhciBmaWxlID0gY3JlYXRlVmlldyh7XG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJDQsXG4gICAgICAgIHdyaXRlOiB3cml0ZSQyLFxuICAgICAgICBkaWRDcmVhdGVWaWV3OiBmdW5jdGlvbiBkaWRDcmVhdGVWaWV3KHJvb3QpIHtcbiAgICAgICAgICAgIGFwcGx5RmlsdGVycygnQ1JFQVRFX1ZJRVcnLCBPYmplY3QuYXNzaWduKHt9LCByb290LCB7IHZpZXc6IHJvb3QgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBuYW1lOiAnZmlsZScsXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBmaWxlIHZpZXdcbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlJDUgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgICAgICAvLyBmaWxlbmFtZVxuICAgICAgICByb290LnJlZi5maWxlTmFtZSA9IGNyZWF0ZUVsZW1lbnQkMSgnbGVnZW5kJyk7XG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocm9vdC5yZWYuZmlsZU5hbWUpO1xuXG4gICAgICAgIC8vIGZpbGUgYXBwZW5kZWRcbiAgICAgICAgcm9vdC5yZWYuZmlsZSA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGZpbGUsIHsgaWQ6IHByb3BzLmlkIH0pKTtcblxuICAgICAgICAvLyBkYXRhIGhhcyBtb3ZlZCB0byBkYXRhLmpzXG4gICAgICAgIHJvb3QucmVmLmRhdGEgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGF0YSBzdG9yYWdlXG4gICAgICovXG4gICAgdmFyIGRpZExvYWRJdGVtID0gZnVuY3Rpb24gZGlkTG9hZEl0ZW0oX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcztcbiAgICAgICAgLy8gdXBkYXRlcyB0aGUgbGVnZW5kIG9mIHRoZSBmaWVsZHNldCBzbyBzY3JlZW5yZWFkZXJzIGNhbiBiZXR0ZXIgZ3JvdXAgYnV0dG9uc1xuICAgICAgICB0ZXh0KHJvb3QucmVmLmZpbGVOYW1lLCBmb3JtYXRGaWxlbmFtZShyb290LnF1ZXJ5KCdHRVRfSVRFTV9OQU1FJywgcHJvcHMuaWQpKSk7XG4gICAgfTtcblxuICAgIHZhciBmaWxlV3JhcHBlciA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZSQ1LFxuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgICAgICAgRElEX0xPQURfSVRFTTogZGlkTG9hZEl0ZW0sXG4gICAgICAgIH0pLFxuXG4gICAgICAgIGRpZENyZWF0ZVZpZXc6IGZ1bmN0aW9uIGRpZENyZWF0ZVZpZXcocm9vdCkge1xuICAgICAgICAgICAgYXBwbHlGaWx0ZXJzKCdDUkVBVEVfVklFVycsIE9iamVjdC5hc3NpZ24oe30sIHJvb3QsIHsgdmlldzogcm9vdCB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIHRhZzogJ2ZpZWxkc2V0JyxcbiAgICAgICAgbmFtZTogJ2ZpbGUtd3JhcHBlcicsXG4gICAgfSk7XG5cbiAgICB2YXIgUEFORUxfU1BSSU5HX1BST1BTID0geyB0eXBlOiAnc3ByaW5nJywgZGFtcGluZzogMC42LCBtYXNzOiA3IH07XG5cbiAgICB2YXIgY3JlYXRlJDYgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICd0b3AnLFxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlWTogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlWTogUEFORUxfU1BSSU5HX1BST1BTLFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlczogWyd0cmFuc2xhdGVZJywgJ3NjYWxlWSddLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IFBBTkVMX1NQUklOR19QUk9QUyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IFsndHJhbnNsYXRlWSddLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbikge1xuICAgICAgICAgICAgY3JlYXRlU2VjdGlvbihyb290LCBzZWN0aW9uLCBwcm9wcy5uYW1lKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcm9vdC5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2ZpbGVwb25kLS0nICsgcHJvcHMubmFtZSk7XG5cbiAgICAgICAgcm9vdC5yZWYuc2NhbGFibGUgPSBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlU2VjdGlvbiA9IGZ1bmN0aW9uIGNyZWF0ZVNlY3Rpb24ocm9vdCwgc2VjdGlvbiwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciB2aWV3Q29uc3RydWN0b3IgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgICAgIG5hbWU6ICdwYW5lbC0nICsgc2VjdGlvbi5uYW1lICsgJyBmaWxlcG9uZC0tJyArIGNsYXNzTmFtZSxcbiAgICAgICAgICAgIG1peGluczogc2VjdGlvbi5taXhpbnMsXG4gICAgICAgICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdmlldyA9IHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHZpZXdDb25zdHJ1Y3Rvciwgc2VjdGlvbi5wcm9wcyk7XG5cbiAgICAgICAgcm9vdC5yZWZbc2VjdGlvbi5uYW1lXSA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHZpZXcpO1xuICAgIH07XG5cbiAgICB2YXIgd3JpdGUkMyA9IGZ1bmN0aW9uIHdyaXRlKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjIucHJvcHM7XG5cbiAgICAgICAgLy8gdXBkYXRlIHNjYWxhYmxlIHN0YXRlXG4gICAgICAgIGlmIChyb290LnJlZi5zY2FsYWJsZSA9PT0gbnVsbCB8fCBwcm9wcy5zY2FsYWJsZSAhPT0gcm9vdC5yZWYuc2NhbGFibGUpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLnNjYWxhYmxlID0gaXNCb29sZWFuKHByb3BzLnNjYWxhYmxlKSA/IHByb3BzLnNjYWxhYmxlIDogdHJ1ZTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnNjYWxhYmxlID0gcm9vdC5yZWYuc2NhbGFibGU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBubyBoZWlnaHQsIGNhbid0IHNldFxuICAgICAgICBpZiAoIXByb3BzLmhlaWdodCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIGdldCBjaGlsZCByZWN0c1xuICAgICAgICB2YXIgdG9wUmVjdCA9IHJvb3QucmVmLnRvcC5yZWN0LmVsZW1lbnQ7XG4gICAgICAgIHZhciBib3R0b21SZWN0ID0gcm9vdC5yZWYuYm90dG9tLnJlY3QuZWxlbWVudDtcblxuICAgICAgICAvLyBtYWtlIHN1cmUgaGVpZ2h0IG5ldmVyIGlzIHNtYWxsZXIgdGhhbiBib3R0b20gYW5kIHRvcCBzZWNpdG9uIGhlaWdodHMgY29tYmluZWQgKHdpbGwgcHJvYmFibHkgbmV2ZXIgaGFwcGVuLCBidXQgd2hvIGtub3dzKVxuICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5tYXgodG9wUmVjdC5oZWlnaHQgKyBib3R0b21SZWN0LmhlaWdodCwgcHJvcHMuaGVpZ2h0KTtcblxuICAgICAgICAvLyBvZmZzZXQgY2VudGVyIHBhcnRcbiAgICAgICAgcm9vdC5yZWYuY2VudGVyLnRyYW5zbGF0ZVkgPSB0b3BSZWN0LmhlaWdodDtcblxuICAgICAgICAvLyBzY2FsZSBjZW50ZXIgcGFydFxuICAgICAgICAvLyB1c2UgbWF0aCBjZWlsIHRvIHByZXZlbnQgdHJhbnNwYXJlbnQgbGluZXMgYmVjYXVzZSBvZiByb3VuZGluZyBlcnJvcnNcbiAgICAgICAgcm9vdC5yZWYuY2VudGVyLnNjYWxlWSA9IChoZWlnaHQgLSB0b3BSZWN0LmhlaWdodCAtIGJvdHRvbVJlY3QuaGVpZ2h0KSAvIDEwMDtcblxuICAgICAgICAvLyBvZmZzZXQgYm90dG9tIHBhcnRcbiAgICAgICAgcm9vdC5yZWYuYm90dG9tLnRyYW5zbGF0ZVkgPSBoZWlnaHQgLSBib3R0b21SZWN0LmhlaWdodDtcbiAgICB9O1xuXG4gICAgdmFyIHBhbmVsID0gY3JlYXRlVmlldyh7XG4gICAgICAgIG5hbWU6ICdwYW5lbCcsXG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoX3JlZjMpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgICAgICAgICAgcmV0dXJuIChwcm9wcy5oZWlnaHRDdXJyZW50ID0gcm9vdC5yZWYuYm90dG9tLnRyYW5zbGF0ZVkpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogd3JpdGUkMyxcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkNixcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBhcGlzOiBbJ2hlaWdodCcsICdoZWlnaHRDdXJyZW50JywgJ3NjYWxhYmxlJ10sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgY3JlYXRlRHJhZ0hlbHBlciA9IGZ1bmN0aW9uIGNyZWF0ZURyYWdIZWxwZXIoaXRlbXMpIHtcbiAgICAgICAgdmFyIGl0ZW1JZHMgPSBpdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2V0SW5kZXg6IGZ1bmN0aW9uIHNldEluZGV4KGluZGV4KSB7XG4gICAgICAgICAgICAgICAgcHJldkluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SW5kZXg6IGZ1bmN0aW9uIGdldEluZGV4KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2SW5kZXg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0SXRlbUluZGV4OiBmdW5jdGlvbiBnZXRJdGVtSW5kZXgoaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtSWRzLmluZGV4T2YoaXRlbS5pZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgSVRFTV9UUkFOU0xBVEVfU1BSSU5HID0ge1xuICAgICAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICAgICAgc3RpZmZuZXNzOiAwLjc1LFxuICAgICAgICBkYW1waW5nOiAwLjQ1LFxuICAgICAgICBtYXNzOiAxMCxcbiAgICB9O1xuXG4gICAgdmFyIElURU1fU0NBTEVfU1BSSU5HID0gJ3NwcmluZyc7XG5cbiAgICB2YXIgU3RhdGVNYXAgPSB7XG4gICAgICAgIERJRF9TVEFSVF9JVEVNX0xPQUQ6ICdidXN5JyxcbiAgICAgICAgRElEX1VQREFURV9JVEVNX0xPQURfUFJPR1JFU1M6ICdsb2FkaW5nJyxcbiAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogJ2xvYWQtaW52YWxpZCcsXG4gICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6ICdsb2FkLWVycm9yJyxcbiAgICAgICAgRElEX0xPQURfSVRFTTogJ2lkbGUnLFxuICAgICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6ICdyZW1vdmUtZXJyb3InLFxuICAgICAgICBESURfU1RBUlRfSVRFTV9SRU1PVkU6ICdidXN5JyxcbiAgICAgICAgRElEX1NUQVJUX0lURU1fUFJPQ0VTU0lORzogJ2J1c3kgcHJvY2Vzc2luZycsXG4gICAgICAgIERJRF9SRVFVRVNUX0lURU1fUFJPQ0VTU0lORzogJ2J1c3kgcHJvY2Vzc2luZycsXG4gICAgICAgIERJRF9VUERBVEVfSVRFTV9QUk9DRVNTX1BST0dSRVNTOiAncHJvY2Vzc2luZycsXG4gICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6ICdwcm9jZXNzaW5nLWNvbXBsZXRlJyxcbiAgICAgICAgRElEX1RIUk9XX0lURU1fUFJPQ0VTU0lOR19FUlJPUjogJ3Byb2Nlc3NpbmctZXJyb3InLFxuICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX1JFVkVSVF9FUlJPUjogJ3Byb2Nlc3NpbmctcmV2ZXJ0LWVycm9yJyxcbiAgICAgICAgRElEX0FCT1JUX0lURU1fUFJPQ0VTU0lORzogJ2NhbmNlbGxlZCcsXG4gICAgICAgIERJRF9SRVZFUlRfSVRFTV9QUk9DRVNTSU5HOiAnaWRsZScsXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGZpbGUgdmlld1xuICAgICAqL1xuICAgIHZhciBjcmVhdGUkNyA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuXG4gICAgICAgIC8vIHNlbGVjdFxuICAgICAgICByb290LnJlZi5oYW5kbGVDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiByb290LmRpc3BhdGNoKCdESURfQUNUSVZBVEVfSVRFTScsIHsgaWQ6IHByb3BzLmlkIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNldCBpZFxuICAgICAgICByb290LmVsZW1lbnQuaWQgPSAnZmlsZXBvbmQtLWl0ZW0tJyArIHByb3BzLmlkO1xuICAgICAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG5cbiAgICAgICAgLy8gZmlsZSB2aWV3XG4gICAgICAgIHJvb3QucmVmLmNvbnRhaW5lciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgICAgcm9vdC5jcmVhdGVDaGlsZFZpZXcoZmlsZVdyYXBwZXIsIHsgaWQ6IHByb3BzLmlkIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZmlsZSBwYW5lbFxuICAgICAgICByb290LnJlZi5wYW5lbCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KHBhbmVsLCB7IG5hbWU6ICdpdGVtLXBhbmVsJyB9KSk7XG5cbiAgICAgICAgLy8gZGVmYXVsdCBzdGFydCBoZWlnaHRcbiAgICAgICAgcm9vdC5yZWYucGFuZWwuaGVpZ2h0ID0gbnVsbDtcblxuICAgICAgICAvLyBieSBkZWZhdWx0IG5vdCBtYXJrZWQgZm9yIHJlbW92YWxcbiAgICAgICAgcHJvcHMubWFya2VkRm9yUmVtb3ZhbCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGlmIG5vdCBhbGxvd2VkIHRvIHJlb3JkZXIgZmlsZSBpdGVtcywgZXhpdCBoZXJlXG4gICAgICAgIGlmICghcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFT1JERVInKSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHNldCB0byBpZGxlIHNvIHNob3dzIGdyYWIgY3Vyc29yXG4gICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9ICdpZGxlJztcblxuICAgICAgICB2YXIgZ3JhYiA9IGZ1bmN0aW9uIGdyYWIoZSkge1xuICAgICAgICAgICAgaWYgKCFlLmlzUHJpbWFyeSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgcmVtb3ZlZEFjdGl2YXRlTGlzdGVuZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIG9yaWdpbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VYLFxuICAgICAgICAgICAgICAgIHk6IGUucGFnZVksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBwcm9wcy5kcmFnT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgIHg6IHJvb3QudHJhbnNsYXRlWCxcbiAgICAgICAgICAgICAgICB5OiByb290LnRyYW5zbGF0ZVksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBwcm9wcy5kcmFnQ2VudGVyID0ge1xuICAgICAgICAgICAgICAgIHg6IGUub2Zmc2V0WCxcbiAgICAgICAgICAgICAgICB5OiBlLm9mZnNldFksXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZHJhZ1N0YXRlID0gY3JlYXRlRHJhZ0hlbHBlcihyb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJykpO1xuXG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfR1JBQl9JVEVNJywgeyBpZDogcHJvcHMuaWQsIGRyYWdTdGF0ZTogZHJhZ1N0YXRlIH0pO1xuXG4gICAgICAgICAgICB2YXIgZHJhZyA9IGZ1bmN0aW9uIGRyYWcoZSkge1xuICAgICAgICAgICAgICAgIGlmICghZS5pc1ByaW1hcnkpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogZS5wYWdlWCAtIG9yaWdpbi54LFxuICAgICAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZIC0gb3JpZ2luLnksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIGRyYWdnZWQgc3RvcCBsaXN0ZW5pbmcgdG8gY2xpY2tzLCB3aWxsIHJlLWFkZCB3aGVuIGRvbmUgZHJhZ2dpbmdcbiAgICAgICAgICAgICAgICB2YXIgZGlzdCA9XG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmRyYWdPZmZzZXQueCAqIHByb3BzLmRyYWdPZmZzZXQueCArXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmRyYWdPZmZzZXQueSAqIHByb3BzLmRyYWdPZmZzZXQueTtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdCA+IDE2ICYmICFyZW1vdmVkQWN0aXZhdGVMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkQWN0aXZhdGVMaXN0ZW5lciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRFJBR19JVEVNJywgeyBpZDogcHJvcHMuaWQsIGRyYWdTdGF0ZTogZHJhZ1N0YXRlIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGRyb3AgPSBmdW5jdGlvbiBkcm9wKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuaXNQcmltYXJ5KSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGRyYWcpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGRyb3ApO1xuXG4gICAgICAgICAgICAgICAgcHJvcHMuZHJhZ09mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogZS5wYWdlWCAtIG9yaWdpbi54LFxuICAgICAgICAgICAgICAgICAgICB5OiBlLnBhZ2VZIC0gb3JpZ2luLnksXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9EUk9QX0lURU0nLCB7IGlkOiBwcm9wcy5pZCwgZHJhZ1N0YXRlOiBkcmFnU3RhdGUgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdGFydCBsaXN0ZW5pbmcgdG8gY2xpY2tzIGFnYWluXG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRBY3RpdmF0ZUxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcm9vdC5yZWYuaGFuZGxlQ2xpY2spO1xuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGRyYWcpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgZHJvcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgZ3JhYik7XG4gICAgfTtcblxuICAgIHZhciByb3V0ZSQxID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfVVBEQVRFX1BBTkVMX0hFSUdIVDogZnVuY3Rpb24gRElEX1VQREFURV9QQU5FTF9IRUlHSFQoX3JlZjIpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmMi5hY3Rpb247XG4gICAgICAgICAgICByb290LmhlaWdodCA9IGFjdGlvbi5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgd3JpdGUkNCA9IGNyZWF0ZVJvdXRlKFxuICAgICAgICB7XG4gICAgICAgICAgICBESURfR1JBQl9JVEVNOiBmdW5jdGlvbiBESURfR1JBQl9JVEVNKF9yZWYzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWYzLnByb3BzO1xuICAgICAgICAgICAgICAgIHByb3BzLmRyYWdPcmlnaW4gPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHJvb3QudHJhbnNsYXRlWCxcbiAgICAgICAgICAgICAgICAgICAgeTogcm9vdC50cmFuc2xhdGVZLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRElEX0RSQUdfSVRFTTogZnVuY3Rpb24gRElEX0RSQUdfSVRFTShfcmVmNCkge1xuICAgICAgICAgICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdDtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnZHJhZyc7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgRElEX0RST1BfSVRFTTogZnVuY3Rpb24gRElEX0RST1BfSVRFTShfcmVmNSkge1xuICAgICAgICAgICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcztcbiAgICAgICAgICAgICAgICBwcm9wcy5kcmFnT2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBwcm9wcy5kcmFnT3JpZ2luID0gbnVsbDtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5kcmFnU3RhdGUgPSAnZHJvcCc7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbihfcmVmNikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290LFxuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBfcmVmNi5hY3Rpb25zLFxuICAgICAgICAgICAgICAgIHByb3BzID0gX3JlZjYucHJvcHMsXG4gICAgICAgICAgICAgICAgc2hvdWxkT3B0aW1pemUgPSBfcmVmNi5zaG91bGRPcHRpbWl6ZTtcblxuICAgICAgICAgICAgaWYgKHJvb3QuZWxlbWVudC5kYXRhc2V0LmRyYWdTdGF0ZSA9PT0gJ2Ryb3AnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJvb3Quc2NhbGVYIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LmRhdGFzZXQuZHJhZ1N0YXRlID0gJ2lkbGUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2VsZWN0IGxhc3Qgc3RhdGUgY2hhbmdlIGFjdGlvblxuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFjdGlvbnNcbiAgICAgICAgICAgICAgICAuY29uY2F0KClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gL15ESURfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAuZmluZChmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YXRlTWFwW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBzZXQgc2FtZSBzdGF0ZSB0d2ljZVxuICAgICAgICAgICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24udHlwZSAhPT0gcHJvcHMuY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgICAgICBwcm9wcy5jdXJyZW50U3RhdGUgPSBhY3Rpb24udHlwZTtcblxuICAgICAgICAgICAgICAgIC8vIHNldCBzdGF0ZVxuICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmZpbGVwb25kSXRlbVN0YXRlID0gU3RhdGVNYXBbcHJvcHMuY3VycmVudFN0YXRlXSB8fCAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcm91dGUgYWN0aW9uc1xuICAgICAgICAgICAgdmFyIGFzcGVjdFJhdGlvID1cbiAgICAgICAgICAgICAgICByb290LnF1ZXJ5KCdHRVRfSVRFTV9QQU5FTF9BU1BFQ1RfUkFUSU8nKSB8fCByb290LnF1ZXJ5KCdHRVRfUEFORUxfQVNQRUNUX1JBVElPJyk7XG4gICAgICAgICAgICBpZiAoIWFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICAgICAgcm91dGUkMSh7IHJvb3Q6IHJvb3QsIGFjdGlvbnM6IGFjdGlvbnMsIHByb3BzOiBwcm9wcyB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3QuaGVpZ2h0ICYmIHJvb3QucmVmLmNvbnRhaW5lci5yZWN0LmVsZW1lbnQuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByb290LmhlaWdodCA9IHJvb3QucmVmLmNvbnRhaW5lci5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSByb290LnJlY3QuZWxlbWVudC53aWR0aCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzeW5jIHBhbmVsIGhlaWdodCB3aXRoIGl0ZW0gaGVpZ2h0XG4gICAgICAgICAgICBpZiAoc2hvdWxkT3B0aW1pemUpIHtcbiAgICAgICAgICAgICAgICByb290LnJlZi5wYW5lbC5oZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByb290LnJlZi5wYW5lbC5oZWlnaHQgPSByb290LmhlaWdodDtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgaXRlbSA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZSQ3LFxuICAgICAgICB3cml0ZTogd3JpdGUkNCxcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveShfcmVmNykge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNy5yb290LFxuICAgICAgICAgICAgICAgIHByb3BzID0gX3JlZjcucHJvcHM7XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByb290LnJlZi5oYW5kbGVDbGljayk7XG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdSRUxFQVNFX0lURU0nLCB7IHF1ZXJ5OiBwcm9wcy5pZCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGFnOiAnbGknLFxuICAgICAgICBuYW1lOiAnaXRlbScsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgYXBpczogW1xuICAgICAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAgICAgJ2ludGVyYWN0aW9uTWV0aG9kJyxcbiAgICAgICAgICAgICAgICAnbWFya2VkRm9yUmVtb3ZhbCcsXG4gICAgICAgICAgICAgICAgJ3NwYXduRGF0ZScsXG4gICAgICAgICAgICAgICAgJ2RyYWdDZW50ZXInLFxuICAgICAgICAgICAgICAgICdkcmFnT3JpZ2luJyxcbiAgICAgICAgICAgICAgICAnZHJhZ09mZnNldCcsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknLCAnaGVpZ2h0J10sXG5cbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6IElURU1fU0NBTEVfU1BSSU5HLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogSVRFTV9TQ0FMRV9TUFJJTkcsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogSVRFTV9UUkFOU0xBVEVfU1BSSU5HLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVk6IElURU1fVFJBTlNMQVRFX1NQUklORyxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiB7IHR5cGU6ICd0d2VlbicsIGR1cmF0aW9uOiAxNTAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0SXRlbXNQZXJSb3cgPSBmdW5jdGlvbihob3Jpem9udGFsU3BhY2UsIGl0ZW1XaWR0aCkge1xuICAgICAgICAvLyBhZGQgb25lIHBpeGVsIGxlZXdheSwgd2hlbiB1c2luZyBwZXJjZW50YWdlcyBmb3IgaXRlbSB3aWR0aCB0b3RhbCBpdGVtcyBjYW4gYmUgMS45OSBwZXIgcm93XG5cbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDEsIE1hdGguZmxvb3IoKGhvcml6b250YWxTcGFjZSArIDEpIC8gaXRlbVdpZHRoKSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRJdGVtSW5kZXhCeVBvc2l0aW9uID0gZnVuY3Rpb24gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbih2aWV3LCBjaGlsZHJlbiwgcG9zaXRpb25JblZpZXcpIHtcbiAgICAgICAgaWYgKCFwb3NpdGlvbkluVmlldykgcmV0dXJuO1xuXG4gICAgICAgIHZhciBob3Jpem9udGFsU3BhY2UgPSB2aWV3LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgLy8gY29uc3QgY2hpbGRyZW4gPSB2aWV3LmNoaWxkVmlld3M7XG4gICAgICAgIHZhciBsID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICB2YXIgbGFzdCA9IG51bGw7XG5cbiAgICAgICAgLy8gLTEsIGRvbid0IG1vdmUgaXRlbXMgdG8gYWNjb21vZGF0ZSAoZWl0aGVyIGFkZCB0byB0b3Agb3IgYm90dG9tKVxuICAgICAgICBpZiAobCA9PT0gMCB8fCBwb3NpdGlvbkluVmlldy50b3AgPCBjaGlsZHJlblswXS5yZWN0LmVsZW1lbnQudG9wKSByZXR1cm4gLTE7XG5cbiAgICAgICAgLy8gbGV0J3MgZ2V0IHRoZSBpdGVtIHdpZHRoXG4gICAgICAgIHZhciBpdGVtID0gY2hpbGRyZW5bMF07XG4gICAgICAgIHZhciBpdGVtUmVjdCA9IGl0ZW0ucmVjdC5lbGVtZW50O1xuICAgICAgICB2YXIgaXRlbUhvcml6b250YWxNYXJnaW4gPSBpdGVtUmVjdC5tYXJnaW5MZWZ0ICsgaXRlbVJlY3QubWFyZ2luUmlnaHQ7XG4gICAgICAgIHZhciBpdGVtV2lkdGggPSBpdGVtUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgICAgICB2YXIgaXRlbXNQZXJSb3cgPSBnZXRJdGVtc1BlclJvdyhob3Jpem9udGFsU3BhY2UsIGl0ZW1XaWR0aCk7XG5cbiAgICAgICAgLy8gc3RhY2tcbiAgICAgICAgaWYgKGl0ZW1zUGVyUm93ID09PSAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRNaWQgPSBjaGlsZC5yZWN0Lm91dGVyLnRvcCArIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgKiAwLjU7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uSW5WaWV3LnRvcCA8IGNoaWxkTWlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdyaWRcbiAgICAgICAgdmFyIGl0ZW1WZXJ0aWNhbE1hcmdpbiA9IGl0ZW1SZWN0Lm1hcmdpblRvcCArIGl0ZW1SZWN0Lm1hcmdpbkJvdHRvbTtcbiAgICAgICAgdmFyIGl0ZW1IZWlnaHQgPSBpdGVtUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgICAgIGZvciAodmFyIF9pbmRleCA9IDA7IF9pbmRleCA8IGw7IF9pbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXhYID0gX2luZGV4ICUgaXRlbXNQZXJSb3c7XG4gICAgICAgICAgICB2YXIgaW5kZXhZID0gTWF0aC5mbG9vcihfaW5kZXggLyBpdGVtc1BlclJvdyk7XG5cbiAgICAgICAgICAgIHZhciBvZmZzZXRYID0gaW5kZXhYICogaXRlbVdpZHRoO1xuICAgICAgICAgICAgdmFyIG9mZnNldFkgPSBpbmRleFkgKiBpdGVtSGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgaXRlbVRvcCA9IG9mZnNldFkgLSBpdGVtUmVjdC5tYXJnaW5Ub3A7XG4gICAgICAgICAgICB2YXIgaXRlbVJpZ2h0ID0gb2Zmc2V0WCArIGl0ZW1XaWR0aDtcbiAgICAgICAgICAgIHZhciBpdGVtQm90dG9tID0gb2Zmc2V0WSArIGl0ZW1IZWlnaHQgKyBpdGVtUmVjdC5tYXJnaW5Cb3R0b207XG5cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbkluVmlldy50b3AgPCBpdGVtQm90dG9tICYmIHBvc2l0aW9uSW5WaWV3LnRvcCA+IGl0ZW1Ub3ApIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25JblZpZXcubGVmdCA8IGl0ZW1SaWdodCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2luZGV4O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX2luZGV4ICE9PSBsIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gX2luZGV4O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsO1xuICAgIH07XG5cbiAgICB2YXIgZHJvcEFyZWFEaW1lbnNpb25zID0ge1xuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBnZXQgZ2V0SGVpZ2h0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQgc2V0SGVpZ2h0KHZhbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ID09PSAwIHx8IHZhbCA9PT0gMCkgdGhpcy5oZWlnaHQgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBnZXRXaWR0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgc2V0V2lkdGgodmFsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gMCB8fCB2YWwgPT09IDApIHRoaXMud2lkdGggPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldERpbWVuc2lvbnM6IGZ1bmN0aW9uIHNldERpbWVuc2lvbnMoaGVpZ2h0LCB3aWR0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ID09PSAwIHx8IGhlaWdodCA9PT0gMCkgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gMCB8fCB3aWR0aCA9PT0gMCkgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJDggPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdDtcbiAgICAgICAgLy8gbmVlZCB0byBzZXQgcm9sZSB0byBsaXN0IGFzIG90aGVyd2lzZSBpdCB3b24ndCBiZSByZWFkIGFzIGEgbGlzdCBieSBWb2ljZU92ZXJcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdyb2xlJywgJ2xpc3QnKTtcblxuICAgICAgICByb290LnJlZi5sYXN0SXRlbVNwYW53RGF0ZSA9IERhdGUubm93KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSBuZXcgaXRlbVxuICAgICAqIEBwYXJhbSByb290XG4gICAgICogQHBhcmFtIGFjdGlvblxuICAgICAqL1xuICAgIHZhciBhZGRJdGVtVmlldyA9IGZ1bmN0aW9uIGFkZEl0ZW1WaWV3KF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgdmFyIGlkID0gYWN0aW9uLmlkLFxuICAgICAgICAgICAgaW5kZXggPSBhY3Rpb24uaW5kZXgsXG4gICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZCA9IGFjdGlvbi5pbnRlcmFjdGlvbk1ldGhvZDtcblxuICAgICAgICByb290LnJlZi5hZGRJbmRleCA9IGluZGV4O1xuXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgc3Bhd25EYXRlID0gbm93O1xuICAgICAgICB2YXIgb3BhY2l0eSA9IDE7XG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9uTWV0aG9kICE9PSBJbnRlcmFjdGlvbk1ldGhvZC5OT05FKSB7XG4gICAgICAgICAgICBvcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHZhciBjb29sZG93biA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNX0lOU0VSVF9JTlRFUlZBTCcpO1xuICAgICAgICAgICAgdmFyIGRpc3QgPSBub3cgLSByb290LnJlZi5sYXN0SXRlbVNwYW53RGF0ZTtcbiAgICAgICAgICAgIHNwYXduRGF0ZSA9IGRpc3QgPCBjb29sZG93biA/IG5vdyArIChjb29sZG93biAtIGRpc3QpIDogbm93O1xuICAgICAgICB9XG5cbiAgICAgICAgcm9vdC5yZWYubGFzdEl0ZW1TcGFud0RhdGUgPSBzcGF3bkRhdGU7XG5cbiAgICAgICAgcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhcbiAgICAgICAgICAgICAgICAvLyB2aWV3IHR5cGVcbiAgICAgICAgICAgICAgICBpdGVtLFxuXG4gICAgICAgICAgICAgICAgLy8gcHJvcHNcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNwYXduRGF0ZTogc3Bhd25EYXRlLFxuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IG9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBpbnRlcmFjdGlvbk1ldGhvZCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICBpbmRleFxuICAgICAgICApO1xuICAgIH07XG5cbiAgICB2YXIgbW92ZUl0ZW0gPSBmdW5jdGlvbiBtb3ZlSXRlbShpdGVtLCB4LCB5KSB7XG4gICAgICAgIHZhciB2eCA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMDtcbiAgICAgICAgdmFyIHZ5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAxO1xuICAgICAgICAvLyBzZXQgdG8gbnVsbCB0byByZW1vdmUgYW5pbWF0aW9uIHdoaWxlIGRyYWdnaW5nXG4gICAgICAgIGlmIChpdGVtLmRyYWdPZmZzZXQpIHtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVYID0gaXRlbS5kcmFnT3JpZ2luLnggKyBpdGVtLmRyYWdPZmZzZXQueDtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IGl0ZW0uZHJhZ09yaWdpbi55ICsgaXRlbS5kcmFnT2Zmc2V0Lnk7XG4gICAgICAgICAgICBpdGVtLnNjYWxlWCA9IDEuMDI1O1xuICAgICAgICAgICAgaXRlbS5zY2FsZVkgPSAxLjAyNTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IHg7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5O1xuXG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSA+IGl0ZW0uc3Bhd25EYXRlKSB7XG4gICAgICAgICAgICAgICAgLy8gcmV2ZWFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5vcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGludHJvSXRlbVZpZXcoaXRlbSwgeCwgeSwgdngsIHZ5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgaXMgZGVmYXVsdCBzY2FsZSBldmVyeSBmcmFtZVxuICAgICAgICAgICAgICAgIGl0ZW0uc2NhbGVYID0gMTtcbiAgICAgICAgICAgICAgICBpdGVtLnNjYWxlWSA9IDE7XG4gICAgICAgICAgICAgICAgaXRlbS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW50cm9JdGVtVmlldyA9IGZ1bmN0aW9uIGludHJvSXRlbVZpZXcoaXRlbSwgeCwgeSwgdngsIHZ5KSB7XG4gICAgICAgIGlmIChpdGVtLmludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5OT05FKSB7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVYID0geDtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSB5O1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkRST1ApIHtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4IC0gdnggKiAyMDtcblxuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHkgLSB2eSAqIDEwO1xuXG4gICAgICAgICAgICBpdGVtLnNjYWxlWCA9IDAuODtcbiAgICAgICAgICAgIGl0ZW0uc2NhbGVZID0gMC44O1xuICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaW50ZXJhY3Rpb25NZXRob2QgPT09IEludGVyYWN0aW9uTWV0aG9kLkJST1dTRSkge1xuICAgICAgICAgICAgaXRlbS50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWSA9IHkgLSAzMDtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5BUEkpIHtcbiAgICAgICAgICAgIGl0ZW0udHJhbnNsYXRlWCA9IG51bGw7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVggPSB4IC0gMzA7XG4gICAgICAgICAgICBpdGVtLnRyYW5zbGF0ZVkgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXhpc3RpbmcgaXRlbVxuICAgICAqIEBwYXJhbSByb290XG4gICAgICogQHBhcmFtIGFjdGlvblxuICAgICAqL1xuICAgIHZhciByZW1vdmVJdGVtVmlldyA9IGZ1bmN0aW9uIHJlbW92ZUl0ZW1WaWV3KF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICAgICAgdmFyIGlkID0gYWN0aW9uLmlkO1xuXG4gICAgICAgIC8vIGdldCB0aGUgdmlldyBtYXRjaGluZyB0aGUgZ2l2ZW4gaWRcbiAgICAgICAgdmFyIHZpZXcgPSByb290LmNoaWxkVmlld3MuZmluZChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgbm8gdmlldyBmb3VuZCwgZXhpdFxuICAgICAgICBpZiAoIXZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFuaW1hdGUgdmlldyBvdXQgb2Ygdmlld1xuICAgICAgICB2aWV3LnNjYWxlWCA9IDAuOTtcbiAgICAgICAgdmlldy5zY2FsZVkgPSAwLjk7XG4gICAgICAgIHZpZXcub3BhY2l0eSA9IDA7XG5cbiAgICAgICAgLy8gbWFyayBmb3IgcmVtb3ZhbFxuICAgICAgICB2aWV3Lm1hcmtlZEZvclJlbW92YWwgPSB0cnVlO1xuICAgIH07XG5cbiAgICB2YXIgZ2V0SXRlbUhlaWdodCA9IGZ1bmN0aW9uIGdldEl0ZW1IZWlnaHQoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQgK1xuICAgICAgICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbSAqIDAuNSArXG4gICAgICAgICAgICBjaGlsZC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wICogMC41XG4gICAgICAgICk7XG4gICAgfTtcbiAgICB2YXIgZ2V0SXRlbVdpZHRoID0gZnVuY3Rpb24gZ2V0SXRlbVdpZHRoKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjaGlsZC5yZWN0LmVsZW1lbnQud2lkdGggK1xuICAgICAgICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpbkxlZnQgKiAwLjUgK1xuICAgICAgICAgICAgY2hpbGQucmVjdC5lbGVtZW50Lm1hcmdpblJpZ2h0ICogMC41XG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBkcmFnSXRlbSA9IGZ1bmN0aW9uIGRyYWdJdGVtKF9yZWY0KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjQucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY0LmFjdGlvbjtcbiAgICAgICAgdmFyIGlkID0gYWN0aW9uLmlkLFxuICAgICAgICAgICAgZHJhZ1N0YXRlID0gYWN0aW9uLmRyYWdTdGF0ZTtcblxuICAgICAgICAvLyByZWZlcmVuY2UgdG8gaXRlbVxuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgeyBpZDogaWQgfSk7XG5cbiAgICAgICAgLy8gZ2V0IHRoZSB2aWV3IG1hdGNoaW5nIHRoZSBnaXZlbiBpZFxuICAgICAgICB2YXIgdmlldyA9IHJvb3QuY2hpbGRWaWV3cy5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQuaWQgPT09IGlkO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbnVtSXRlbXMgPSByb290LmNoaWxkVmlld3MubGVuZ3RoO1xuICAgICAgICB2YXIgb2xkSW5kZXggPSBkcmFnU3RhdGUuZ2V0SXRlbUluZGV4KGl0ZW0pO1xuXG4gICAgICAgIC8vIGlmIG5vIHZpZXcgZm91bmQsIGV4aXRcbiAgICAgICAgaWYgKCF2aWV3KSByZXR1cm47XG5cbiAgICAgICAgdmFyIGRyYWdQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgIHg6IHZpZXcuZHJhZ09yaWdpbi54ICsgdmlldy5kcmFnT2Zmc2V0LnggKyB2aWV3LmRyYWdDZW50ZXIueCxcbiAgICAgICAgICAgIHk6IHZpZXcuZHJhZ09yaWdpbi55ICsgdmlldy5kcmFnT2Zmc2V0LnkgKyB2aWV3LmRyYWdDZW50ZXIueSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBnZXQgZHJhZyBhcmVhIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIGRyYWdIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KHZpZXcpO1xuICAgICAgICB2YXIgZHJhZ1dpZHRoID0gZ2V0SXRlbVdpZHRoKHZpZXcpO1xuXG4gICAgICAgIC8vIGdldCByb3dzIGFuZCBjb2x1bW5zIChUaGVyZSB3aWxsIGFsd2F5cyBiZSBhdCBsZWFzdCBvbmUgcm93IGFuZCBvbmUgY29sdW1uIGlmIGEgZmlsZSBpcyBwcmVzZW50KVxuICAgICAgICB2YXIgY29scyA9IE1hdGguZmxvb3Iocm9vdC5yZWN0Lm91dGVyLndpZHRoIC8gZHJhZ1dpZHRoKTtcbiAgICAgICAgaWYgKGNvbHMgPiBudW1JdGVtcykgY29scyA9IG51bUl0ZW1zO1xuXG4gICAgICAgIC8vIHJvd3MgYXJlIHVzZWQgdG8gZmluZCB3aGVuIHdlIGhhdmUgbGVmdCB0aGUgcHJldmlldyBhcmVhIGJvdW5kaW5nIGJveFxuICAgICAgICB2YXIgcm93cyA9IE1hdGguZmxvb3IobnVtSXRlbXMgLyBjb2xzICsgMSk7XG5cbiAgICAgICAgZHJvcEFyZWFEaW1lbnNpb25zLnNldEhlaWdodCA9IGRyYWdIZWlnaHQgKiByb3dzO1xuICAgICAgICBkcm9wQXJlYURpbWVuc2lvbnMuc2V0V2lkdGggPSBkcmFnV2lkdGggKiBjb2xzO1xuXG4gICAgICAgIC8vIGdldCBuZXcgaW5kZXggb2YgZHJhZ2dlZCBpdGVtXG4gICAgICAgIHZhciBsb2NhdGlvbiA9IHtcbiAgICAgICAgICAgIHk6IE1hdGguZmxvb3IoZHJhZ1Bvc2l0aW9uLnkgLyBkcmFnSGVpZ2h0KSxcbiAgICAgICAgICAgIHg6IE1hdGguZmxvb3IoZHJhZ1Bvc2l0aW9uLnggLyBkcmFnV2lkdGgpLFxuICAgICAgICAgICAgZ2V0R3JpZEluZGV4OiBmdW5jdGlvbiBnZXRHcmlkSW5kZXgoKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBkcmFnUG9zaXRpb24ueSA+IGRyb3BBcmVhRGltZW5zaW9ucy5nZXRIZWlnaHQgfHxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ1Bvc2l0aW9uLnkgPCAwIHx8XG4gICAgICAgICAgICAgICAgICAgIGRyYWdQb3NpdGlvbi54ID4gZHJvcEFyZWFEaW1lbnNpb25zLmdldFdpZHRoIHx8XG4gICAgICAgICAgICAgICAgICAgIGRyYWdQb3NpdGlvbi54IDwgMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9sZEluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnkgKiBjb2xzICsgdGhpcy54O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldENvbEluZGV4OiBmdW5jdGlvbiBnZXRDb2xJbmRleCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJyk7XG4gICAgICAgICAgICAgICAgdmFyIHZpc2libGVDaGlsZHJlbiA9IHJvb3QuY2hpbGRWaWV3cy5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkVmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkVmlldy5pZCA9PT0gaXRlbS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gY2hpbGRyZW4uZmluZEluZGV4KGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZCA9PT0gdmlldztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZHJhZ0hlaWdodCA9IGdldEl0ZW1IZWlnaHQodmlldyk7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGw7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkSGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRCb3R0b20gPSAwO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZFRvcCA9IDA7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRIZWlnaHQgPSBnZXRJdGVtSGVpZ2h0KGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRUb3AgPSBjaGlsZEJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3R0b20gPSBjaGlsZFRvcCArIGNoaWxkSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ1Bvc2l0aW9uLnkgPCBjaGlsZEJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ1Bvc2l0aW9uLnkgPCBjaGlsZFRvcCArIGRyYWdIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpZHg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGdldCBuZXcgaW5kZXhcbiAgICAgICAgdmFyIGluZGV4ID0gY29scyA+IDEgPyBsb2NhdGlvbi5nZXRHcmlkSW5kZXgoKSA6IGxvY2F0aW9uLmdldENvbEluZGV4KCk7XG4gICAgICAgIHJvb3QuZGlzcGF0Y2goJ01PVkVfSVRFTScsIHsgcXVlcnk6IHZpZXcsIGluZGV4OiBpbmRleCB9KTtcblxuICAgICAgICAvLyBpZiB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gY2hhbmdlZCwgZGlzcGF0Y2ggcmVvcmRlciBhY3Rpb25cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGRyYWdTdGF0ZS5nZXRJbmRleCgpO1xuXG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50SW5kZXggIT09IGluZGV4KSB7XG4gICAgICAgICAgICBkcmFnU3RhdGUuc2V0SW5kZXgoaW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1JFT1JERVJfSVRFTVMnLCB7XG4gICAgICAgICAgICAgICAgaXRlbXM6IHJvb3QucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IG9sZEluZGV4LFxuICAgICAgICAgICAgICAgIHRhcmdldDogaW5kZXgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCBhY3Rpb24gcm91dGVzXG4gICAgICovXG4gICAgdmFyIHJvdXRlJDIgPSBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9BRERfSVRFTTogYWRkSXRlbVZpZXcsXG4gICAgICAgIERJRF9SRU1PVkVfSVRFTTogcmVtb3ZlSXRlbVZpZXcsXG4gICAgICAgIERJRF9EUkFHX0lURU06IGRyYWdJdGVtLFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogV3JpdGUgdG8gdmlld1xuICAgICAqIEBwYXJhbSByb290XG4gICAgICogQHBhcmFtIGFjdGlvbnNcbiAgICAgKiBAcGFyYW0gcHJvcHNcbiAgICAgKi9cbiAgICB2YXIgd3JpdGUkNSA9IGZ1bmN0aW9uIHdyaXRlKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZjUucHJvcHMsXG4gICAgICAgICAgICBhY3Rpb25zID0gX3JlZjUuYWN0aW9ucyxcbiAgICAgICAgICAgIHNob3VsZE9wdGltaXplID0gX3JlZjUuc2hvdWxkT3B0aW1pemU7XG4gICAgICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICAgICAgcm91dGUkMih7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcywgYWN0aW9uczogYWN0aW9ucyB9KTtcbiAgICAgICAgdmFyIGRyYWdDb29yZGluYXRlcyA9IHByb3BzLmRyYWdDb29yZGluYXRlcztcblxuICAgICAgICAvLyBhdmFpbGFibGUgc3BhY2Ugb24gaG9yaXpvbnRhbCBheGlzXG4gICAgICAgIHZhciBob3Jpem9udGFsU3BhY2UgPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcblxuICAgICAgICAvLyBvbmx5IGRyYXcgY2hpbGRyZW4gdGhhdCBoYXZlIGRpbWVuc2lvbnNcbiAgICAgICAgdmFyIHZpc2libGVDaGlsZHJlbiA9IHJvb3QuY2hpbGRWaWV3cy5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzb3J0IGJhc2VkIG9uIGN1cnJlbnQgYWN0aXZlIGl0ZW1zXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHJvb3RcbiAgICAgICAgICAgIC5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBpdGVtLmlkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZ2V0IGluZGV4XG4gICAgICAgIHZhciBkcmFnSW5kZXggPSBkcmFnQ29vcmRpbmF0ZXNcbiAgICAgICAgICAgID8gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihyb290LCBjaGlsZHJlbiwgZHJhZ0Nvb3JkaW5hdGVzKVxuICAgICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBpbmRleCBpcyB1c2VkIHRvIHJlc2VydmUgdGhlIGRyb3BwZWQvYWRkZWQgaXRlbSBpbmRleCB0aWxsIHRoZSBhY3R1YWwgaXRlbSBpcyByZW5kZXJlZFxuICAgICAgICB2YXIgYWRkSW5kZXggPSByb290LnJlZi5hZGRJbmRleCB8fCBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBpbmRleCBubyBsb25nZXIgbmVlZGVkIHRpbGwgcG9zc2libHkgbmV4dCBkcmF3XG4gICAgICAgIHJvb3QucmVmLmFkZEluZGV4ID0gbnVsbDtcblxuICAgICAgICB2YXIgZHJhZ0luZGV4T2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIHJlbW92ZUluZGV4T2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIGFkZEluZGV4T2Zmc2V0ID0gMDtcblxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGNoaWxkUmVjdCA9IGNoaWxkcmVuWzBdLnJlY3QuZWxlbWVudDtcbiAgICAgICAgdmFyIGl0ZW1WZXJ0aWNhbE1hcmdpbiA9IGNoaWxkUmVjdC5tYXJnaW5Ub3AgKyBjaGlsZFJlY3QubWFyZ2luQm90dG9tO1xuICAgICAgICB2YXIgaXRlbUhvcml6b250YWxNYXJnaW4gPSBjaGlsZFJlY3QubWFyZ2luTGVmdCArIGNoaWxkUmVjdC5tYXJnaW5SaWdodDtcbiAgICAgICAgdmFyIGl0ZW1XaWR0aCA9IGNoaWxkUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgICAgICB2YXIgaXRlbUhlaWdodCA9IGNoaWxkUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG4gICAgICAgIHZhciBpdGVtc1BlclJvdyA9IGdldEl0ZW1zUGVyUm93KGhvcml6b250YWxTcGFjZSwgaXRlbVdpZHRoKTtcblxuICAgICAgICAvLyBzdGFja1xuICAgICAgICBpZiAoaXRlbXNQZXJSb3cgPT09IDEpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXRZID0gMDtcbiAgICAgICAgICAgIHZhciBkcmFnT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZHJhZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gaW5kZXggLSBkcmFnSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0ID09PSAtMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IC1pdGVtVmVydGljYWxNYXJnaW4gKiAwLjI1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3QgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gLWl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuNzU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IGl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuNzU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ09mZnNldCA9IGl0ZW1WZXJ0aWNhbE1hcmdpbiAqIDAuMjU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRPcHRpbWl6ZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC50cmFuc2xhdGVYID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudHJhbnNsYXRlWSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5tYXJrZWRGb3JSZW1vdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVJdGVtKGNoaWxkLCAwLCBvZmZzZXRZICsgZHJhZ09mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1IZWlnaHQgPSBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZpc3VhbEhlaWdodCA9IGl0ZW1IZWlnaHQgKiAoY2hpbGQubWFya2VkRm9yUmVtb3ZhbCA/IGNoaWxkLm9wYWNpdHkgOiAxKTtcblxuICAgICAgICAgICAgICAgIG9mZnNldFkgKz0gdmlzdWFsSGVpZ2h0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZ3JpZFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2WCA9IDA7XG4gICAgICAgICAgICB2YXIgcHJldlkgPSAwO1xuXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gZHJhZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYWdJbmRleE9mZnNldCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSBhZGRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJbmRleE9mZnNldCArPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5tYXJrZWRGb3JSZW1vdmFsICYmIGNoaWxkLm9wYWNpdHkgPCAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSW5kZXhPZmZzZXQgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgdmlzdWFsSW5kZXggPSBpbmRleCArIGFkZEluZGV4T2Zmc2V0ICsgZHJhZ0luZGV4T2Zmc2V0ICsgcmVtb3ZlSW5kZXhPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhYID0gdmlzdWFsSW5kZXggJSBpdGVtc1BlclJvdztcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXhZID0gTWF0aC5mbG9vcih2aXN1YWxJbmRleCAvIGl0ZW1zUGVyUm93KTtcblxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gaW5kZXhYICogaXRlbVdpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gaW5kZXhZICogaXRlbUhlaWdodDtcblxuICAgICAgICAgICAgICAgIHZhciB2ZWN0b3JYID0gTWF0aC5zaWduKG9mZnNldFggLSBwcmV2WCk7XG4gICAgICAgICAgICAgICAgdmFyIHZlY3RvclkgPSBNYXRoLnNpZ24ob2Zmc2V0WSAtIHByZXZZKTtcblxuICAgICAgICAgICAgICAgIHByZXZYID0gb2Zmc2V0WDtcbiAgICAgICAgICAgICAgICBwcmV2WSA9IG9mZnNldFk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubWFya2VkRm9yUmVtb3ZhbCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZE9wdGltaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnRyYW5zbGF0ZVggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC50cmFuc2xhdGVZID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb3ZlSXRlbShjaGlsZCwgb2Zmc2V0WCwgb2Zmc2V0WSwgdmVjdG9yWCwgdmVjdG9yWSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIGFjdGlvbnMgdGhhdCBhcmUgbWVhbnQgc3BlY2lmaWNhbGx5IGZvciBhIGNlcnRhaW4gY2hpbGQgb2YgdGhlIGxpc3RcbiAgICAgKiBAcGFyYW0gY2hpbGRcbiAgICAgKiBAcGFyYW0gYWN0aW9uc1xuICAgICAqL1xuICAgIHZhciBmaWx0ZXJTZXRJdGVtQWN0aW9ucyA9IGZ1bmN0aW9uIGZpbHRlclNldEl0ZW1BY3Rpb25zKGNoaWxkLCBhY3Rpb25zKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb25zLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIGlmIGFjdGlvbiBoYXMgYW4gaWQsIGZpbHRlciBvdXQgYWN0aW9ucyB0aGF0IGRvbid0IGhhdmUgdGhpcyBjaGlsZCBpZFxuICAgICAgICAgICAgaWYgKGFjdGlvbi5kYXRhICYmIGFjdGlvbi5kYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLmlkID09PSBhY3Rpb24uZGF0YS5pZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWxsb3cgYWxsIG90aGVyIGFjdGlvbnNcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGxpc3QgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkOCxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDUsXG4gICAgICAgIHRhZzogJ3VsJyxcbiAgICAgICAgbmFtZTogJ2xpc3QnLFxuICAgICAgICBkaWRXcml0ZVZpZXc6IGZ1bmN0aW9uIGRpZFdyaXRlVmlldyhfcmVmNikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290O1xuICAgICAgICAgICAgcm9vdC5jaGlsZFZpZXdzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbih2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3Lm1hcmtlZEZvclJlbW92YWwgJiYgdmlldy5vcGFjaXR5ID09PSAwICYmIHZpZXcucmVzdGluZztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5fZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyh2aWV3KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZmlsdGVyRnJhbWVBY3Rpb25zRm9yQ2hpbGQ6IGZpbHRlclNldEl0ZW1BY3Rpb25zLFxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIGFwaXM6IFsnZHJhZ0Nvb3JkaW5hdGVzJ10sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgY3JlYXRlJDkgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcbiAgICAgICAgcm9vdC5yZWYubGlzdCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGxpc3QpKTtcbiAgICAgICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0gbnVsbDtcbiAgICAgICAgcHJvcHMub3ZlcmZsb3dpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIHN0b3JlRHJhZ0Nvb3JkaW5hdGVzID0gZnVuY3Rpb24gc3RvcmVEcmFnQ29vcmRpbmF0ZXMoX3JlZjIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMi5wcm9wcyxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfSVRFTV9JTlNFUlRfTE9DQVRJT05fRlJFRURPTScpKSByZXR1cm47XG4gICAgICAgIHByb3BzLmRyYWdDb29yZGluYXRlcyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IGFjdGlvbi5wb3NpdGlvbi5zY29wZUxlZnQgLSByb290LnJlZi5saXN0LnJlY3QuZWxlbWVudC5sZWZ0LFxuICAgICAgICAgICAgdG9wOlxuICAgICAgICAgICAgICAgIGFjdGlvbi5wb3NpdGlvbi5zY29wZVRvcCAtXG4gICAgICAgICAgICAgICAgKHJvb3QucmVjdC5vdXRlci50b3AgKyByb290LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3AgKyByb290LnJlY3QuZWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY2xlYXJEcmFnQ29vcmRpbmF0ZXMgPSBmdW5jdGlvbiBjbGVhckRyYWdDb29yZGluYXRlcyhfcmVmMykge1xuICAgICAgICB2YXIgcHJvcHMgPSBfcmVmMy5wcm9wcztcbiAgICAgICAgcHJvcHMuZHJhZ0Nvb3JkaW5hdGVzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIHJvdXRlJDMgPSBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9EUkFHOiBzdG9yZURyYWdDb29yZGluYXRlcyxcbiAgICAgICAgRElEX0VORF9EUkFHOiBjbGVhckRyYWdDb29yZGluYXRlcyxcbiAgICB9KTtcblxuICAgIHZhciB3cml0ZSQ2ID0gZnVuY3Rpb24gd3JpdGUoX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmNC5wcm9wcyxcbiAgICAgICAgICAgIGFjdGlvbnMgPSBfcmVmNC5hY3Rpb25zO1xuXG4gICAgICAgIC8vIHJvdXRlIGFjdGlvbnNcbiAgICAgICAgcm91dGUkMyh7IHJvb3Q6IHJvb3QsIHByb3BzOiBwcm9wcywgYWN0aW9uczogYWN0aW9ucyB9KTtcblxuICAgICAgICAvLyBjdXJyZW50IGRyYWcgcG9zaXRpb25cbiAgICAgICAgcm9vdC5yZWYubGlzdC5kcmFnQ29vcmRpbmF0ZXMgPSBwcm9wcy5kcmFnQ29vcmRpbmF0ZXM7XG5cbiAgICAgICAgLy8gaWYgY3VycmVudGx5IG92ZXJmbG93aW5nIGJ1dCBubyBsb25nZXIgcmVjZWl2ZWQgb3ZlcmZsb3dcbiAgICAgICAgaWYgKHByb3BzLm92ZXJmbG93aW5nICYmICFwcm9wcy5vdmVyZmxvdykge1xuICAgICAgICAgICAgcHJvcHMub3ZlcmZsb3dpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgb3ZlcmZsb3cgc3RhdGVcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LnN0YXRlID0gJyc7XG4gICAgICAgICAgICByb290LmhlaWdodCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBpcyBub3Qgb3ZlcmZsb3dpbmcgY3VycmVudGx5IGJ1dCBkb2VzIHJlY2VpdmUgb3ZlcmZsb3cgdmFsdWVcbiAgICAgICAgaWYgKHByb3BzLm92ZXJmbG93KSB7XG4gICAgICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gTWF0aC5yb3VuZChwcm9wcy5vdmVyZmxvdyk7XG4gICAgICAgICAgICBpZiAobmV3SGVpZ2h0ICE9PSByb290LmhlaWdodCkge1xuICAgICAgICAgICAgICAgIHByb3BzLm92ZXJmbG93aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldC5zdGF0ZSA9ICdvdmVyZmxvdyc7XG4gICAgICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGxpc3RTY3JvbGxlciA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZSQ5LFxuICAgICAgICB3cml0ZTogd3JpdGUkNixcbiAgICAgICAgbmFtZTogJ2xpc3Qtc2Nyb2xsZXInLFxuICAgICAgICBtaXhpbnM6IHtcbiAgICAgICAgICAgIGFwaXM6IFsnb3ZlcmZsb3cnLCAnZHJhZ0Nvb3JkaW5hdGVzJ10sXG4gICAgICAgICAgICBzdHlsZXM6IFsnaGVpZ2h0JywgJ3RyYW5zbGF0ZVknXSxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiAnc3ByaW5nJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB2YXIgYXR0clRvZ2dsZSA9IGZ1bmN0aW9uIGF0dHJUb2dnbGUoZWxlbWVudCwgbmFtZSwgc3RhdGUpIHtcbiAgICAgICAgdmFyIGVuYWJsZWRWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogJyc7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgYXR0cihlbGVtZW50LCBuYW1lLCBlbmFibGVkVmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHJlc2V0RmlsZUlucHV0ID0gZnVuY3Rpb24gcmVzZXRGaWxlSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgLy8gbm8gdmFsdWUsIG5vIG5lZWQgdG8gcmVzZXRcbiAgICAgICAgaWYgKCFpbnB1dCB8fCBpbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBmb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG5cbiAgICAgICAgLy8gZm9yIElFMTBcbiAgICAgICAgaWYgKGlucHV0LnZhbHVlKSB7XG4gICAgICAgICAgICAvLyBxdWlja2x5IGFwcGVuZCBpbnB1dCB0byB0ZW1wIGZvcm0gYW5kIHJlc2V0IGZvcm1cbiAgICAgICAgICAgIHZhciBmb3JtID0gY3JlYXRlRWxlbWVudCQxKCdmb3JtJyk7XG4gICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGlucHV0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB2YXIgcmVmID0gaW5wdXQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBmb3JtLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICAgICAgICAgIGZvcm0ucmVzZXQoKTtcblxuICAgICAgICAgICAgLy8gcmUtaW5qZWN0IGlucHV0IHdoZXJlIGl0IG9yaWdpbmFsbHkgd2FzXG4gICAgICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaW5wdXQsIHJlZik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGUkYSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuXG4gICAgICAgIC8vIHNldCBpZCBzbyBjYW4gYmUgcmVmZXJlbmNlZCBmcm9tIG91dHNpZGUgbGFiZWxzXG4gICAgICAgIHJvb3QuZWxlbWVudC5pZCA9ICdmaWxlcG9uZC0tYnJvd3Nlci0nICsgcHJvcHMuaWQ7XG5cbiAgICAgICAgLy8gc2V0IG5hbWUgb2YgZWxlbWVudCAoaXMgcmVtb3ZlZCB3aGVuIGEgdmFsdWUgaXMgc2V0KVxuICAgICAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ25hbWUnLCByb290LnF1ZXJ5KCdHRVRfTkFNRScpKTtcblxuICAgICAgICAvLyB3ZSBoYXZlIHRvIGxpbmsgdGhpcyBlbGVtZW50IHRvIHRoZSBzdGF0dXMgZWxlbWVudFxuICAgICAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ2FyaWEtY29udHJvbHMnLCAnZmlsZXBvbmQtLWFzc2lzdGFudC0nICsgcHJvcHMuaWQpO1xuXG4gICAgICAgIC8vIHNldCBsYWJlbCwgd2UgdXNlIGxhYmVsbGVkIGJ5IGFzIG90aGVyd2lzZSB0aGUgc2NyZWVucmVhZGVyIGRvZXMgbm90IHJlYWQgdGhlIFwiYnJvd3NlXCIgdGV4dCBpbiB0aGUgbGFiZWwgKGFzIGl0IGhhcyB0YWJpbmRleDogMClcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLWxhYmVsbGVkYnknLCAnZmlsZXBvbmQtLWRyb3AtbGFiZWwtJyArIHByb3BzLmlkKTtcblxuICAgICAgICAvLyBzZXQgY29uZmlndXJhYmxlIHByb3BzXG4gICAgICAgIHNldEFjY2VwdGVkRmlsZVR5cGVzKHtcbiAgICAgICAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICAgICAgICBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9BQ0NFUFRFRF9GSUxFX1RZUEVTJykgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRvZ2dsZUFsbG93TXVsdGlwbGUoeyByb290OiByb290LCBhY3Rpb246IHsgdmFsdWU6IHJvb3QucXVlcnkoJ0dFVF9BTExPV19NVUxUSVBMRScpIH0gfSk7XG4gICAgICAgIHRvZ2dsZURpcmVjdG9yeUZpbHRlcih7XG4gICAgICAgICAgICByb290OiByb290LFxuICAgICAgICAgICAgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQUxMT1dfRElSRUNUT1JJRVNfT05MWScpIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0b2dnbGVEaXNhYmxlZCh7IHJvb3Q6IHJvb3QgfSk7XG4gICAgICAgIHRvZ2dsZVJlcXVpcmVkKHsgcm9vdDogcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfUkVRVUlSRUQnKSB9IH0pO1xuICAgICAgICBzZXRDYXB0dXJlTWV0aG9kKHsgcm9vdDogcm9vdCwgYWN0aW9uOiB7IHZhbHVlOiByb290LnF1ZXJ5KCdHRVRfQ0FQVFVSRV9NRVRIT0QnKSB9IH0pO1xuXG4gICAgICAgIC8vIGhhbmRsZSBjaGFuZ2VzIHRvIHRoZSBpbnB1dCBmaWVsZFxuICAgICAgICByb290LnJlZi5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoIXJvb3QuZWxlbWVudC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZXh0cmFjdCBmaWxlcyBhbmQgbW92ZSB2YWx1ZSBvZiB3ZWJraXRSZWxhdGl2ZVBhdGggcGF0aCB0byBfcmVsYXRpdmVQYXRoXG4gICAgICAgICAgICB2YXIgZmlsZXMgPSBBcnJheS5mcm9tKHJvb3QuZWxlbWVudC5maWxlcykubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICBmaWxlLl9yZWxhdGl2ZVBhdGggPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyB3ZSBhZGQgYSBsaXR0bGUgZGVsYXkgc28gdGhlIE9TIGZpbGUgc2VsZWN0IHdpbmRvdyBjYW4gbW92ZSBvdXQgb2YgdGhlIHdheSBiZWZvcmUgd2UgYWRkIG91ciBmaWxlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIGxvYWQgZmlsZXNcbiAgICAgICAgICAgICAgICBwcm9wcy5vbmxvYWQoZmlsZXMpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgaW5wdXQsIGl0J3MganVzdCBmb3IgZXhwb3NpbmcgYSBtZXRob2QgdG8gZHJvcCBmaWxlcywgc2hvdWxkIG5vdCByZXRhaW4gYW55IHN0YXRlXG4gICAgICAgICAgICAgICAgcmVzZXRGaWxlSW5wdXQocm9vdC5lbGVtZW50KTtcbiAgICAgICAgICAgIH0sIDI1MCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcm9vdC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHJvb3QucmVmLmhhbmRsZUNoYW5nZSk7XG4gICAgfTtcblxuICAgIHZhciBzZXRBY2NlcHRlZEZpbGVUeXBlcyA9IGZ1bmN0aW9uIHNldEFjY2VwdGVkRmlsZVR5cGVzKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgaWYgKCFyb290LnF1ZXJ5KCdHRVRfQUxMT1dfU1lOQ19BQ0NFUFRfQVRUUklCVVRFJykpIHJldHVybjtcbiAgICAgICAgYXR0clRvZ2dsZShcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudCxcbiAgICAgICAgICAgICdhY2NlcHQnLFxuICAgICAgICAgICAgISFhY3Rpb24udmFsdWUsXG4gICAgICAgICAgICBhY3Rpb24udmFsdWUgPyBhY3Rpb24udmFsdWUuam9pbignLCcpIDogJydcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHRvZ2dsZUFsbG93TXVsdGlwbGUgPSBmdW5jdGlvbiB0b2dnbGVBbGxvd011bHRpcGxlKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdtdWx0aXBsZScsIGFjdGlvbi52YWx1ZSk7XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIgPSBmdW5jdGlvbiB0b2dnbGVEaXJlY3RvcnlGaWx0ZXIoX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjQuYWN0aW9uO1xuICAgICAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ3dlYmtpdGRpcmVjdG9yeScsIGFjdGlvbi52YWx1ZSk7XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVEaXNhYmxlZCA9IGZ1bmN0aW9uIHRvZ2dsZURpc2FibGVkKF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdDtcbiAgICAgICAgdmFyIGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICAgICAgdmFyIGRvZXNBbGxvd0Jyb3dzZSA9IHJvb3QucXVlcnkoJ0dFVF9BTExPV19CUk9XU0UnKTtcbiAgICAgICAgdmFyIGRpc2FibGVGaWVsZCA9IGlzRGlzYWJsZWQgfHwgIWRvZXNBbGxvd0Jyb3dzZTtcbiAgICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdkaXNhYmxlZCcsIGRpc2FibGVGaWVsZCk7XG4gICAgfTtcblxuICAgIHZhciB0b2dnbGVSZXF1aXJlZCA9IGZ1bmN0aW9uIHRvZ2dsZVJlcXVpcmVkKF9yZWY2KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY2LmFjdGlvbjtcbiAgICAgICAgLy8gd2FudCB0byByZW1vdmUgcmVxdWlyZWQsIGFsd2F5cyBwb3NzaWJsZVxuICAgICAgICBpZiAoIWFjdGlvbi52YWx1ZSkge1xuICAgICAgICAgICAgYXR0clRvZ2dsZShyb290LmVsZW1lbnQsICdyZXF1aXJlZCcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3YW50IHRvIG1ha2UgcmVxdWlyZWQsIG9ubHkgcG9zc2libGUgd2hlbiB6ZXJvIGl0ZW1zXG4gICAgICAgIGVsc2UgaWYgKHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpID09PSAwKSB7XG4gICAgICAgICAgICBhdHRyVG9nZ2xlKHJvb3QuZWxlbWVudCwgJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHNldENhcHR1cmVNZXRob2QgPSBmdW5jdGlvbiBzZXRDYXB0dXJlTWV0aG9kKF9yZWY3KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY3LmFjdGlvbjtcbiAgICAgICAgYXR0clRvZ2dsZShcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudCxcbiAgICAgICAgICAgICdjYXB0dXJlJyxcbiAgICAgICAgICAgICEhYWN0aW9uLnZhbHVlLFxuICAgICAgICAgICAgYWN0aW9uLnZhbHVlID09PSB0cnVlID8gJycgOiBhY3Rpb24udmFsdWVcbiAgICAgICAgKTtcbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZVJlcXVpcmVkU3RhdHVzID0gZnVuY3Rpb24gdXBkYXRlUmVxdWlyZWRTdGF0dXMoX3JlZjgpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290O1xuICAgICAgICB2YXIgZWxlbWVudCA9IHJvb3QuZWxlbWVudDtcbiAgICAgICAgLy8gYWx3YXlzIHJlbW92ZSB0aGUgcmVxdWlyZWQgYXR0cmlidXRlIHdoZW4gbW9yZSB0aGFuIHplcm8gaXRlbXNcbiAgICAgICAgaWYgKHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpID4gMCkge1xuICAgICAgICAgICAgYXR0clRvZ2dsZShlbGVtZW50LCAncmVxdWlyZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICduYW1lJywgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYWRkIG5hbWUgYXR0cmlidXRlXG4gICAgICAgICAgICBhdHRyVG9nZ2xlKGVsZW1lbnQsICduYW1lJywgdHJ1ZSwgcm9vdC5xdWVyeSgnR0VUX05BTUUnKSk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgdmFsaWRhdGlvbiBtZXNzYWdlc1xuICAgICAgICAgICAgdmFyIHNob3VsZENoZWNrVmFsaWRpdHkgPSByb290LnF1ZXJ5KCdHRVRfQ0hFQ0tfVkFMSURJVFknKTtcbiAgICAgICAgICAgIGlmIChzaG91bGRDaGVja1ZhbGlkaXR5KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdlIG9ubHkgYWRkIHJlcXVpcmVkIGlmIHRoZSBmaWVsZCBoYXMgYmVlbiBkZWVtZWQgcmVxdWlyZWRcbiAgICAgICAgICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfUkVRVUlSRUQnKSkge1xuICAgICAgICAgICAgICAgIGF0dHJUb2dnbGUoZWxlbWVudCwgJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZUZpZWxkVmFsaWRpdHlTdGF0dXMgPSBmdW5jdGlvbiB1cGRhdGVGaWVsZFZhbGlkaXR5U3RhdHVzKF9yZWY5KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjkucm9vdDtcbiAgICAgICAgdmFyIHNob3VsZENoZWNrVmFsaWRpdHkgPSByb290LnF1ZXJ5KCdHRVRfQ0hFQ0tfVkFMSURJVFknKTtcbiAgICAgICAgaWYgKCFzaG91bGRDaGVja1ZhbGlkaXR5KSByZXR1cm47XG4gICAgICAgIHJvb3QuZWxlbWVudC5zZXRDdXN0b21WYWxpZGl0eShyb290LnF1ZXJ5KCdHRVRfTEFCRUxfSU5WQUxJRF9GSUVMRCcpKTtcbiAgICB9O1xuXG4gICAgdmFyIGJyb3dzZXIgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBuYW1lOiAnYnJvd3NlcicsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGU6IGNyZWF0ZSRhLFxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KF9yZWYxMCkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMTAucm9vdDtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCByb290LnJlZi5oYW5kbGVDaGFuZ2UpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgICAgICAgRElEX0xPQURfSVRFTTogdXBkYXRlUmVxdWlyZWRTdGF0dXMsXG4gICAgICAgICAgICBESURfUkVNT1ZFX0lURU06IHVwZGF0ZVJlcXVpcmVkU3RhdHVzLFxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogdXBkYXRlRmllbGRWYWxpZGl0eVN0YXR1cyxcblxuICAgICAgICAgICAgRElEX1NFVF9ESVNBQkxFRDogdG9nZ2xlRGlzYWJsZWQsXG4gICAgICAgICAgICBESURfU0VUX0FMTE9XX0JST1dTRTogdG9nZ2xlRGlzYWJsZWQsXG4gICAgICAgICAgICBESURfU0VUX0FMTE9XX0RJUkVDVE9SSUVTX09OTFk6IHRvZ2dsZURpcmVjdG9yeUZpbHRlcixcbiAgICAgICAgICAgIERJRF9TRVRfQUxMT1dfTVVMVElQTEU6IHRvZ2dsZUFsbG93TXVsdGlwbGUsXG4gICAgICAgICAgICBESURfU0VUX0FDQ0VQVEVEX0ZJTEVfVFlQRVM6IHNldEFjY2VwdGVkRmlsZVR5cGVzLFxuICAgICAgICAgICAgRElEX1NFVF9DQVBUVVJFX01FVEhPRDogc2V0Q2FwdHVyZU1ldGhvZCxcbiAgICAgICAgICAgIERJRF9TRVRfUkVRVUlSRUQ6IHRvZ2dsZVJlcXVpcmVkLFxuICAgICAgICB9KSxcbiAgICB9KTtcblxuICAgIHZhciBLZXkgPSB7XG4gICAgICAgIEVOVEVSOiAxMyxcbiAgICAgICAgU1BBQ0U6IDMyLFxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlJGIgPSBmdW5jdGlvbiBjcmVhdGUoX3JlZikge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCxcbiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcztcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIGxhYmVsIGFuZCBsaW5rIGl0IHRvIHRoZSBmaWxlIGJyb3dzZXJcbiAgICAgICAgdmFyIGxhYmVsID0gY3JlYXRlRWxlbWVudCQxKCdsYWJlbCcpO1xuICAgICAgICBhdHRyKGxhYmVsLCAnZm9yJywgJ2ZpbGVwb25kLS1icm93c2VyLScgKyBwcm9wcy5pZCk7XG5cbiAgICAgICAgLy8gdXNlIGZvciBsYWJlbGluZyBmaWxlIGlucHV0IChhcmlhLWxhYmVsbGVkYnkgb24gZmlsZSBpbnB1dClcbiAgICAgICAgYXR0cihsYWJlbCwgJ2lkJywgJ2ZpbGVwb25kLS1kcm9wLWxhYmVsLScgKyBwcm9wcy5pZCk7XG5cbiAgICAgICAgLy8gaGlkZSB0aGUgbGFiZWwgZm9yIHNjcmVlbnJlYWRlcnMsIHRoZSBpbnB1dCBlbGVtZW50IHdpbGwgcmVhZCB0aGUgY29udGVudHMgb2YgdGhlIGxhYmVsIHdoZW4gaXQncyBmb2N1c3NlZC4gSWYgd2UgZG9uJ3Qgc2V0IGFyaWEtaGlkZGVuIHRoZSBzY3JlZW5yZWFkZXIgd2lsbCBhbHNvIG5hdmlnYXRlIHRoZSBjb250ZW50cyBvZiB0aGUgbGFiZWwgc2VwYXJhdGVseSBmcm9tIHRoZSBpbnB1dC5cbiAgICAgICAgYXR0cihsYWJlbCwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICAvLyBoYW5kbGUga2V5c1xuICAgICAgICByb290LnJlZi5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGlzQWN0aXZhdGlvbktleSA9IGUua2V5Q29kZSA9PT0gS2V5LkVOVEVSIHx8IGUua2V5Q29kZSA9PT0gS2V5LlNQQUNFO1xuICAgICAgICAgICAgaWYgKCFpc0FjdGl2YXRpb25LZXkpIHJldHVybjtcbiAgICAgICAgICAgIC8vIHN0b3BzIGZyb20gdHJpZ2dlcmluZyB0aGUgZWxlbWVudCBhIHNlY29uZCB0aW1lXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8vIGNsaWNrIGxpbmsgKHdpbGwgdGhlbiBpbiB0dXJuIGFjdGl2YXRlIGZpbGUgaW5wdXQpXG4gICAgICAgICAgICByb290LnJlZi5sYWJlbC5jbGljaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJvb3QucmVmLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGlzTGFiZWxDbGljayA9IGUudGFyZ2V0ID09PSBsYWJlbCB8fCBsYWJlbC5jb250YWlucyhlLnRhcmdldCk7XG5cbiAgICAgICAgICAgIC8vIGRvbid0IHdhbnQgdG8gY2xpY2sgdHdpY2VcbiAgICAgICAgICAgIGlmIChpc0xhYmVsQ2xpY2spIHJldHVybjtcblxuICAgICAgICAgICAgLy8gY2xpY2sgbGluayAod2lsbCB0aGVuIGluIHR1cm4gYWN0aXZhdGUgZmlsZSBpbnB1dClcbiAgICAgICAgICAgIHJvb3QucmVmLmxhYmVsLmNsaWNrKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYXR0YWNoIGV2ZW50c1xuICAgICAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgcm9vdC5yZWYuaGFuZGxlS2V5RG93bik7XG4gICAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcblxuICAgICAgICAvLyB1cGRhdGVcbiAgICAgICAgdXBkYXRlTGFiZWxWYWx1ZShsYWJlbCwgcHJvcHMuY2FwdGlvbik7XG5cbiAgICAgICAgLy8gYWRkIVxuICAgICAgICByb290LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgcm9vdC5yZWYubGFiZWwgPSBsYWJlbDtcbiAgICB9O1xuXG4gICAgdmFyIHVwZGF0ZUxhYmVsVmFsdWUgPSBmdW5jdGlvbiB1cGRhdGVMYWJlbFZhbHVlKGxhYmVsLCB2YWx1ZSkge1xuICAgICAgICBsYWJlbC5pbm5lckhUTUwgPSB2YWx1ZTtcbiAgICAgICAgdmFyIGNsaWNrYWJsZSA9IGxhYmVsLnF1ZXJ5U2VsZWN0b3IoJy5maWxlcG9uZC0tbGFiZWwtYWN0aW9uJyk7XG4gICAgICAgIGlmIChjbGlja2FibGUpIHtcbiAgICAgICAgICAgIGF0dHIoY2xpY2thYmxlLCAndGFiaW5kZXgnLCAnMCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdmFyIGRyb3BMYWJlbCA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBuYW1lOiAnZHJvcC1sYWJlbCcsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIGNyZWF0ZTogY3JlYXRlJGIsXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjIpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdDtcbiAgICAgICAgICAgIHJvb3QucmVmLmxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCByb290LnJlZi5oYW5kbGVLZXlEb3duKTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJvb3QucmVmLmhhbmRsZUNsaWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGU6IGNyZWF0ZVJvdXRlKHtcbiAgICAgICAgICAgIERJRF9TRVRfTEFCRUxfSURMRTogZnVuY3Rpb24gRElEX1NFVF9MQUJFTF9JRExFKF9yZWYzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBfcmVmMy5hY3Rpb247XG4gICAgICAgICAgICAgICAgdXBkYXRlTGFiZWxWYWx1ZShyb290LnJlZi5sYWJlbCwgYWN0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgc3R5bGVzOiBbJ29wYWNpdHknLCAndHJhbnNsYXRlWCcsICd0cmFuc2xhdGVZJ10sXG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMTUwIH0sXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGJsb2IgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgbmFtZTogJ2RyaXAtYmxvYicsXG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIG1peGluczoge1xuICAgICAgICAgICAgc3R5bGVzOiBbJ3RyYW5zbGF0ZVgnLCAndHJhbnNsYXRlWScsICdzY2FsZVgnLCAnc2NhbGVZJywgJ29wYWNpdHknXSxcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBzY2FsZVg6ICdzcHJpbmcnLFxuICAgICAgICAgICAgICAgIHNjYWxlWTogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWDogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogJ3NwcmluZycsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogeyB0eXBlOiAndHdlZW4nLCBkdXJhdGlvbjogMjUwIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIGFkZEJsb2IgPSBmdW5jdGlvbiBhZGRCbG9iKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3Q7XG4gICAgICAgIHZhciBjZW50ZXJYID0gcm9vdC5yZWN0LmVsZW1lbnQud2lkdGggKiAwLjU7XG4gICAgICAgIHZhciBjZW50ZXJZID0gcm9vdC5yZWN0LmVsZW1lbnQuaGVpZ2h0ICogMC41O1xuXG4gICAgICAgIHJvb3QucmVmLmJsb2IgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGJsb2IsIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgICAgIHNjYWxlWDogMi41LFxuICAgICAgICAgICAgICAgIHNjYWxlWTogMi41LFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZVg6IGNlbnRlclgsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogY2VudGVyWSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIHZhciBtb3ZlQmxvYiA9IGZ1bmN0aW9uIG1vdmVCbG9iKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgaWYgKCFyb290LnJlZi5ibG9iKSB7XG4gICAgICAgICAgICBhZGRCbG9iKHsgcm9vdDogcm9vdCB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3QucmVmLmJsb2IudHJhbnNsYXRlWCA9IGFjdGlvbi5wb3NpdGlvbi5zY29wZUxlZnQ7XG4gICAgICAgIHJvb3QucmVmLmJsb2IudHJhbnNsYXRlWSA9IGFjdGlvbi5wb3NpdGlvbi5zY29wZVRvcDtcbiAgICAgICAgcm9vdC5yZWYuYmxvYi5zY2FsZVggPSAxO1xuICAgICAgICByb290LnJlZi5ibG9iLnNjYWxlWSA9IDE7XG4gICAgICAgIHJvb3QucmVmLmJsb2Iub3BhY2l0eSA9IDE7XG4gICAgfTtcblxuICAgIHZhciBoaWRlQmxvYiA9IGZ1bmN0aW9uIGhpZGVCbG9iKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdDtcbiAgICAgICAgaWYgKCFyb290LnJlZi5ibG9iKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcm9vdC5yZWYuYmxvYi5vcGFjaXR5ID0gMDtcbiAgICB9O1xuXG4gICAgdmFyIGV4cGxvZGVCbG9iID0gZnVuY3Rpb24gZXhwbG9kZUJsb2IoX3JlZjQpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNC5yb290O1xuICAgICAgICBpZiAoIXJvb3QucmVmLmJsb2IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByb290LnJlZi5ibG9iLnNjYWxlWCA9IDIuNTtcbiAgICAgICAgcm9vdC5yZWYuYmxvYi5zY2FsZVkgPSAyLjU7XG4gICAgICAgIHJvb3QucmVmLmJsb2Iub3BhY2l0eSA9IDA7XG4gICAgfTtcblxuICAgIHZhciB3cml0ZSQ3ID0gZnVuY3Rpb24gd3JpdGUoX3JlZjUpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmNS5wcm9wcyxcbiAgICAgICAgICAgIGFjdGlvbnMgPSBfcmVmNS5hY3Rpb25zO1xuICAgICAgICByb3V0ZSQ0KHsgcm9vdDogcm9vdCwgcHJvcHM6IHByb3BzLCBhY3Rpb25zOiBhY3Rpb25zIH0pO1xuICAgICAgICB2YXIgYmxvYiA9IHJvb3QucmVmLmJsb2I7XG5cbiAgICAgICAgaWYgKGFjdGlvbnMubGVuZ3RoID09PSAwICYmIGJsb2IgJiYgYmxvYi5vcGFjaXR5ID09PSAwKSB7XG4gICAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyhibG9iKTtcbiAgICAgICAgICAgIHJvb3QucmVmLmJsb2IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciByb3V0ZSQ0ID0gY3JlYXRlUm91dGUoe1xuICAgICAgICBESURfRFJBRzogbW92ZUJsb2IsXG4gICAgICAgIERJRF9EUk9QOiBleHBsb2RlQmxvYixcbiAgICAgICAgRElEX0VORF9EUkFHOiBoaWRlQmxvYixcbiAgICB9KTtcblxuICAgIHZhciBkcmlwID0gY3JlYXRlVmlldyh7XG4gICAgICAgIGlnbm9yZVJlY3Q6IHRydWUsXG4gICAgICAgIGlnbm9yZVJlY3RVcGRhdGU6IHRydWUsXG4gICAgICAgIG5hbWU6ICdkcmlwJyxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDcsXG4gICAgfSk7XG5cbiAgICB2YXIgc2V0SW5wdXRGaWxlcyA9IGZ1bmN0aW9uIHNldElucHV0RmlsZXMoZWxlbWVudCwgZmlsZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIERhdGFUcmFuc2ZlciBpbnN0YW5jZSBhbmQgYWRkIGEgbmV3bHkgY3JlYXRlZCBmaWxlXG4gICAgICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gbmV3IERhdGFUcmFuc2ZlcigpO1xuICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5pdGVtcy5hZGQoZmlsZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRyYW5zZmVyLml0ZW1zLmFkZChcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGaWxlKFtmaWxlXSwgZmlsZS5uYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gQXNzaWduIHRoZSBEYXRhVHJhbnNmZXIgZmlsZXMgbGlzdCB0byB0aGUgZmlsZSBpbnB1dFxuICAgICAgICAgICAgZWxlbWVudC5maWxlcyA9IGRhdGFUcmFuc2Zlci5maWxlcztcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGUkYyA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290O1xuICAgICAgICByZXR1cm4gKHJvb3QucmVmLmZpZWxkcyA9IHt9KTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEZpZWxkID0gZnVuY3Rpb24gZ2V0RmllbGQocm9vdCwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHJvb3QucmVmLmZpZWxkc1tpZF07XG4gICAgfTtcblxuICAgIHZhciBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMgPSBmdW5jdGlvbiBzeW5jRmllbGRQb3NpdGlvbnNXaXRoSXRlbXMocm9vdCkge1xuICAgICAgICByb290LnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICBpZiAoIXJvb3QucmVmLmZpZWxkc1tpdGVtLmlkXSkgcmV0dXJuO1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLmZpZWxkc1tpdGVtLmlkXSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZGlkUmVvcmRlckl0ZW1zID0gZnVuY3Rpb24gZGlkUmVvcmRlckl0ZW1zKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdDtcbiAgICAgICAgcmV0dXJuIHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZEFkZEl0ZW0gPSBmdW5jdGlvbiBkaWRBZGRJdGVtKF9yZWYzKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjMucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYzLmFjdGlvbjtcbiAgICAgICAgdmFyIGZpbGVJdGVtID0gcm9vdC5xdWVyeSgnR0VUX0lURU0nLCBhY3Rpb24uaWQpO1xuICAgICAgICB2YXIgaXNMb2NhbEZpbGUgPSBmaWxlSXRlbS5vcmlnaW4gPT09IEZpbGVPcmlnaW4uTE9DQUw7XG4gICAgICAgIHZhciBzaG91bGRVc2VGaWxlSW5wdXQgPSAhaXNMb2NhbEZpbGUgJiYgcm9vdC5xdWVyeSgnU0hPVUxEX1VQREFURV9GSUxFX0lOUFVUJyk7XG4gICAgICAgIHZhciBkYXRhQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudCQxKCdpbnB1dCcpO1xuICAgICAgICBkYXRhQ29udGFpbmVyLnR5cGUgPSBzaG91bGRVc2VGaWxlSW5wdXQgPyAnZmlsZScgOiAnaGlkZGVuJztcbiAgICAgICAgZGF0YUNvbnRhaW5lci5uYW1lID0gcm9vdC5xdWVyeSgnR0VUX05BTUUnKTtcbiAgICAgICAgZGF0YUNvbnRhaW5lci5kaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgICAgICByb290LnJlZi5maWVsZHNbYWN0aW9uLmlkXSA9IGRhdGFDb250YWluZXI7XG4gICAgICAgIHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZExvYWRJdGVtJDEgPSBmdW5jdGlvbiBkaWRMb2FkSXRlbShfcmVmNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgICAgIHZhciBmaWVsZCA9IGdldEZpZWxkKHJvb3QsIGFjdGlvbi5pZCk7XG4gICAgICAgIGlmICghZmllbGQpIHJldHVybjtcblxuICAgICAgICAvLyBzdG9yZSBzZXJ2ZXIgcmVmIGluIGhpZGRlbiBpbnB1dFxuICAgICAgICBpZiAoYWN0aW9uLnNlcnZlckZpbGVSZWZlcmVuY2UgIT09IG51bGwpIGZpZWxkLnZhbHVlID0gYWN0aW9uLnNlcnZlckZpbGVSZWZlcmVuY2U7XG5cbiAgICAgICAgLy8gc3RvcmUgZmlsZSBpdGVtIGluIGZpbGUgaW5wdXRcbiAgICAgICAgaWYgKCFyb290LnF1ZXJ5KCdTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQnKSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBmaWxlSXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICAgICAgc2V0SW5wdXRGaWxlcyhmaWVsZCwgW2ZpbGVJdGVtLmZpbGVdKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZFByZXBhcmVPdXRwdXQgPSBmdW5jdGlvbiBkaWRQcmVwYXJlT3V0cHV0KF9yZWY1KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjUucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY1LmFjdGlvbjtcbiAgICAgICAgLy8gdGhpcyB0aW1lb3V0IHB1c2hlcyB0aGUgaGFuZGxlciBhZnRlciAnbG9hZCdcbiAgICAgICAgaWYgKCFyb290LnF1ZXJ5KCdTSE9VTERfVVBEQVRFX0ZJTEVfSU5QVVQnKSkgcmV0dXJuO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICAgICAgICAgIGlmICghZmllbGQpIHJldHVybjtcbiAgICAgICAgICAgIHNldElucHV0RmlsZXMoZmllbGQsIFthY3Rpb24uZmlsZV0pO1xuICAgICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZFNldERpc2FibGVkID0gZnVuY3Rpb24gZGlkU2V0RGlzYWJsZWQoX3JlZjYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290O1xuICAgICAgICByb290LmVsZW1lbnQuZGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICB9O1xuXG4gICAgdmFyIGRpZFJlbW92ZUl0ZW0gPSBmdW5jdGlvbiBkaWRSZW1vdmVJdGVtKF9yZWY3KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjcucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY3LmFjdGlvbjtcbiAgICAgICAgdmFyIGZpZWxkID0gZ2V0RmllbGQocm9vdCwgYWN0aW9uLmlkKTtcbiAgICAgICAgaWYgKCFmaWVsZCkgcmV0dXJuO1xuICAgICAgICBpZiAoZmllbGQucGFyZW50Tm9kZSkgZmllbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaWVsZCk7XG4gICAgICAgIGRlbGV0ZSByb290LnJlZi5maWVsZHNbYWN0aW9uLmlkXTtcbiAgICB9O1xuXG4gICAgLy8gb25seSBydW5zIGZvciBzZXJ2ZXIgZmlsZXMgKHNvIGRvZXNuJ3QgZGVhbCB3aXRoIGZpbGUgaW5wdXQpXG4gICAgdmFyIGRpZERlZmluZVZhbHVlID0gZnVuY3Rpb24gZGlkRGVmaW5lVmFsdWUoX3JlZjgpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmOC5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjguYWN0aW9uO1xuICAgICAgICB2YXIgZmllbGQgPSBnZXRGaWVsZChyb290LCBhY3Rpb24uaWQpO1xuICAgICAgICBpZiAoIWZpZWxkKSByZXR1cm47XG4gICAgICAgIGlmIChhY3Rpb24udmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIGZpZWxkIHZhbHVlXG4gICAgICAgICAgICBmaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ3ZhbHVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzZXQgZmllbGQgdmFsdWVcbiAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gYWN0aW9uLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHN5bmNGaWVsZFBvc2l0aW9uc1dpdGhJdGVtcyhyb290KTtcbiAgICB9O1xuXG4gICAgdmFyIHdyaXRlJDggPSBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9TRVRfRElTQUJMRUQ6IGRpZFNldERpc2FibGVkLFxuICAgICAgICBESURfQUREX0lURU06IGRpZEFkZEl0ZW0sXG4gICAgICAgIERJRF9MT0FEX0lURU06IGRpZExvYWRJdGVtJDEsXG4gICAgICAgIERJRF9SRU1PVkVfSVRFTTogZGlkUmVtb3ZlSXRlbSxcbiAgICAgICAgRElEX0RFRklORV9WQUxVRTogZGlkRGVmaW5lVmFsdWUsXG4gICAgICAgIERJRF9QUkVQQVJFX09VVFBVVDogZGlkUHJlcGFyZU91dHB1dCxcbiAgICAgICAgRElEX1JFT1JERVJfSVRFTVM6IGRpZFJlb3JkZXJJdGVtcyxcbiAgICAgICAgRElEX1NPUlRfSVRFTVM6IGRpZFJlb3JkZXJJdGVtcyxcbiAgICB9KTtcblxuICAgIHZhciBkYXRhID0gY3JlYXRlVmlldyh7XG4gICAgICAgIHRhZzogJ2ZpZWxkc2V0JyxcbiAgICAgICAgbmFtZTogJ2RhdGEnLFxuICAgICAgICBjcmVhdGU6IGNyZWF0ZSRjLFxuICAgICAgICB3cml0ZTogd3JpdGUkOCxcbiAgICAgICAgaWdub3JlUmVjdDogdHJ1ZSxcbiAgICB9KTtcblxuICAgIHZhciBnZXRSb290Tm9kZSA9IGZ1bmN0aW9uIGdldFJvb3ROb2RlKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuICdnZXRSb290Tm9kZScgaW4gZWxlbWVudCA/IGVsZW1lbnQuZ2V0Um9vdE5vZGUoKSA6IGRvY3VtZW50O1xuICAgIH07XG5cbiAgICB2YXIgaW1hZ2VzID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ2JtcCcsICd3ZWJwJywgJ3N2ZycsICd0aWZmJ107XG4gICAgdmFyIHRleHQkMSA9IFsnY3NzJywgJ2NzdicsICdodG1sJywgJ3R4dCddO1xuICAgIHZhciBtYXAgPSB7XG4gICAgICAgIHppcDogJ3ppcHxjb21wcmVzc2VkJyxcbiAgICAgICAgZXB1YjogJ2FwcGxpY2F0aW9uL2VwdWIremlwJyxcbiAgICB9O1xuXG4gICAgdmFyIGd1ZXNzdGltYXRlTWltZVR5cGUgPSBmdW5jdGlvbiBndWVzc3RpbWF0ZU1pbWVUeXBlKCkge1xuICAgICAgICB2YXIgZXh0ZW5zaW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnJztcbiAgICAgICAgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChpbWFnZXMuaW5jbHVkZXMoZXh0ZW5zaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAnaW1hZ2UvJyArXG4gICAgICAgICAgICAgICAgKGV4dGVuc2lvbiA9PT0gJ2pwZycgPyAnanBlZycgOiBleHRlbnNpb24gPT09ICdzdmcnID8gJ3N2Zyt4bWwnIDogZXh0ZW5zaW9uKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dCQxLmluY2x1ZGVzKGV4dGVuc2lvbikpIHtcbiAgICAgICAgICAgIHJldHVybiAndGV4dC8nICsgZXh0ZW5zaW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG1hcFtleHRlbnNpb25dIHx8ICcnO1xuICAgIH07XG5cbiAgICB2YXIgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zID0gZnVuY3Rpb24gcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAvLyB0cnkgdG8gZ2V0IGxpbmtzIGZyb20gdHJhbnNmZXIsIGlmIGZvdW5kIHdlJ2xsIGV4aXQgaW1tZWRpYXRlbHkgKHVubGVzcyBhIGZpbGUgaXMgaW4gdGhlIGRhdGFUcmFuc2ZlciBhcyB3ZWxsLCB0aGlzIGlzIGJlY2F1c2UgRmlyZWZveCBjb3VsZCByZXByZXNlbnQgdGhlIGZpbGUgYXMgYSBVUkwgYW5kIGEgZmlsZSBvYmplY3QgYXQgdGhlIHNhbWUgdGltZSlcbiAgICAgICAgICAgIHZhciBsaW5rcyA9IGdldExpbmtzKGRhdGFUcmFuc2Zlcik7XG4gICAgICAgICAgICBpZiAobGlua3MubGVuZ3RoICYmICFoYXNGaWxlcyhkYXRhVHJhbnNmZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUobGlua3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCBmaWxlcyBmcm9tIHRoZSB0cmFuc2ZlclxuICAgICAgICAgICAgZ2V0RmlsZXMoZGF0YVRyYW5zZmVyKS50aGVuKHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBkYXRhdHJhbnNmZXIgaGFzIGZpbGVzXG4gICAgICovXG4gICAgdmFyIGhhc0ZpbGVzID0gZnVuY3Rpb24gaGFzRmlsZXMoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIGlmIChkYXRhVHJhbnNmZXIuZmlsZXMpIHJldHVybiBkYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoID4gMDtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBmaWxlcyBmcm9tIGEgRGF0YVRyYW5zZmVyIG9iamVjdFxuICAgICAqL1xuICAgIHZhciBnZXRGaWxlcyA9IGZ1bmN0aW9uIGdldEZpbGVzKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHRyYW5zZmVyIGl0ZW1zIGFzIHByb21pc2VzXG4gICAgICAgICAgICB2YXIgcHJvbWlzZWRGaWxlcyA9IChkYXRhVHJhbnNmZXIuaXRlbXMgPyBBcnJheS5mcm9tKGRhdGFUcmFuc2Zlci5pdGVtcykgOiBbXSlcbiAgICAgICAgICAgICAgICAvLyBvbmx5IGtlZXAgZmlsZSBzeXN0ZW0gaXRlbXMgKGZpbGVzIGFuZCBkaXJlY3RvcmllcylcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzRmlsZVN5c3RlbUl0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgIC8vIG1hcCBlYWNoIGl0ZW0gdG8gcHJvbWlzZVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RmlsZXNGcm9tSXRlbShpdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gaWYgaXMgZW1wdHksIHNlZSBpZiB3ZSBjYW4gZXh0cmFjdCBzb21lIGluZm8gZnJvbSB0aGUgZmlsZXMgcHJvcGVydHkgYXMgYSBmYWxsYmFja1xuICAgICAgICAgICAgaWYgKCFwcm9taXNlZEZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHRlc3QgZm9yIGRpcmVjdG9yaWVzIChzaG91bGQgbm90IGJlIGFsbG93ZWQpXG4gICAgICAgICAgICAgICAgLy8gVXNlIEZpbGVSZWFkZXIsIHByb2JsZW0gaXMgdGhhdCB0aGUgZmlsZXMgcHJvcGVydHkgZ2V0cyBsb3N0IGluIHRoZSBwcm9jZXNzXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhVHJhbnNmZXIuZmlsZXMgPyBBcnJheS5mcm9tKGRhdGFUcmFuc2Zlci5maWxlcykgOiBbXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBkb25lIVxuICAgICAgICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZWRGaWxlcylcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXR1cm5lZEZpbGVHcm91cHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmxhdHRlbiBncm91cHNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybmVkRmlsZUdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoLmFwcGx5KGZpbGVzLCBncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbmUgKGZpbHRlciBvdXQgZW1wdHkgZmlsZXMpIVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlLl9yZWxhdGl2ZVBhdGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlLl9yZWxhdGl2ZVBhdGggPSBmaWxlLndlYmtpdFJlbGF0aXZlUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBpc0ZpbGVTeXN0ZW1JdGVtID0gZnVuY3Rpb24gaXNGaWxlU3lzdGVtSXRlbShpdGVtKSB7XG4gICAgICAgIGlmIChpc0VudHJ5KGl0ZW0pKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBnZXRBc0VudHJ5KGl0ZW0pO1xuICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LmlzRmlsZSB8fCBlbnRyeS5pc0RpcmVjdG9yeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbS5raW5kID09PSAnZmlsZSc7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlc0Zyb21JdGVtID0gZnVuY3Rpb24gZ2V0RmlsZXNGcm9tSXRlbShpdGVtKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmIChpc0RpcmVjdG9yeUVudHJ5KGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgZ2V0RmlsZXNJbkRpcmVjdG9yeShnZXRBc0VudHJ5KGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc29sdmUoW2l0ZW0uZ2V0QXNGaWxlKCldKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRGaWxlc0luRGlyZWN0b3J5ID0gZnVuY3Rpb24gZ2V0RmlsZXNJbkRpcmVjdG9yeShlbnRyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgZmlsZXMgPSBbXTtcblxuICAgICAgICAgICAgLy8gdGhlIHRvdGFsIGVudHJpZXMgdG8gcmVhZFxuICAgICAgICAgICAgdmFyIGRpckNvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdmFyIGZpbGVDb3VudGVyID0gMDtcblxuICAgICAgICAgICAgdmFyIHJlc29sdmVJZkRvbmUgPSBmdW5jdGlvbiByZXNvbHZlSWZEb25lKCkge1xuICAgICAgICAgICAgICAgIGlmIChmaWxlQ291bnRlciA9PT0gMCAmJiBkaXJDb3VudGVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHRoZSByZWN1cnNpdmUgZnVuY3Rpb25cbiAgICAgICAgICAgIHZhciByZWFkRW50cmllcyA9IGZ1bmN0aW9uIHJlYWRFbnRyaWVzKGRpckVudHJ5KSB7XG4gICAgICAgICAgICAgICAgZGlyQ291bnRlcisrO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRpcmVjdG9yeVJlYWRlciA9IGRpckVudHJ5LmNyZWF0ZVJlYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0b3JpZXMgYXJlIHJldHVybmVkIGluIGJhdGNoZXMsIHdlIG5lZWQgdG8gcHJvY2VzcyBhbGwgYmF0Y2hlcyBiZWZvcmUgd2UncmUgZG9uZVxuICAgICAgICAgICAgICAgIHZhciByZWFkQmF0Y2ggPSBmdW5jdGlvbiByZWFkQmF0Y2goKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdG9yeVJlYWRlci5yZWFkRW50cmllcyhmdW5jdGlvbihlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJDb3VudGVyLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVjdXJzaXZlbHkgcmVhZCBtb3JlIGRpcmVjdG9yaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzRGlyZWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRFbnRyaWVzKGVudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWFkIGFzIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUNvdW50ZXIrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5maWxlKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3JyZWN0ZWRGaWxlID0gY29ycmVjdE1pc3NpbmdGaWxlVHlwZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5mdWxsUGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0ZWRGaWxlLl9yZWxhdGl2ZVBhdGggPSBlbnRyeS5mdWxsUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVzLnB1c2goY29ycmVjdGVkRmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlQ291bnRlci0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUlmRG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCBuZXh0IGJhdGNoIG9mIGZpbGVzXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkQmF0Y2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gcmVhZCBmaXJzdCBiYXRjaCBvZiBmaWxlc1xuICAgICAgICAgICAgICAgIHJlYWRCYXRjaCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZ28hXG4gICAgICAgICAgICByZWFkRW50cmllcyhlbnRyeSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY29ycmVjdE1pc3NpbmdGaWxlVHlwZSA9IGZ1bmN0aW9uIGNvcnJlY3RNaXNzaW5nRmlsZVR5cGUoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS50eXBlLmxlbmd0aCkgcmV0dXJuIGZpbGU7XG4gICAgICAgIHZhciBkYXRlID0gZmlsZS5sYXN0TW9kaWZpZWREYXRlO1xuICAgICAgICB2YXIgbmFtZSA9IGZpbGUubmFtZTtcbiAgICAgICAgdmFyIHR5cGUgPSBndWVzc3RpbWF0ZU1pbWVUeXBlKGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZShmaWxlLm5hbWUpKTtcbiAgICAgICAgaWYgKCF0eXBlLmxlbmd0aCkgcmV0dXJuIGZpbGU7XG4gICAgICAgIGZpbGUgPSBmaWxlLnNsaWNlKDAsIGZpbGUuc2l6ZSwgdHlwZSk7XG4gICAgICAgIGZpbGUubmFtZSA9IG5hbWU7XG4gICAgICAgIGZpbGUubGFzdE1vZGlmaWVkRGF0ZSA9IGRhdGU7XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH07XG5cbiAgICB2YXIgaXNEaXJlY3RvcnlFbnRyeSA9IGZ1bmN0aW9uIGlzRGlyZWN0b3J5RW50cnkoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXNFbnRyeShpdGVtKSAmJiAoZ2V0QXNFbnRyeShpdGVtKSB8fCB7fSkuaXNEaXJlY3Rvcnk7XG4gICAgfTtcblxuICAgIHZhciBpc0VudHJ5ID0gZnVuY3Rpb24gaXNFbnRyeShpdGVtKSB7XG4gICAgICAgIHJldHVybiAnd2Via2l0R2V0QXNFbnRyeScgaW4gaXRlbTtcbiAgICB9O1xuXG4gICAgdmFyIGdldEFzRW50cnkgPSBmdW5jdGlvbiBnZXRBc0VudHJ5KGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0ud2Via2l0R2V0QXNFbnRyeSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBsaW5rcyBmcm9tIGEgRGF0YVRyYW5zZmVyIG9iamVjdFxuICAgICAqL1xuICAgIHZhciBnZXRMaW5rcyA9IGZ1bmN0aW9uIGdldExpbmtzKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICB2YXIgbGlua3MgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIGxvb2sgaW4gbWV0YSBkYXRhIHByb3BlcnR5XG4gICAgICAgICAgICBsaW5rcyA9IGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEoZGF0YVRyYW5zZmVyKTtcbiAgICAgICAgICAgIGlmIChsaW5rcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlua3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5rcyA9IGdldExpbmtzRnJvbVRyYW5zZmVyVVJMRGF0YShkYXRhVHJhbnNmZXIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBub3BlIG5vcGUgbm9wZSAocHJvYmFibHkgSUUgdHJvdWJsZSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlua3M7XG4gICAgfTtcblxuICAgIHZhciBnZXRMaW5rc0Zyb21UcmFuc2ZlclVSTERhdGEgPSBmdW5jdGlvbiBnZXRMaW5rc0Zyb21UcmFuc2ZlclVSTERhdGEoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIHZhciBkYXRhID0gZGF0YVRyYW5zZmVyLmdldERhdGEoJ3VybCcpO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gW2RhdGFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9O1xuXG4gICAgdmFyIGdldExpbmtzRnJvbVRyYW5zZmVyTWV0YURhdGEgPSBmdW5jdGlvbiBnZXRMaW5rc0Zyb21UcmFuc2Zlck1ldGFEYXRhKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICB2YXIgZGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhLm1hdGNoKC9zcmNcXHMqPVxccypcIiguKz8pXCIvKTtcbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFttYXRjaGVzWzFdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcblxuICAgIHZhciBkcmFnTkRyb3BPYnNlcnZlcnMgPSBbXTtcblxuICAgIHZhciBldmVudFBvc2l0aW9uID0gZnVuY3Rpb24gZXZlbnRQb3NpdGlvbihlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYWdlTGVmdDogZS5wYWdlWCxcbiAgICAgICAgICAgIHBhZ2VUb3A6IGUucGFnZVksXG4gICAgICAgICAgICBzY29wZUxlZnQ6IGUub2Zmc2V0WCB8fCBlLmxheWVyWCxcbiAgICAgICAgICAgIHNjb3BlVG9wOiBlLm9mZnNldFkgfHwgZS5sYXllclksXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVEcmFnTkRyb3BDbGllbnQgPSBmdW5jdGlvbiBjcmVhdGVEcmFnTkRyb3BDbGllbnQoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHNjb3BlVG9PYnNlcnZlLFxuICAgICAgICBmaWx0ZXJFbGVtZW50XG4gICAgKSB7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IGdldERyYWdORHJvcE9ic2VydmVyKHNjb3BlVG9PYnNlcnZlKTtcblxuICAgICAgICB2YXIgY2xpZW50ID0ge1xuICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgIGZpbHRlckVsZW1lbnQ6IGZpbHRlckVsZW1lbnQsXG4gICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgIG9uZHJvcDogZnVuY3Rpb24gb25kcm9wKCkge30sXG4gICAgICAgICAgICBvbmVudGVyOiBmdW5jdGlvbiBvbmVudGVyKCkge30sXG4gICAgICAgICAgICBvbmRyYWc6IGZ1bmN0aW9uIG9uZHJhZygpIHt9LFxuICAgICAgICAgICAgb25leGl0OiBmdW5jdGlvbiBvbmV4aXQoKSB7fSxcbiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKCkge30sXG4gICAgICAgICAgICBhbGxvd2Ryb3A6IGZ1bmN0aW9uIGFsbG93ZHJvcCgpIHt9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGNsaWVudC5kZXN0cm95ID0gb2JzZXJ2ZXIuYWRkTGlzdGVuZXIoY2xpZW50KTtcblxuICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgIH07XG5cbiAgICB2YXIgZ2V0RHJhZ05Ecm9wT2JzZXJ2ZXIgPSBmdW5jdGlvbiBnZXREcmFnTkRyb3BPYnNlcnZlcihlbGVtZW50KSB7XG4gICAgICAgIC8vIHNlZSBpZiBhbHJlYWR5IGV4aXN0cywgaWYgc28sIHJldHVyblxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBkcmFnTkRyb3BPYnNlcnZlcnMuZmluZChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS5lbGVtZW50ID09PSBlbGVtZW50O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjcmVhdGUgbmV3IG9ic2VydmVyLCBkb2VzIG5vdCB5ZXQgZXhpc3QgZm9yIHRoaXMgZWxlbWVudFxuICAgICAgICB2YXIgbmV3T2JzZXJ2ZXIgPSBjcmVhdGVEcmFnTkRyb3BPYnNlcnZlcihlbGVtZW50KTtcbiAgICAgICAgZHJhZ05Ecm9wT2JzZXJ2ZXJzLnB1c2gobmV3T2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gbmV3T2JzZXJ2ZXI7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVEcmFnTkRyb3BPYnNlcnZlciA9IGZ1bmN0aW9uIGNyZWF0ZURyYWdORHJvcE9ic2VydmVyKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGNsaWVudHMgPSBbXTtcblxuICAgICAgICB2YXIgcm91dGVzID0ge1xuICAgICAgICAgICAgZHJhZ2VudGVyOiBkcmFnZW50ZXIsXG4gICAgICAgICAgICBkcmFnb3ZlcjogZHJhZ292ZXIsXG4gICAgICAgICAgICBkcmFnbGVhdmU6IGRyYWdsZWF2ZSxcbiAgICAgICAgICAgIGRyb3A6IGRyb3AsXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGhhbmRsZXJzID0ge307XG5cbiAgICAgICAgZm9yaW4ocm91dGVzLCBmdW5jdGlvbihldmVudCwgY3JlYXRlSGFuZGxlcikge1xuICAgICAgICAgICAgaGFuZGxlcnNbZXZlbnRdID0gY3JlYXRlSGFuZGxlcihlbGVtZW50LCBjbGllbnRzKTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlcnNbZXZlbnRdLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBvYnNlcnZlciA9IHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBhZGRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkTGlzdGVuZXIoY2xpZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGFzIGNsaWVudFxuICAgICAgICAgICAgICAgIGNsaWVudHMucHVzaChjbGllbnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHJlbW92ZUxpc3RlbmVyIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xpZW50XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudHMuc3BsaWNlKGNsaWVudHMuaW5kZXhPZihjbGllbnQpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyBtb3JlIGNsaWVudHMsIGNsZWFuIHVwIG9ic2VydmVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ05Ecm9wT2JzZXJ2ZXJzLnNwbGljZShkcmFnTkRyb3BPYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlciksIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3Jpbihyb3V0ZXMsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyc1tldmVudF0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG9ic2VydmVyO1xuICAgIH07XG5cbiAgICB2YXIgZWxlbWVudEZyb21Qb2ludCA9IGZ1bmN0aW9uIGVsZW1lbnRGcm9tUG9pbnQocm9vdCwgcG9pbnQpIHtcbiAgICAgICAgaWYgKCEoJ2VsZW1lbnRGcm9tUG9pbnQnIGluIHJvb3QpKSB7XG4gICAgICAgICAgICByb290ID0gZG9jdW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvb3QuZWxlbWVudEZyb21Qb2ludChwb2ludC54LCBwb2ludC55KTtcbiAgICB9O1xuXG4gICAgdmFyIGlzRXZlbnRUYXJnZXQgPSBmdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KGUsIHRhcmdldCkge1xuICAgICAgICAvLyBnZXQgcm9vdFxuICAgICAgICB2YXIgcm9vdCA9IGdldFJvb3ROb2RlKHRhcmdldCk7XG5cbiAgICAgICAgLy8gZ2V0IGVsZW1lbnQgYXQgcG9zaXRpb25cbiAgICAgICAgLy8gaWYgcm9vdCBpcyBub3QgYWN0dWFsIHNoYWRvdyBET00gYW5kIGRvZXMgbm90IGhhdmUgZWxlbWVudEZyb21Qb2ludCBtZXRob2QsIHVzZSB0aGUgb25lIG9uIGRvY3VtZW50XG4gICAgICAgIHZhciBlbGVtZW50QXRQb3NpdGlvbiA9IGVsZW1lbnRGcm9tUG9pbnQocm9vdCwge1xuICAgICAgICAgICAgeDogZS5wYWdlWCAtIHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgIHk6IGUucGFnZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHRlc3QgaWYgdGFyZ2V0IGlzIHRoZSBlbGVtZW50IG9yIGlmIG9uZSBvZiBpdHMgY2hpbGRyZW4gaXNcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRBdFBvc2l0aW9uID09PSB0YXJnZXQgfHwgdGFyZ2V0LmNvbnRhaW5zKGVsZW1lbnRBdFBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgdmFyIGluaXRpYWxUYXJnZXQgPSBudWxsO1xuXG4gICAgdmFyIHNldERyb3BFZmZlY3QgPSBmdW5jdGlvbiBzZXREcm9wRWZmZWN0KGRhdGFUcmFuc2ZlciwgZWZmZWN0KSB7XG4gICAgICAgIC8vIGlzIGluIHRyeSBjYXRjaCBhcyBJRTExIHdpbGwgdGhyb3cgZXJyb3IgaWYgbm90XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IGVmZmVjdDtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9O1xuXG4gICAgdmFyIGRyYWdlbnRlciA9IGZ1bmN0aW9uIGRyYWdlbnRlcihyb290LCBjbGllbnRzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGluaXRpYWxUYXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgICAgICAgY2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY2xpZW50LmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIG9uZW50ZXIgPSBjbGllbnQub25lbnRlcjtcblxuICAgICAgICAgICAgICAgIGlmIChpc0V2ZW50VGFyZ2V0KGUsIGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdlbnRlcic7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZmlyZSBlbnRlciBldmVudFxuICAgICAgICAgICAgICAgICAgICBvbmVudGVyKGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZHJhZ292ZXIgPSBmdW5jdGlvbiBkcmFnb3Zlcihyb290LCBjbGllbnRzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIHZhciBkYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlcjtcblxuICAgICAgICAgICAgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGRhdGFUcmFuc2ZlcikudGhlbihmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgICAgICAgIHZhciBvdmVyRHJvcFRhcmdldCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50cy5zb21lKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyRWxlbWVudCA9IGNsaWVudC5maWx0ZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGNsaWVudC5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25lbnRlciA9IGNsaWVudC5vbmVudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25leGl0ID0gY2xpZW50Lm9uZXhpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZHJhZyA9IGNsaWVudC5vbmRyYWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd2Ryb3AgPSBjbGllbnQuYWxsb3dkcm9wO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQgd2UgY2FuIGRyb3BcbiAgICAgICAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdjb3B5Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgdHJhbnNmZXIgb2YgdGhlc2UgaXRlbXNcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbG93c1RyYW5zZmVyID0gYWxsb3dkcm9wKGl0ZW1zKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHVzZWQgd2hlbiBjYW4gYmUgZHJvcHBlZCBvbiBwYWdlXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxsb3dzVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERyb3BFZmZlY3QoZGF0YVRyYW5zZmVyLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0dGluZyB0aGlzIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlckRyb3BUYXJnZXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYWQgbm8gcHJldmlvdXMgc3RhdGUsIG1lYW5zIHdlIGFyZSBlbnRlcmluZyB0aGlzIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudC5zdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC5zdGF0ZSA9ICdlbnRlcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lbnRlcihldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdyBvdmVyIGVsZW1lbnQgKG5vIG1hdHRlciBpZiBpdCBhbGxvd3MgdGhlIGRyb3Agb3Igbm90KVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gJ292ZXInO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZWVkcyB0byBhbGxvdyB0cmFuc2ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlckVsZW1lbnQgJiYgIWFsbG93c1RyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RHJvcEVmZmVjdChkYXRhVHJhbnNmZXIsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkcmFnZ2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgb25kcmFnKGV2ZW50UG9zaXRpb24oZSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdWxkIGJlIG92ZXIgYW4gZWxlbWVudCB0byBkcm9wXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhb3ZlckRyb3BUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREcm9wRWZmZWN0KGRhdGFUcmFuc2ZlciwgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWlnaHQgaGF2ZSBqdXN0IGxlZnQgdGhpcyBjbGllbnQ/XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpZW50LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZHJvcCA9IGZ1bmN0aW9uIGRyb3Aocm9vdCwgY2xpZW50cykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG5cbiAgICAgICAgICAgIHJlcXVlc3REYXRhVHJhbnNmZXJJdGVtcyhkYXRhVHJhbnNmZXIpLnRoZW4oZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgICAgICBjbGllbnRzLmZvckVhY2goZnVuY3Rpb24oY2xpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJFbGVtZW50ID0gY2xpZW50LmZpbHRlckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gY2xpZW50LmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmRyb3AgPSBjbGllbnQub25kcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25leGl0ID0gY2xpZW50Lm9uZXhpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZHJvcCA9IGNsaWVudC5hbGxvd2Ryb3A7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSdyZSBmaWx0ZXJpbmcgb24gZWxlbWVudCB3ZSBuZWVkIHRvIGJlIG92ZXIgdGhlIGVsZW1lbnQgdG8gZHJvcFxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRWxlbWVudCAmJiAhaXNFdmVudFRhcmdldChlLCBlbGVtZW50KSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIHRyYW5zZmVyIGZvciB0aGlzIGNsaWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFsbG93ZHJvcChpdGVtcykpIHJldHVybiBvbmV4aXQoZXZlbnRQb3NpdGlvbihlKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuIGRyb3AgdGhlc2UgaXRlbXMgb24gdGhpcyBjbGllbnRcbiAgICAgICAgICAgICAgICAgICAgb25kcm9wKGV2ZW50UG9zaXRpb24oZSksIGl0ZW1zKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgZHJhZ2xlYXZlID0gZnVuY3Rpb24gZHJhZ2xlYXZlKHJvb3QsIGNsaWVudHMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChpbml0aWFsVGFyZ2V0ICE9PSBlLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xpZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGNsaWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBvbmV4aXQgPSBjbGllbnQub25leGl0O1xuXG4gICAgICAgICAgICAgICAgY2xpZW50LnN0YXRlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIG9uZXhpdChldmVudFBvc2l0aW9uKGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlSG9wcGVyID0gZnVuY3Rpb24gY3JlYXRlSG9wcGVyKHNjb3BlLCB2YWxpZGF0ZUl0ZW1zLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIGlzIG5vdyBob3BwZXIgc2NvcGVcbiAgICAgICAgc2NvcGUuY2xhc3NMaXN0LmFkZCgnZmlsZXBvbmQtLWhvcHBlcicpO1xuXG4gICAgICAgIC8vIHNob3J0Y3V0c1xuICAgICAgICB2YXIgY2F0Y2hlc0Ryb3BzT25QYWdlID0gb3B0aW9ucy5jYXRjaGVzRHJvcHNPblBhZ2UsXG4gICAgICAgICAgICByZXF1aXJlc0Ryb3BPbkVsZW1lbnQgPSBvcHRpb25zLnJlcXVpcmVzRHJvcE9uRWxlbWVudCxcbiAgICAgICAgICAgIF9vcHRpb25zJGZpbHRlckl0ZW1zID0gb3B0aW9ucy5maWx0ZXJJdGVtcyxcbiAgICAgICAgICAgIGZpbHRlckl0ZW1zID1cbiAgICAgICAgICAgICAgICBfb3B0aW9ucyRmaWx0ZXJJdGVtcyA9PT0gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgID8gZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiBfb3B0aW9ucyRmaWx0ZXJJdGVtcztcblxuICAgICAgICAvLyBjcmVhdGUgYSBkbmQgY2xpZW50XG4gICAgICAgIHZhciBjbGllbnQgPSBjcmVhdGVEcmFnTkRyb3BDbGllbnQoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGNhdGNoZXNEcm9wc09uUGFnZSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHNjb3BlLFxuICAgICAgICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gY3VycmVudCBjbGllbnQgc3RhdGVcbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9ICcnO1xuICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gJyc7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lcyBpZiBhIGZpbGUgbWF5IGJlIGRyb3BwZWRcbiAgICAgICAgY2xpZW50LmFsbG93ZHJvcCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBpZiB3ZSBjYW4sIHRocm93IGVycm9yIHRvIGluZGljYXRlIHRoZSBpdGVtcyBjYW5ub3QgYnkgZHJvcHBlZFxuXG4gICAgICAgICAgICByZXR1cm4gdmFsaWRhdGVJdGVtcyhmaWx0ZXJJdGVtcyhpdGVtcykpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNsaWVudC5vbmRyb3AgPSBmdW5jdGlvbihwb3NpdGlvbiwgaXRlbXMpIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEl0ZW1zID0gZmlsdGVySXRlbXMoaXRlbXMpO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlSXRlbXMoZmlsdGVyZWRJdGVtcykpIHtcbiAgICAgICAgICAgICAgICBhcGkub25kcmFnZW5kKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLWRyb3AnO1xuXG4gICAgICAgICAgICBhcGkub25sb2FkKGZpbHRlcmVkSXRlbXMsIHBvc2l0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjbGllbnQub25kcmFnID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGFwaS5vbmRyYWcocG9zaXRpb24pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNsaWVudC5vbmVudGVyID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSA9ICdkcmFnLW92ZXInO1xuXG4gICAgICAgICAgICBhcGkub25kcmFnc3RhcnQocG9zaXRpb24pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNsaWVudC5vbmV4aXQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlID0gJ2RyYWctZXhpdCc7XG5cbiAgICAgICAgICAgIGFwaS5vbmRyYWdlbmQocG9zaXRpb24pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcGkgPSB7XG4gICAgICAgICAgICB1cGRhdGVIb3BwZXJTdGF0ZTogZnVuY3Rpb24gdXBkYXRlSG9wcGVyU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTdGF0ZSAhPT0gY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGFzZXQuaG9wcGVyU3RhdGUgPSBjdXJyZW50U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTdGF0ZSA9IGN1cnJlbnRTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoKSB7fSxcbiAgICAgICAgICAgIG9uZHJhZ3N0YXJ0OiBmdW5jdGlvbiBvbmRyYWdzdGFydCgpIHt9LFxuICAgICAgICAgICAgb25kcmFnOiBmdW5jdGlvbiBvbmRyYWcoKSB7fSxcbiAgICAgICAgICAgIG9uZHJhZ2VuZDogZnVuY3Rpb24gb25kcmFnZW5kKCkge30sXG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIC8vIGRlc3Ryb3kgY2xpZW50XG4gICAgICAgICAgICAgICAgY2xpZW50LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgdmFyIGxpc3RlbmluZyA9IGZhbHNlO1xuICAgIHZhciBsaXN0ZW5lcnMkMSA9IFtdO1xuXG4gICAgdmFyIGhhbmRsZVBhc3RlID0gZnVuY3Rpb24gaGFuZGxlUGFzdGUoZSkge1xuICAgICAgICAvLyBpZiBpcyBwYXN0aW5nIGluIGlucHV0IG9yIHRleHRhcmVhIGFuZCB0aGUgdGFyZ2V0IGlzIG91dHNpZGUgb2YgYSBmaWxlcG9uZCBzY29wZSwgaWdub3JlXG4gICAgICAgIHZhciBhY3RpdmVFbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGlmIChhY3RpdmVFbCAmJiAvdGV4dGFyZWF8aW5wdXQvaS50ZXN0KGFjdGl2ZUVsLm5vZGVOYW1lKSkge1xuICAgICAgICAgICAgLy8gdGVzdCB0ZXh0YXJlYSBvciBpbnB1dCBpcyBjb250YWluZWQgaW4gZmlsZXBvbmQgcm9vdFxuICAgICAgICAgICAgdmFyIGluU2NvcGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYWN0aXZlRWw7XG4gICAgICAgICAgICB3aGlsZSAoZWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZmlsZXBvbmQtLXJvb3QnKSkge1xuICAgICAgICAgICAgICAgICAgICBpblNjb3BlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaW5TY29wZSkgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdERhdGFUcmFuc2Zlckl0ZW1zKGUuY2xpcGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbihmaWxlcykge1xuICAgICAgICAgICAgLy8gbm8gZmlsZXMgcmVjZWl2ZWRcbiAgICAgICAgICAgIGlmICghZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBub3RpZnkgbGlzdGVuZXJzIG9mIHJlY2VpdmVkIGZpbGVzXG4gICAgICAgICAgICBsaXN0ZW5lcnMkMS5mb3JFYWNoKGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKGZpbGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgdmFyIGxpc3RlbiA9IGZ1bmN0aW9uIGxpc3RlbihjYikge1xuICAgICAgICAvLyBjYW4ndCBhZGQgdHdpY2VcbiAgICAgICAgaWYgKGxpc3RlbmVycyQxLmluY2x1ZGVzKGNiKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGluaXRpYWwgbGlzdGVuZXJcbiAgICAgICAgbGlzdGVuZXJzJDEucHVzaChjYik7XG5cbiAgICAgICAgLy8gc2V0dXAgcGFzdGUgbGlzdGVuZXIgZm9yIGVudGlyZSBwYWdlXG4gICAgICAgIGlmIChsaXN0ZW5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3RlbmluZyA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgaGFuZGxlUGFzdGUpO1xuICAgIH07XG5cbiAgICB2YXIgdW5saXN0ZW4gPSBmdW5jdGlvbiB1bmxpc3RlbihsaXN0ZW5lcikge1xuICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMkMSwgbGlzdGVuZXJzJDEuaW5kZXhPZihsaXN0ZW5lcikpO1xuXG4gICAgICAgIC8vIGNsZWFuIHVwXG4gICAgICAgIGlmIChsaXN0ZW5lcnMkMS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Bhc3RlJywgaGFuZGxlUGFzdGUpO1xuICAgICAgICAgICAgbGlzdGVuaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdmFyIGNyZWF0ZVBhc3RlciA9IGZ1bmN0aW9uIGNyZWF0ZVBhc3RlcigpIHtcbiAgICAgICAgdmFyIGNiID0gZnVuY3Rpb24gY2IoZmlsZXMpIHtcbiAgICAgICAgICAgIGFwaS5vbmxvYWQoZmlsZXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhcGkgPSB7XG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHVubGlzdGVuKGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIG9ubG9hZCgpIHt9LFxuICAgICAgICB9O1xuXG4gICAgICAgIGxpc3RlbihjYik7XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgZmlsZSB2aWV3XG4gICAgICovXG4gICAgdmFyIGNyZWF0ZSRkID0gZnVuY3Rpb24gY3JlYXRlKF9yZWYpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsXG4gICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHM7XG4gICAgICAgIHJvb3QuZWxlbWVudC5pZCA9ICdmaWxlcG9uZC0tYXNzaXN0YW50LScgKyBwcm9wcy5pZDtcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdyb2xlJywgJ3N0YXR1cycpO1xuICAgICAgICBhdHRyKHJvb3QuZWxlbWVudCwgJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgYXR0cihyb290LmVsZW1lbnQsICdhcmlhLXJlbGV2YW50JywgJ2FkZGl0aW9ucycpO1xuICAgIH07XG5cbiAgICB2YXIgYWRkRmlsZXNOb3RpZmljYXRpb25UaW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgbm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0ID0gbnVsbDtcblxuICAgIHZhciBmaWxlbmFtZXMgPSBbXTtcblxuICAgIHZhciBhc3Npc3QgPSBmdW5jdGlvbiBhc3Npc3Qocm9vdCwgbWVzc2FnZSkge1xuICAgICAgICByb290LmVsZW1lbnQudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIH07XG5cbiAgICB2YXIgY2xlYXIkMSA9IGZ1bmN0aW9uIGNsZWFyKHJvb3QpIHtcbiAgICAgICAgcm9vdC5lbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgfTtcblxuICAgIHZhciBsaXN0TW9kaWZpZWQgPSBmdW5jdGlvbiBsaXN0TW9kaWZpZWQocm9vdCwgZmlsZW5hbWUsIGxhYmVsKSB7XG4gICAgICAgIHZhciB0b3RhbCA9IHJvb3QucXVlcnkoJ0dFVF9UT1RBTF9JVEVNUycpO1xuICAgICAgICBhc3Npc3QoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgbGFiZWwgK1xuICAgICAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAgICAgZmlsZW5hbWUgK1xuICAgICAgICAgICAgICAgICcsICcgK1xuICAgICAgICAgICAgICAgIHRvdGFsICtcbiAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICh0b3RhbCA9PT0gMVxuICAgICAgICAgICAgICAgICAgICA/IHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0NPVU5UX1NJTkdVTEFSJylcbiAgICAgICAgICAgICAgICAgICAgOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfRklMRV9DT1VOVF9QTFVSQUwnKSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBjbGVhciBncm91cCBhZnRlciBzZXQgYW1vdW50IG9mIHRpbWUgc28gdGhlIHN0YXR1cyBpcyBub3QgcmVhZCB0d2ljZVxuICAgICAgICBjbGVhclRpbWVvdXQobm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0KTtcbiAgICAgICAgbm90aWZpY2F0aW9uQ2xlYXJUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFyJDEocm9vdCk7XG4gICAgICAgIH0sIDE1MDApO1xuICAgIH07XG5cbiAgICB2YXIgaXNVc2luZ0ZpbGVQb25kID0gZnVuY3Rpb24gaXNVc2luZ0ZpbGVQb25kKHJvb3QpIHtcbiAgICAgICAgcmV0dXJuIHJvb3QuZWxlbWVudC5wYXJlbnROb2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIH07XG5cbiAgICB2YXIgaXRlbUFkZGVkID0gZnVuY3Rpb24gaXRlbUFkZGVkKF9yZWYyKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjIucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgaWYgKCFpc1VzaW5nRmlsZVBvbmQocm9vdCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvb3QuZWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICAgICAgZmlsZW5hbWVzLnB1c2goaXRlbS5maWxlbmFtZSk7XG5cbiAgICAgICAgY2xlYXJUaW1lb3V0KGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCk7XG4gICAgICAgIGFkZEZpbGVzTm90aWZpY2F0aW9uVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsaXN0TW9kaWZpZWQocm9vdCwgZmlsZW5hbWVzLmpvaW4oJywgJyksIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX0FEREVEJykpO1xuXG4gICAgICAgICAgICBmaWxlbmFtZXMubGVuZ3RoID0gMDtcbiAgICAgICAgfSwgNzUwKTtcbiAgICB9O1xuXG4gICAgdmFyIGl0ZW1SZW1vdmVkID0gZnVuY3Rpb24gaXRlbVJlbW92ZWQoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjMuYWN0aW9uO1xuICAgICAgICBpZiAoIWlzVXNpbmdGaWxlUG9uZChyb290KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZW0gPSBhY3Rpb24uaXRlbTtcbiAgICAgICAgbGlzdE1vZGlmaWVkKHJvb3QsIGl0ZW0uZmlsZW5hbWUsIHJvb3QucXVlcnkoJ0dFVF9MQUJFTF9GSUxFX1JFTU9WRUQnKSk7XG4gICAgfTtcblxuICAgIHZhciBpdGVtUHJvY2Vzc2VkID0gZnVuY3Rpb24gaXRlbVByb2Nlc3NlZChfcmVmNCkge1xuICAgICAgICB2YXIgcm9vdCA9IF9yZWY0LnJvb3QsXG4gICAgICAgICAgICBhY3Rpb24gPSBfcmVmNC5hY3Rpb247XG4gICAgICAgIC8vIHdpbGwgYWxzbyBub3RpZnkgdGhlIHVzZXIgd2hlbiBGaWxlUG9uZCBpcyBub3QgYmVpbmcgdXNlZCwgYXMgdGhlIHVzZXIgbWlnaHQgYmUgb2NjdXBpZWQgd2l0aCBvdGhlciBhY3Rpdml0aWVzIHdoaWxlIHVwbG9hZGluZyBhIGZpbGVcblxuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gaXRlbS5maWxlbmFtZTtcbiAgICAgICAgdmFyIGxhYmVsID0gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19DT01QTEVURScpO1xuXG4gICAgICAgIGFzc2lzdChyb290LCBmaWxlbmFtZSArICcgJyArIGxhYmVsKTtcbiAgICB9O1xuXG4gICAgdmFyIGl0ZW1Qcm9jZXNzZWRVbmRvID0gZnVuY3Rpb24gaXRlbVByb2Nlc3NlZFVuZG8oX3JlZjUpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgICAgYWN0aW9uID0gX3JlZjUuYWN0aW9uO1xuICAgICAgICB2YXIgaXRlbSA9IHJvb3QucXVlcnkoJ0dFVF9JVEVNJywgYWN0aW9uLmlkKTtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gaXRlbS5maWxlbmFtZTtcbiAgICAgICAgdmFyIGxhYmVsID0gcm9vdC5xdWVyeSgnR0VUX0xBQkVMX0ZJTEVfUFJPQ0VTU0lOR19BQk9SVEVEJyk7XG5cbiAgICAgICAgYXNzaXN0KHJvb3QsIGZpbGVuYW1lICsgJyAnICsgbGFiZWwpO1xuICAgIH07XG5cbiAgICB2YXIgaXRlbUVycm9yID0gZnVuY3Rpb24gaXRlbUVycm9yKF9yZWY2KSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZjYucm9vdCxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWY2LmFjdGlvbjtcbiAgICAgICAgdmFyIGl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfSVRFTScsIGFjdGlvbi5pZCk7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IGl0ZW0uZmlsZW5hbWU7XG5cbiAgICAgICAgLy8gd2lsbCBhbHNvIG5vdGlmeSB0aGUgdXNlciB3aGVuIEZpbGVQb25kIGlzIG5vdCBiZWluZyB1c2VkLCBhcyB0aGUgdXNlciBtaWdodCBiZSBvY2N1cGllZCB3aXRoIG90aGVyIGFjdGl2aXRpZXMgd2hpbGUgdXBsb2FkaW5nIGEgZmlsZVxuXG4gICAgICAgIGFzc2lzdChyb290LCBhY3Rpb24uc3RhdHVzLm1haW4gKyAnICcgKyBmaWxlbmFtZSArICcgJyArIGFjdGlvbi5zdGF0dXMuc3ViKTtcbiAgICB9O1xuXG4gICAgdmFyIGFzc2lzdGFudCA9IGNyZWF0ZVZpZXcoe1xuICAgICAgICBjcmVhdGU6IGNyZWF0ZSRkLFxuICAgICAgICBpZ25vcmVSZWN0OiB0cnVlLFxuICAgICAgICBpZ25vcmVSZWN0VXBkYXRlOiB0cnVlLFxuICAgICAgICB3cml0ZTogY3JlYXRlUm91dGUoe1xuICAgICAgICAgICAgRElEX0xPQURfSVRFTTogaXRlbUFkZGVkLFxuICAgICAgICAgICAgRElEX1JFTU9WRV9JVEVNOiBpdGVtUmVtb3ZlZCxcbiAgICAgICAgICAgIERJRF9DT01QTEVURV9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWQsXG5cbiAgICAgICAgICAgIERJRF9BQk9SVF9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWRVbmRvLFxuICAgICAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGl0ZW1Qcm9jZXNzZWRVbmRvLFxuXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9SRU1PVkVfRVJST1I6IGl0ZW1FcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0xPQURfRVJST1I6IGl0ZW1FcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX0lOVkFMSUQ6IGl0ZW1FcnJvcixcbiAgICAgICAgICAgIERJRF9USFJPV19JVEVNX1BST0NFU1NJTkdfRVJST1I6IGl0ZW1FcnJvcixcbiAgICAgICAgfSksXG5cbiAgICAgICAgdGFnOiAnc3BhbicsXG4gICAgICAgIG5hbWU6ICdhc3Npc3RhbnQnLFxuICAgIH0pO1xuXG4gICAgdmFyIHRvQ2FtZWxzID0gZnVuY3Rpb24gdG9DYW1lbHMoc3RyaW5nKSB7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICctJztcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKG5ldyBSZWdFeHAoc2VwYXJhdG9yICsgJy4nLCAnZycpLCBmdW5jdGlvbihzdWIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdWIuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiBkZWJvdW5jZShmdW5jKSB7XG4gICAgICAgIHZhciBpbnRlcnZhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTY7XG4gICAgICAgIHZhciBpbW1pZGlhdGVPbmx5ID1cbiAgICAgICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgICAgICAgdmFyIGxhc3QgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgdGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwO1xuICAgICAgICAgICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICAgICAgICAgIF9rZXkrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuICAgICAgICAgICAgdmFyIGRpc3QgPSBEYXRlLm5vdygpIC0gbGFzdDtcblxuICAgICAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgICAgICAgbGFzdCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKGRpc3QgPCBpbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZGVsYXkgYnkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBpbnRlcnZhbCBhbmQgZGlzdFxuICAgICAgICAgICAgICAgIC8vIGZvciBleGFtcGxlOiBpZiBkaXN0YW5jZSBpcyAxMCBtcyBhbmQgaW50ZXJ2YWwgaXMgMTYgbXMsXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byB3YWl0IGFuIGFkZGl0aW9uYWwgNm1zIGJlZm9yZSBjYWxsaW5nIHRoZSBmdW5jdGlvbilcbiAgICAgICAgICAgICAgICBpZiAoIWltbWlkaWF0ZU9ubHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZm4sIGludGVydmFsIC0gZGlzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBnbyFcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgTUFYX0ZJTEVTX0xJTUlUID0gMTAwMDAwMDtcblxuICAgIHZhciBwcmV2ZW50ID0gZnVuY3Rpb24gcHJldmVudChlKSB7XG4gICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGUkZSA9IGZ1bmN0aW9uIGNyZWF0ZShfcmVmKSB7XG4gICAgICAgIHZhciByb290ID0gX3JlZi5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmLnByb3BzO1xuICAgICAgICAvLyBBZGQgaWRcbiAgICAgICAgdmFyIGlkID0gcm9vdC5xdWVyeSgnR0VUX0lEJyk7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgcm9vdC5lbGVtZW50LmlkID0gaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgY2xhc3NOYW1lXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSByb290LnF1ZXJ5KCdHRVRfQ0xBU1NfTkFNRScpO1xuICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmllbGQgbGFiZWxcbiAgICAgICAgcm9vdC5yZWYubGFiZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KFxuICAgICAgICAgICAgICAgIGRyb3BMYWJlbCxcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uOiByb290LnF1ZXJ5KCdHRVRfTEFCRUxfSURMRScpLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gTGlzdCBvZiBpdGVtc1xuICAgICAgICByb290LnJlZi5saXN0ID0gcm9vdC5hcHBlbmRDaGlsZFZpZXcoXG4gICAgICAgICAgICByb290LmNyZWF0ZUNoaWxkVmlldyhsaXN0U2Nyb2xsZXIsIHsgdHJhbnNsYXRlWTogbnVsbCB9KVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIEJhY2tncm91bmQgcGFuZWxcbiAgICAgICAgcm9vdC5yZWYucGFuZWwgPSByb290LmFwcGVuZENoaWxkVmlldyhyb290LmNyZWF0ZUNoaWxkVmlldyhwYW5lbCwgeyBuYW1lOiAncGFuZWwtcm9vdCcgfSkpO1xuXG4gICAgICAgIC8vIEFzc2lzdGFudCBub3RpZmllcyBhc3Npc3RpdmUgdGVjaCB3aGVuIGNvbnRlbnQgY2hhbmdlc1xuICAgICAgICByb290LnJlZi5hc3Npc3RhbnQgPSByb290LmFwcGVuZENoaWxkVmlldyhcbiAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGFzc2lzdGFudCwgT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMpKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIERhdGFcbiAgICAgICAgcm9vdC5yZWYuZGF0YSA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGRhdGEsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSkpO1xuXG4gICAgICAgIC8vIE1lYXN1cmUgKHRlc3RzIGlmIGZpeGVkIGhlaWdodCB3YXMgc2V0KVxuICAgICAgICAvLyBET0NUWVBFIG5lZWRzIHRvIGJlIHNldCBmb3IgdGhpcyB0byB3b3JrXG4gICAgICAgIHJvb3QucmVmLm1lYXN1cmUgPSBjcmVhdGVFbGVtZW50JDEoJ2RpdicpO1xuICAgICAgICByb290LnJlZi5tZWFzdXJlLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgcm9vdC5lbGVtZW50LmFwcGVuZENoaWxkKHJvb3QucmVmLm1lYXN1cmUpO1xuXG4gICAgICAgIC8vIGluZm9ybWF0aW9uIG9uIHRoZSByb290IGhlaWdodCBvciBmaXhlZCBoZWlnaHQgc3RhdHVzXG4gICAgICAgIHJvb3QucmVmLmJvdW5kcyA9IG51bGw7XG5cbiAgICAgICAgLy8gYXBwbHkgaW5pdGlhbCBzdHlsZSBwcm9wZXJ0aWVzXG4gICAgICAgIHJvb3QucXVlcnkoJ0dFVF9TVFlMRVMnKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhaXNFbXB0eShzdHlsZS52YWx1ZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihfcmVmMikge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gX3JlZjIubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMi52YWx1ZTtcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQuZGF0YXNldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gZGV0ZXJtaW5lIGlmIHdpZHRoIGNoYW5nZWRcbiAgICAgICAgcm9vdC5yZWYud2lkdGhQcmV2aW91cyA9IG51bGw7XG4gICAgICAgIHJvb3QucmVmLndpZHRoVXBkYXRlZCA9IGRlYm91bmNlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1JFU0laRV9ST09UJyk7XG4gICAgICAgIH0sIDI1MCk7XG5cbiAgICAgICAgLy8gaGlzdG9yeSBvZiB1cGRhdGVzXG4gICAgICAgIHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8gPSBudWxsO1xuICAgICAgICByb290LnJlZi51cGRhdGVIaXN0b3J5ID0gW107XG5cbiAgICAgICAgLy8gcHJldmVudCBzY3JvbGxpbmcgYW5kIHpvb21pbmcgb24gaU9TIChvbmx5IGlmIHN1cHBvcnRzIHBvaW50ZXIgZXZlbnRzLCBmb3IgdGhlbiB3ZSBjYW4gZW5hYmxlIHJlb3JkZXIpXG4gICAgICAgIHZhciBjYW5Ib3ZlciA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocG9pbnRlcjogZmluZSkgYW5kIChob3ZlcjogaG92ZXIpJykubWF0Y2hlcztcbiAgICAgICAgdmFyIGhhc1BvaW50ZXJFdmVudHMgPSAnUG9pbnRlckV2ZW50JyBpbiB3aW5kb3c7XG4gICAgICAgIGlmIChyb290LnF1ZXJ5KCdHRVRfQUxMT1dfUkVPUkRFUicpICYmIGhhc1BvaW50ZXJFdmVudHMgJiYgIWNhbkhvdmVyKSB7XG4gICAgICAgICAgICByb290LmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgcHJldmVudCwgeyBwYXNzaXZlOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBwcmV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCBjcmVkaXRzXG4gICAgICAgIHZhciBjcmVkaXRzID0gcm9vdC5xdWVyeSgnR0VUX0NSRURJVFMnKTtcbiAgICAgICAgdmFyIGhhc0NyZWRpdHMgPSBjcmVkaXRzLmxlbmd0aCA9PT0gMjtcbiAgICAgICAgaWYgKGhhc0NyZWRpdHMpIHtcbiAgICAgICAgICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgZnJhZy5jbGFzc05hbWUgPSAnZmlsZXBvbmQtLWNyZWRpdHMnO1xuICAgICAgICAgICAgZnJhZy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICAgICAgICAgIGZyYWcuaHJlZiA9IGNyZWRpdHNbMF07XG4gICAgICAgICAgICBmcmFnLnRhYmluZGV4ID0gLTE7XG4gICAgICAgICAgICBmcmFnLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgICAgICAgZnJhZy5yZWwgPSAnbm9vcGVuZXIgbm9yZWZlcnJlcic7XG4gICAgICAgICAgICBmcmFnLnRleHRDb250ZW50ID0gY3JlZGl0c1sxXTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5hcHBlbmRDaGlsZChmcmFnKTtcbiAgICAgICAgICAgIHJvb3QucmVmLmNyZWRpdHMgPSBmcmFnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHZhciB3cml0ZSQ5ID0gZnVuY3Rpb24gd3JpdGUoX3JlZjMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBfcmVmMy5yb290LFxuICAgICAgICAgICAgcHJvcHMgPSBfcmVmMy5wcm9wcyxcbiAgICAgICAgICAgIGFjdGlvbnMgPSBfcmVmMy5hY3Rpb25zO1xuICAgICAgICAvLyByb3V0ZSBhY3Rpb25zXG4gICAgICAgIHJvdXRlJDUoeyByb290OiByb290LCBwcm9wczogcHJvcHMsIGFjdGlvbnM6IGFjdGlvbnMgfSk7XG5cbiAgICAgICAgLy8gYXBwbHkgc3R5bGUgcHJvcGVydGllc1xuICAgICAgICBhY3Rpb25zXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAvXkRJRF9TRVRfU1RZTEVfLy50ZXN0KGFjdGlvbi50eXBlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiAhaXNFbXB0eShhY3Rpb24uZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihfcmVmNCkge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gX3JlZjQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9yZWY0LmRhdGE7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSB0b0NhbWVscyh0eXBlLnN1YnN0cmluZyg4KS50b0xvd2VyQ2FzZSgpLCAnXycpO1xuICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0W25hbWVdID0gZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICByb290LmludmFsaWRhdGVMYXlvdXQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyb290LnJlY3QuZWxlbWVudC5oaWRkZW4pIHJldHVybjtcblxuICAgICAgICBpZiAocm9vdC5yZWN0LmVsZW1lbnQud2lkdGggIT09IHJvb3QucmVmLndpZHRoUHJldmlvdXMpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLndpZHRoUHJldmlvdXMgPSByb290LnJlY3QuZWxlbWVudC53aWR0aDtcbiAgICAgICAgICAgIHJvb3QucmVmLndpZHRoVXBkYXRlZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IGJveCBib3VuZHMsIHdlIGRvIHRoaXMgb25seSBvbmNlXG4gICAgICAgIHZhciBib3VuZHMgPSByb290LnJlZi5ib3VuZHM7XG4gICAgICAgIGlmICghYm91bmRzKSB7XG4gICAgICAgICAgICBib3VuZHMgPSByb290LnJlZi5ib3VuZHMgPSBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQocm9vdCk7XG5cbiAgICAgICAgICAgIC8vIGRlc3Ryb3kgbWVhc3VyZSBlbGVtZW50XG4gICAgICAgICAgICByb290LmVsZW1lbnQucmVtb3ZlQ2hpbGQocm9vdC5yZWYubWVhc3VyZSk7XG4gICAgICAgICAgICByb290LnJlZi5tZWFzdXJlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBxdWljayByZWZlcmVuY2VzIHRvIHZhcmlvdXMgaGlnaCBsZXZlbCBwYXJ0cyBvZiB0aGUgdXBsb2FkIHRvb2xcbiAgICAgICAgdmFyIF9yb290JHJlZiA9IHJvb3QucmVmLFxuICAgICAgICAgICAgaG9wcGVyID0gX3Jvb3QkcmVmLmhvcHBlcixcbiAgICAgICAgICAgIGxhYmVsID0gX3Jvb3QkcmVmLmxhYmVsLFxuICAgICAgICAgICAgbGlzdCA9IF9yb290JHJlZi5saXN0LFxuICAgICAgICAgICAgcGFuZWwgPSBfcm9vdCRyZWYucGFuZWw7XG5cbiAgICAgICAgLy8gc2V0cyBjb3JyZWN0IHN0YXRlIHRvIGhvcHBlciBzY29wZVxuICAgICAgICBpZiAoaG9wcGVyKSB7XG4gICAgICAgICAgICBob3BwZXIudXBkYXRlSG9wcGVyU3RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJvb2wgdG8gaW5kaWNhdGUgaWYgd2UncmUgZnVsbCBvciBub3RcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gcm9vdC5xdWVyeSgnR0VUX1BBTkVMX0FTUEVDVF9SQVRJTycpO1xuICAgICAgICB2YXIgaXNNdWx0aUl0ZW0gPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfTVVMVElQTEUnKTtcbiAgICAgICAgdmFyIHRvdGFsSXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICAgICAgdmFyIG1heEl0ZW1zID0gaXNNdWx0aUl0ZW0gPyByb290LnF1ZXJ5KCdHRVRfTUFYX0ZJTEVTJykgfHwgTUFYX0ZJTEVTX0xJTUlUIDogMTtcbiAgICAgICAgdmFyIGF0TWF4Q2FwYWNpdHkgPSB0b3RhbEl0ZW1zID09PSBtYXhJdGVtcztcblxuICAgICAgICAvLyBhY3Rpb24gdXNlZCB0byBhZGQgaXRlbVxuICAgICAgICB2YXIgYWRkQWN0aW9uID0gYWN0aW9ucy5maW5kKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi50eXBlID09PSAnRElEX0FERF9JVEVNJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgcmVhY2hlZCBtYXggY2FwYWNpdHkgYW5kIHdlJ3ZlIGp1c3QgcmVhY2hlZCBpdFxuICAgICAgICBpZiAoYXRNYXhDYXBhY2l0eSAmJiBhZGRBY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIGdldCBpbnRlcmFjdGlvbiB0eXBlXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25NZXRob2QgPSBhZGRBY3Rpb24uZGF0YS5pbnRlcmFjdGlvbk1ldGhvZDtcblxuICAgICAgICAgICAgLy8gaGlkZSBsYWJlbFxuICAgICAgICAgICAgbGFiZWwub3BhY2l0eSA9IDA7XG5cbiAgICAgICAgICAgIGlmIChpc011bHRpSXRlbSkge1xuICAgICAgICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVkgPSAtNDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbk1ldGhvZCA9PT0gSW50ZXJhY3Rpb25NZXRob2QuQVBJKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVggPSA0MDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGludGVyYWN0aW9uTWV0aG9kID09PSBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0UpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwudHJhbnNsYXRlWSA9IDQwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsLnRyYW5zbGF0ZVkgPSAzMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWF0TWF4Q2FwYWNpdHkpIHtcbiAgICAgICAgICAgIGxhYmVsLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgbGFiZWwudHJhbnNsYXRlWCA9IDA7XG4gICAgICAgICAgICBsYWJlbC50cmFuc2xhdGVZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsaXN0SXRlbU1hcmdpbiA9IGNhbGN1bGF0ZUxpc3RJdGVtTWFyZ2luKHJvb3QpO1xuXG4gICAgICAgIHZhciBsaXN0SGVpZ2h0ID0gY2FsY3VsYXRlTGlzdEhlaWdodChyb290KTtcblxuICAgICAgICB2YXIgbGFiZWxIZWlnaHQgPSBsYWJlbC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICB2YXIgY3VycmVudExhYmVsSGVpZ2h0ID0gIWlzTXVsdGlJdGVtIHx8IGF0TWF4Q2FwYWNpdHkgPyAwIDogbGFiZWxIZWlnaHQ7XG5cbiAgICAgICAgdmFyIGxpc3RNYXJnaW5Ub3AgPSBhdE1heENhcGFjaXR5ID8gbGlzdC5yZWN0LmVsZW1lbnQubWFyZ2luVG9wIDogMDtcbiAgICAgICAgdmFyIGxpc3RNYXJnaW5Cb3R0b20gPSB0b3RhbEl0ZW1zID09PSAwID8gMCA6IGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpbkJvdHRvbTtcblxuICAgICAgICB2YXIgdmlzdWFsSGVpZ2h0ID1cbiAgICAgICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCArIGxpc3RNYXJnaW5Ub3AgKyBsaXN0SGVpZ2h0LnZpc3VhbCArIGxpc3RNYXJnaW5Cb3R0b207XG4gICAgICAgIHZhciBib3VuZHNIZWlnaHQgPVxuICAgICAgICAgICAgY3VycmVudExhYmVsSGVpZ2h0ICsgbGlzdE1hcmdpblRvcCArIGxpc3RIZWlnaHQuYm91bmRzICsgbGlzdE1hcmdpbkJvdHRvbTtcblxuICAgICAgICAvLyBsaW5rIGxpc3QgdG8gbGFiZWwgYm90dG9tIHBvc2l0aW9uXG4gICAgICAgIGxpc3QudHJhbnNsYXRlWSA9XG4gICAgICAgICAgICBNYXRoLm1heCgwLCBjdXJyZW50TGFiZWxIZWlnaHQgLSBsaXN0LnJlY3QuZWxlbWVudC5tYXJnaW5Ub3ApIC0gbGlzdEl0ZW1NYXJnaW4udG9wO1xuXG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgICAgLy8gZml4ZWQgYXNwZWN0IHJhdGlvXG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBoZWlnaHQgYmFzZWQgb24gd2lkdGhcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHJvb3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoICogYXNwZWN0UmF0aW87XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIGhpc3RvcnkgaWYgYXNwZWN0IHJhdGlvIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICBpZiAoYXNwZWN0UmF0aW8gIT09IHJvb3QucmVmLnByZXZpb3VzQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICByb290LnJlZi5wcmV2aW91c0FzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgcm9vdC5yZWYudXBkYXRlSGlzdG9yeSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1lbWJlciB0aGlzIHdpZHRoXG4gICAgICAgICAgICB2YXIgaGlzdG9yeSA9IHJvb3QucmVmLnVwZGF0ZUhpc3Rvcnk7XG4gICAgICAgICAgICBoaXN0b3J5LnB1c2god2lkdGgpO1xuXG4gICAgICAgICAgICB2YXIgTUFYX0JPVU5DRVMgPSAyO1xuICAgICAgICAgICAgaWYgKGhpc3RvcnkubGVuZ3RoID4gTUFYX0JPVU5DRVMgKiAyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBoaXN0b3J5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgYm90dG9tID0gbCAtIDEwO1xuICAgICAgICAgICAgICAgIHZhciBib3VuY2VzID0gMDtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbDsgaSA+PSBib3R0b207IGktLSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeVtpXSA9PT0gaGlzdG9yeVtpIC0gMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5jZXMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuY2VzID49IE1BWF9CT1VOQ0VTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb250IGFkanVzdCBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZml4IGhlaWdodCBvZiBwYW5lbCBzbyBpdCBhZGhlcmVzIHRvIGFzcGVjdCByYXRpb1xuICAgICAgICAgICAgcGFuZWwuc2NhbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhbmVsLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgLy8gYXZhaWxhYmxlIGhlaWdodCBmb3IgbGlzdFxuICAgICAgICAgICAgdmFyIGxpc3RBdmFpbGFibGVIZWlnaHQgPVxuICAgICAgICAgICAgICAgIC8vIHRoZSBoZWlnaHQgb2YgdGhlIHBhbmVsIG1pbnVzIHRoZSBsYWJlbCBoZWlnaHRcbiAgICAgICAgICAgICAgICBoZWlnaHQgLVxuICAgICAgICAgICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgICAgICAgaWYgKGxpc3RIZWlnaHQudmlzdWFsID4gbGlzdEF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBsaXN0QXZhaWxhYmxlSGVpZ2h0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaXN0Lm92ZXJmbG93ID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IGNvbnRhaW5lciBib3VuZHMgKHNvIHB1c2hlcyBzaWJsaW5ncyBkb3dud2FyZHMpXG4gICAgICAgICAgICByb290LmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChib3VuZHMuZml4ZWRIZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIGZpeGVkIGhlaWdodFxuXG4gICAgICAgICAgICAvLyBmaXggaGVpZ2h0IG9mIHBhbmVsXG4gICAgICAgICAgICBwYW5lbC5zY2FsYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBhdmFpbGFibGUgaGVpZ2h0IGZvciBsaXN0XG4gICAgICAgICAgICB2YXIgX2xpc3RBdmFpbGFibGVIZWlnaHQgPVxuICAgICAgICAgICAgICAgIC8vIHRoZSBoZWlnaHQgb2YgdGhlIHBhbmVsIG1pbnVzIHRoZSBsYWJlbCBoZWlnaHRcbiAgICAgICAgICAgICAgICBib3VuZHMuZml4ZWRIZWlnaHQgLVxuICAgICAgICAgICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgICAgICAgLy8gc2V0IGxpc3QgaGVpZ2h0XG4gICAgICAgICAgICBpZiAobGlzdEhlaWdodC52aXN1YWwgPiBfbGlzdEF2YWlsYWJsZUhlaWdodCkge1xuICAgICAgICAgICAgICAgIGxpc3Qub3ZlcmZsb3cgPSBfbGlzdEF2YWlsYWJsZUhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gc2V0IGNvbnRhaW5lciBib3VuZHMgYXMgdGhlc2UgYXJlIGhhbmRsZXMgYnkgQ1NTIGZpeGVkIGhlaWdodFxuICAgICAgICB9IGVsc2UgaWYgKGJvdW5kcy5jYXBwZWRIZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIG1heC1oZWlnaHRcblxuICAgICAgICAgICAgLy8gbm90IGEgZml4ZWQgaGVpZ2h0IHBhbmVsXG4gICAgICAgICAgICB2YXIgaXNDYXBwZWRIZWlnaHQgPSB2aXN1YWxIZWlnaHQgPj0gYm91bmRzLmNhcHBlZEhlaWdodDtcbiAgICAgICAgICAgIHZhciBwYW5lbEhlaWdodCA9IE1hdGgubWluKGJvdW5kcy5jYXBwZWRIZWlnaHQsIHZpc3VhbEhlaWdodCk7XG4gICAgICAgICAgICBwYW5lbC5zY2FsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBwYW5lbC5oZWlnaHQgPSBpc0NhcHBlZEhlaWdodFxuICAgICAgICAgICAgICAgID8gcGFuZWxIZWlnaHRcbiAgICAgICAgICAgICAgICA6IHBhbmVsSGVpZ2h0IC0gbGlzdEl0ZW1NYXJnaW4udG9wIC0gbGlzdEl0ZW1NYXJnaW4uYm90dG9tO1xuXG4gICAgICAgICAgICAvLyBhdmFpbGFibGUgaGVpZ2h0IGZvciBsaXN0XG4gICAgICAgICAgICB2YXIgX2xpc3RBdmFpbGFibGVIZWlnaHQyID1cbiAgICAgICAgICAgICAgICAvLyB0aGUgaGVpZ2h0IG9mIHRoZSBwYW5lbCBtaW51cyB0aGUgbGFiZWwgaGVpZ2h0XG4gICAgICAgICAgICAgICAgcGFuZWxIZWlnaHQgLVxuICAgICAgICAgICAgICAgIGN1cnJlbnRMYWJlbEhlaWdodCAtXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvb20gd2UgbGVhdmUgb3BlbiBiZXR3ZWVuIHRoZSBlbmQgb2YgdGhlIGxpc3QgYW5kIHRoZSBwYW5lbCBib3R0b21cbiAgICAgICAgICAgICAgICAobGlzdE1hcmdpbkJvdHRvbSAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbSkgLVxuICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGZ1bGwgd2UgbmVlZCB0byBsZWF2ZSBzb21lIHJvb20gYmV0d2VlbiB0aGUgdG9wIG9mIHRoZSBwYW5lbCBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAoYXRNYXhDYXBhY2l0eSA/IGxpc3RNYXJnaW5Ub3AgOiAwKTtcblxuICAgICAgICAgICAgLy8gc2V0IGxpc3QgaGVpZ2h0IChpZiBpcyBvdmVyZmxvd2luZylcbiAgICAgICAgICAgIGlmICh2aXN1YWxIZWlnaHQgPiBib3VuZHMuY2FwcGVkSGVpZ2h0ICYmIGxpc3RIZWlnaHQudmlzdWFsID4gX2xpc3RBdmFpbGFibGVIZWlnaHQyKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IF9saXN0QXZhaWxhYmxlSGVpZ2h0MjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGlzdC5vdmVyZmxvdyA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldCBjb250YWluZXIgYm91bmRzIChzbyBwdXNoZXMgc2libGluZ3MgZG93bndhcmRzKVxuICAgICAgICAgICAgcm9vdC5oZWlnaHQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBib3VuZHMuY2FwcGVkSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJvdW5kc0hlaWdodCAtIGxpc3RJdGVtTWFyZ2luLnRvcCAtIGxpc3RJdGVtTWFyZ2luLmJvdHRvbVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZsZXhpYmxlIGhlaWdodFxuXG4gICAgICAgICAgICAvLyBub3QgYSBmaXhlZCBoZWlnaHQgcGFuZWxcbiAgICAgICAgICAgIHZhciBpdGVtTWFyZ2luID0gdG90YWxJdGVtcyA+IDAgPyBsaXN0SXRlbU1hcmdpbi50b3AgKyBsaXN0SXRlbU1hcmdpbi5ib3R0b20gOiAwO1xuICAgICAgICAgICAgcGFuZWwuc2NhbGFibGUgPSB0cnVlO1xuICAgICAgICAgICAgcGFuZWwuaGVpZ2h0ID0gTWF0aC5tYXgobGFiZWxIZWlnaHQsIHZpc3VhbEhlaWdodCAtIGl0ZW1NYXJnaW4pO1xuXG4gICAgICAgICAgICAvLyBzZXQgY29udGFpbmVyIGJvdW5kcyAoc28gcHVzaGVzIHNpYmxpbmdzIGRvd253YXJkcylcbiAgICAgICAgICAgIHJvb3QuaGVpZ2h0ID0gTWF0aC5tYXgobGFiZWxIZWlnaHQsIGJvdW5kc0hlaWdodCAtIGl0ZW1NYXJnaW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW92ZSBjcmVkaXRzIHRvIGJvdHRvbVxuICAgICAgICBpZiAocm9vdC5yZWYuY3JlZGl0cyAmJiBwYW5lbC5oZWlnaHRDdXJyZW50KVxuICAgICAgICAgICAgcm9vdC5yZWYuY3JlZGl0cy5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgnICsgcGFuZWwuaGVpZ2h0Q3VycmVudCArICdweCknO1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlTGlzdEl0ZW1NYXJnaW4gPSBmdW5jdGlvbiBjYWxjdWxhdGVMaXN0SXRlbU1hcmdpbihyb290KSB7XG4gICAgICAgIHZhciBpdGVtID0gcm9vdC5yZWYubGlzdC5jaGlsZFZpZXdzWzBdLmNoaWxkVmlld3NbMF07XG4gICAgICAgIHJldHVybiBpdGVtXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgIHRvcDogaXRlbS5yZWN0LmVsZW1lbnQubWFyZ2luVG9wLFxuICAgICAgICAgICAgICAgICAgYm90dG9tOiBpdGVtLnJlY3QuZWxlbWVudC5tYXJnaW5Cb3R0b20sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgY2FsY3VsYXRlTGlzdEhlaWdodCA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUxpc3RIZWlnaHQocm9vdCkge1xuICAgICAgICB2YXIgdmlzdWFsID0gMDtcbiAgICAgICAgdmFyIGJvdW5kcyA9IDA7XG5cbiAgICAgICAgLy8gZ2V0IGZpbGUgbGlzdCByZWZlcmVuY2VcbiAgICAgICAgdmFyIHNjcm9sbExpc3QgPSByb290LnJlZi5saXN0O1xuICAgICAgICB2YXIgaXRlbUxpc3QgPSBzY3JvbGxMaXN0LmNoaWxkVmlld3NbMF07XG4gICAgICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSBpdGVtTGlzdC5jaGlsZFZpZXdzLmZpbHRlcihmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnJlY3QuZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSByb290XG4gICAgICAgICAgICAucXVlcnkoJ0dFVF9BQ1RJVkVfSVRFTVMnKVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZpc2libGVDaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5pZCA9PT0gaXRlbS5pZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIG5vIGNoaWxkcmVuLCBkb25lIVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSByZXR1cm4geyB2aXN1YWw6IHZpc3VhbCwgYm91bmRzOiBib3VuZHMgfTtcblxuICAgICAgICB2YXIgaG9yaXpvbnRhbFNwYWNlID0gaXRlbUxpc3QucmVjdC5lbGVtZW50LndpZHRoO1xuICAgICAgICB2YXIgZHJhZ0luZGV4ID0gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihpdGVtTGlzdCwgY2hpbGRyZW4sIHNjcm9sbExpc3QuZHJhZ0Nvb3JkaW5hdGVzKTtcblxuICAgICAgICB2YXIgY2hpbGRSZWN0ID0gY2hpbGRyZW5bMF0ucmVjdC5lbGVtZW50O1xuXG4gICAgICAgIHZhciBpdGVtVmVydGljYWxNYXJnaW4gPSBjaGlsZFJlY3QubWFyZ2luVG9wICsgY2hpbGRSZWN0Lm1hcmdpbkJvdHRvbTtcbiAgICAgICAgdmFyIGl0ZW1Ib3Jpem9udGFsTWFyZ2luID0gY2hpbGRSZWN0Lm1hcmdpbkxlZnQgKyBjaGlsZFJlY3QubWFyZ2luUmlnaHQ7XG5cbiAgICAgICAgdmFyIGl0ZW1XaWR0aCA9IGNoaWxkUmVjdC53aWR0aCArIGl0ZW1Ib3Jpem9udGFsTWFyZ2luO1xuICAgICAgICB2YXIgaXRlbUhlaWdodCA9IGNoaWxkUmVjdC5oZWlnaHQgKyBpdGVtVmVydGljYWxNYXJnaW47XG5cbiAgICAgICAgdmFyIG5ld0l0ZW0gPSB0eXBlb2YgZHJhZ0luZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBkcmFnSW5kZXggPj0gMCA/IDEgOiAwO1xuICAgICAgICB2YXIgcmVtb3ZlZEl0ZW0gPSBjaGlsZHJlbi5maW5kKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQubWFya2VkRm9yUmVtb3ZhbCAmJiBjaGlsZC5vcGFjaXR5IDwgMC40NTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgID8gLTFcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgdmFyIHZlcnRpY2FsSXRlbUNvdW50ID0gY2hpbGRyZW4ubGVuZ3RoICsgbmV3SXRlbSArIHJlbW92ZWRJdGVtO1xuICAgICAgICB2YXIgaXRlbXNQZXJSb3cgPSBnZXRJdGVtc1BlclJvdyhob3Jpem9udGFsU3BhY2UsIGl0ZW1XaWR0aCk7XG5cbiAgICAgICAgLy8gc3RhY2tcbiAgICAgICAgaWYgKGl0ZW1zUGVyUm93ID09PSAxKSB7XG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gaXRlbS5yZWN0LmVsZW1lbnQuaGVpZ2h0ICsgaXRlbVZlcnRpY2FsTWFyZ2luO1xuICAgICAgICAgICAgICAgIGJvdW5kcyArPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmlzdWFsICs9IGhlaWdodCAqIGl0ZW0ub3BhY2l0eTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdyaWRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3VuZHMgPSBNYXRoLmNlaWwodmVydGljYWxJdGVtQ291bnQgLyBpdGVtc1BlclJvdykgKiBpdGVtSGVpZ2h0O1xuICAgICAgICAgICAgdmlzdWFsID0gYm91bmRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgdmlzdWFsOiB2aXN1YWwsIGJvdW5kczogYm91bmRzIH07XG4gICAgfTtcblxuICAgIHZhciBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQgPSBmdW5jdGlvbiBjYWxjdWxhdGVSb290Qm91bmRpbmdCb3hIZWlnaHQocm9vdCkge1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcm9vdC5yZWYubWVhc3VyZUhlaWdodCB8fCBudWxsO1xuICAgICAgICB2YXIgY2FwcGVkSGVpZ2h0ID0gcGFyc2VJbnQocm9vdC5zdHlsZS5tYXhIZWlnaHQsIDEwKSB8fCBudWxsO1xuICAgICAgICB2YXIgZml4ZWRIZWlnaHQgPSBoZWlnaHQgPT09IDAgPyBudWxsIDogaGVpZ2h0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXBwZWRIZWlnaHQ6IGNhcHBlZEhlaWdodCxcbiAgICAgICAgICAgIGZpeGVkSGVpZ2h0OiBmaXhlZEhlaWdodCxcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIGV4Y2VlZHNNYXhGaWxlcyA9IGZ1bmN0aW9uIGV4Y2VlZHNNYXhGaWxlcyhyb290LCBpdGVtcykge1xuICAgICAgICB2YXIgYWxsb3dSZXBsYWNlID0gcm9vdC5xdWVyeSgnR0VUX0FMTE9XX1JFUExBQ0UnKTtcbiAgICAgICAgdmFyIGFsbG93TXVsdGlwbGUgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfTVVMVElQTEUnKTtcbiAgICAgICAgdmFyIHRvdGFsSXRlbXMgPSByb290LnF1ZXJ5KCdHRVRfVE9UQUxfSVRFTVMnKTtcbiAgICAgICAgdmFyIG1heEl0ZW1zID0gcm9vdC5xdWVyeSgnR0VUX01BWF9GSUxFUycpO1xuXG4gICAgICAgIC8vIHRvdGFsIGFtb3VudCBvZiBpdGVtcyBiZWluZyBkcmFnZ2VkXG4gICAgICAgIHZhciB0b3RhbEJyb3dzZUl0ZW1zID0gaXRlbXMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIGRvZXMgbm90IGFsbG93IG11bHRpcGxlIGl0ZW1zIGFuZCBkcmFnZ2luZyBtb3JlIHRoYW4gb25lIGl0ZW1cbiAgICAgICAgaWYgKCFhbGxvd011bHRpcGxlICYmIHRvdGFsQnJvd3NlSXRlbXMgPiAxKSB7XG4gICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfVEhST1dfTUFYX0ZJTEVTJywge1xuICAgICAgICAgICAgICAgIHNvdXJjZTogaXRlbXMsXG4gICAgICAgICAgICAgICAgZXJyb3I6IGNyZWF0ZVJlc3BvbnNlKCd3YXJuaW5nJywgMCwgJ01heCBmaWxlcycpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGltaXQgbWF4IGl0ZW1zIHRvIG9uZSBpZiBub3QgYWxsb3dlZCB0byBkcm9wIG11bHRpcGxlIGl0ZW1zXG4gICAgICAgIG1heEl0ZW1zID0gYWxsb3dNdWx0aXBsZSA/IG1heEl0ZW1zIDogMTtcblxuICAgICAgICBpZiAoIWFsbG93TXVsdGlwbGUgJiYgYWxsb3dSZXBsYWNlKSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBvbmx5IG9uZSBpdGVtLCBzbyB0aGVyZSBpcyByb29tIHRvIHJlcGxhY2Ugb3IgYWRkIGFuIGl0ZW1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIG1vcmUgcm9vbT9cbiAgICAgICAgdmFyIGhhc01heEl0ZW1zID0gaXNJbnQobWF4SXRlbXMpO1xuICAgICAgICBpZiAoaGFzTWF4SXRlbXMgJiYgdG90YWxJdGVtcyArIHRvdGFsQnJvd3NlSXRlbXMgPiBtYXhJdGVtcykge1xuICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX1RIUk9XX01BWF9GSUxFUycsIHtcbiAgICAgICAgICAgICAgICBzb3VyY2U6IGl0ZW1zLFxuICAgICAgICAgICAgICAgIGVycm9yOiBjcmVhdGVSZXNwb25zZSgnd2FybmluZycsIDAsICdNYXggZmlsZXMnKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdmFyIGdldERyYWdJbmRleCA9IGZ1bmN0aW9uIGdldERyYWdJbmRleChsaXN0LCBjaGlsZHJlbiwgcG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGl0ZW1MaXN0ID0gbGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgICAgICByZXR1cm4gZ2V0SXRlbUluZGV4QnlQb3NpdGlvbihpdGVtTGlzdCwgY2hpbGRyZW4sIHtcbiAgICAgICAgICAgIGxlZnQ6IHBvc2l0aW9uLnNjb3BlTGVmdCAtIGl0ZW1MaXN0LnJlY3QuZWxlbWVudC5sZWZ0LFxuICAgICAgICAgICAgdG9wOlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnNjb3BlVG9wIC1cbiAgICAgICAgICAgICAgICAobGlzdC5yZWN0Lm91dGVyLnRvcCArIGxpc3QucmVjdC5lbGVtZW50Lm1hcmdpblRvcCArIGxpc3QucmVjdC5lbGVtZW50LnNjcm9sbFRvcCksXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSBmaWxlIGRyb3AgZnVuY3Rpb25hbGl0eVxuICAgICAqL1xuICAgIHZhciB0b2dnbGVEcm9wID0gZnVuY3Rpb24gdG9nZ2xlRHJvcChyb290KSB7XG4gICAgICAgIHZhciBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfRFJPUCcpO1xuICAgICAgICB2YXIgaXNEaXNhYmxlZCA9IHJvb3QucXVlcnkoJ0dFVF9ESVNBQkxFRCcpO1xuICAgICAgICB2YXIgZW5hYmxlZCA9IGlzQWxsb3dlZCAmJiAhaXNEaXNhYmxlZDtcbiAgICAgICAgaWYgKGVuYWJsZWQgJiYgIXJvb3QucmVmLmhvcHBlcikge1xuICAgICAgICAgICAgdmFyIGhvcHBlciA9IGNyZWF0ZUhvcHBlcihcbiAgICAgICAgICAgICAgICByb290LmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsb3cgcXVpY2sgdmFsaWRhdGlvbiBvZiBkcm9wcGVkIGl0ZW1zXG4gICAgICAgICAgICAgICAgICAgIHZhciBiZWZvcmVEcm9wRmlsZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LnF1ZXJ5KCdHRVRfQkVGT1JFX0RST1BfRklMRScpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsIGl0ZW1zIHNob3VsZCBiZSB2YWxpZGF0ZWQgYnkgYWxsIGZpbHRlcnMgYXMgdmFsaWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3BWYWxpZGF0aW9uID0gcm9vdC5xdWVyeSgnR0VUX0RST1BfVkFMSURBVElPTicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHJvcFZhbGlkYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gaXRlbXMuZXZlcnkoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlcnMoJ0FMTE9XX0hPUFBFUl9JVEVNJywgaXRlbSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogcm9vdC5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5ldmVyeShmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAmJiBiZWZvcmVEcm9wRmlsZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVySXRlbXM6IGZ1bmN0aW9uIGZpbHRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWdub3JlZEZpbGVzID0gcm9vdC5xdWVyeSgnR0VUX0lHTk9SRURfRklMRVMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ZpbGUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpZ25vcmVkRmlsZXMuaW5jbHVkZXMoaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYXRjaGVzRHJvcHNPblBhZ2U6IHJvb3QucXVlcnkoJ0dFVF9EUk9QX09OX1BBR0UnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZXNEcm9wT25FbGVtZW50OiByb290LnF1ZXJ5KCdHRVRfRFJPUF9PTl9FTEVNRU5UJyksXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaG9wcGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGl0ZW1zLCBwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIGdldCBpdGVtIGNoaWxkcmVuIGVsZW1lbnRzIGFuZCBzb3J0IGJhc2VkIG9uIGxpc3Qgc29ydFxuICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gcm9vdC5yZWYubGlzdC5jaGlsZFZpZXdzWzBdO1xuICAgICAgICAgICAgICAgIHZhciB2aXNpYmxlQ2hpbGRyZW4gPSBsaXN0LmNoaWxkVmlld3MuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5yZWN0LmVsZW1lbnQuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHJvb3RcbiAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5KCdHRVRfQUNUSVZFX0lURU1TJylcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlzaWJsZUNoaWxkcmVuLmZpbmQoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuaWQgPT09IGl0ZW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdBRERfSVRFTVMnLCBpdGVtcywgeyBkaXNwYXRjaDogcm9vdC5kaXNwYXRjaCB9KS50aGVuKGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBxdWV1ZVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVzZSBmaWxlcyBkb24ndCBmaXQgc28gc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGNlZWRzTWF4RmlsZXMocm9vdCwgcXVldWUpKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZ29cbiAgICAgICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnQUREX0lURU1TJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGdldERyYWdJbmRleChyb290LnJlZi5saXN0LCBjaGlsZHJlbiwgcG9zaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLkRST1AsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RST1AnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcblxuICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0RJRF9FTkRfRFJBRycsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaG9wcGVyLm9uZHJhZ3N0YXJ0ID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfU1RBUlRfRFJBRycsIHsgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaG9wcGVyLm9uZHJhZyA9IGRlYm91bmNlKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnRElEX0RSQUcnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBob3BwZXIub25kcmFnZW5kID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByb290LmRpc3BhdGNoKCdESURfRU5EX0RSQUcnLCB7IHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJvb3QucmVmLmhvcHBlciA9IGhvcHBlcjtcblxuICAgICAgICAgICAgcm9vdC5yZWYuZHJpcCA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KHJvb3QuY3JlYXRlQ2hpbGRWaWV3KGRyaXApKTtcbiAgICAgICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5ob3BwZXIpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLmhvcHBlci5kZXN0cm95KCk7XG4gICAgICAgICAgICByb290LnJlZi5ob3BwZXIgPSBudWxsO1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZFZpZXcocm9vdC5yZWYuZHJpcCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIG9yIGRpc2FibGUgYnJvd3NlIGZ1bmN0aW9uYWxpdHlcbiAgICAgKi9cbiAgICB2YXIgdG9nZ2xlQnJvd3NlID0gZnVuY3Rpb24gdG9nZ2xlQnJvd3NlKHJvb3QsIHByb3BzKSB7XG4gICAgICAgIHZhciBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfQlJPV1NFJyk7XG4gICAgICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgICAgIHZhciBlbmFibGVkID0gaXNBbGxvd2VkICYmICFpc0Rpc2FibGVkO1xuICAgICAgICBpZiAoZW5hYmxlZCAmJiAhcm9vdC5yZWYuYnJvd3Nlcikge1xuICAgICAgICAgICAgcm9vdC5yZWYuYnJvd3NlciA9IHJvb3QuYXBwZW5kQ2hpbGRWaWV3KFxuICAgICAgICAgICAgICAgIHJvb3QuY3JlYXRlQ2hpbGRWaWV3KFxuICAgICAgICAgICAgICAgICAgICBicm93c2VyLFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiBvbmxvYWQoaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluKCdBRERfSVRFTVMnLCBpdGVtcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaDogcm9vdC5kaXNwYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXNlIGZpbGVzIGRvbid0IGZpdCBzbyBzdG9wIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VlZHNNYXhGaWxlcyhyb290LCBxdWV1ZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXRlbXMhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBxdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uTWV0aG9kOiBJbnRlcmFjdGlvbk1ldGhvZC5CUk9XU0UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApLFxuXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiByb290LnJlZi5icm93c2VyKSB7XG4gICAgICAgICAgICByb290LnJlbW92ZUNoaWxkVmlldyhyb290LnJlZi5icm93c2VyKTtcbiAgICAgICAgICAgIHJvb3QucmVmLmJyb3dzZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHBhc3RlIGZ1bmN0aW9uYWxpdHlcbiAgICAgKi9cbiAgICB2YXIgdG9nZ2xlUGFzdGUgPSBmdW5jdGlvbiB0b2dnbGVQYXN0ZShyb290KSB7XG4gICAgICAgIHZhciBpc0FsbG93ZWQgPSByb290LnF1ZXJ5KCdHRVRfQUxMT1dfUEFTVEUnKTtcbiAgICAgICAgdmFyIGlzRGlzYWJsZWQgPSByb290LnF1ZXJ5KCdHRVRfRElTQUJMRUQnKTtcbiAgICAgICAgdmFyIGVuYWJsZWQgPSBpc0FsbG93ZWQgJiYgIWlzRGlzYWJsZWQ7XG4gICAgICAgIGlmIChlbmFibGVkICYmICFyb290LnJlZi5wYXN0ZXIpIHtcbiAgICAgICAgICAgIHJvb3QucmVmLnBhc3RlciA9IGNyZWF0ZVBhc3RlcigpO1xuICAgICAgICAgICAgcm9vdC5yZWYucGFzdGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlGaWx0ZXJDaGFpbignQUREX0lURU1TJywgaXRlbXMsIHsgZGlzcGF0Y2g6IHJvb3QuZGlzcGF0Y2ggfSkudGhlbihmdW5jdGlvbihcbiAgICAgICAgICAgICAgICAgICAgcXVldWVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlc2UgZmlsZXMgZG9uJ3QgZml0IHNvIHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjZWVkc01heEZpbGVzKHJvb3QsIHF1ZXVlKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpdGVtcyFcbiAgICAgICAgICAgICAgICAgICAgcm9vdC5kaXNwYXRjaCgnQUREX0lURU1TJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25NZXRob2Q6IEludGVyYWN0aW9uTWV0aG9kLlBBU1RFLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoIWVuYWJsZWQgJiYgcm9vdC5yZWYucGFzdGVyKSB7XG4gICAgICAgICAgICByb290LnJlZi5wYXN0ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgcm9vdC5yZWYucGFzdGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3V0ZSBhY3Rpb25zXG4gICAgICovXG4gICAgdmFyIHJvdXRlJDUgPSBjcmVhdGVSb3V0ZSh7XG4gICAgICAgIERJRF9TRVRfQUxMT1dfQlJPV1NFOiBmdW5jdGlvbiBESURfU0VUX0FMTE9XX0JST1dTRShfcmVmNSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNS5yb290LFxuICAgICAgICAgICAgICAgIHByb3BzID0gX3JlZjUucHJvcHM7XG4gICAgICAgICAgICB0b2dnbGVCcm93c2Uocm9vdCwgcHJvcHMpO1xuICAgICAgICB9LFxuICAgICAgICBESURfU0VUX0FMTE9XX0RST1A6IGZ1bmN0aW9uIERJRF9TRVRfQUxMT1dfRFJPUChfcmVmNikge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNi5yb290O1xuICAgICAgICAgICAgdG9nZ2xlRHJvcChyb290KTtcbiAgICAgICAgfSxcbiAgICAgICAgRElEX1NFVF9BTExPV19QQVNURTogZnVuY3Rpb24gRElEX1NFVF9BTExPV19QQVNURShfcmVmNykge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBfcmVmNy5yb290O1xuICAgICAgICAgICAgdG9nZ2xlUGFzdGUocm9vdCk7XG4gICAgICAgIH0sXG4gICAgICAgIERJRF9TRVRfRElTQUJMRUQ6IGZ1bmN0aW9uIERJRF9TRVRfRElTQUJMRUQoX3JlZjgpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gX3JlZjgucm9vdCxcbiAgICAgICAgICAgICAgICBwcm9wcyA9IF9yZWY4LnByb3BzO1xuICAgICAgICAgICAgdG9nZ2xlRHJvcChyb290KTtcbiAgICAgICAgICAgIHRvZ2dsZVBhc3RlKHJvb3QpO1xuICAgICAgICAgICAgdG9nZ2xlQnJvd3NlKHJvb3QsIHByb3BzKTtcbiAgICAgICAgICAgIHZhciBpc0Rpc2FibGVkID0gcm9vdC5xdWVyeSgnR0VUX0RJU0FCTEVEJyk7XG4gICAgICAgICAgICBpZiAoaXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRpc2FibGVkID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHJvb3QuZWxlbWVudC5kYXRhc2V0LmRpc2FibGVkOyA8PSB0aGlzIGRvZXMgbm90IHdvcmsgb24gaU9TIDEwXG4gICAgICAgICAgICAgICAgcm9vdC5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIHJvb3QgPSBjcmVhdGVWaWV3KHtcbiAgICAgICAgbmFtZTogJ3Jvb3QnLFxuICAgICAgICByZWFkOiBmdW5jdGlvbiByZWFkKF9yZWY5KSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWY5LnJvb3Q7XG4gICAgICAgICAgICBpZiAocm9vdC5yZWYubWVhc3VyZSkge1xuICAgICAgICAgICAgICAgIHJvb3QucmVmLm1lYXN1cmVIZWlnaHQgPSByb290LnJlZi5tZWFzdXJlLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlOiBjcmVhdGUkZSxcbiAgICAgICAgd3JpdGU6IHdyaXRlJDksXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koX3JlZjEwKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IF9yZWYxMC5yb290O1xuICAgICAgICAgICAgaWYgKHJvb3QucmVmLnBhc3Rlcikge1xuICAgICAgICAgICAgICAgIHJvb3QucmVmLnBhc3Rlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm9vdC5yZWYuaG9wcGVyKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5yZWYuaG9wcGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBwcmV2ZW50KTtcbiAgICAgICAgICAgIHJvb3QuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBwcmV2ZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgbWl4aW5zOiB7XG4gICAgICAgICAgICBzdHlsZXM6IFsnaGVpZ2h0J10sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBjcmVhdGVzIHRoZSBhcHBcbiAgICB2YXIgY3JlYXRlQXBwID0gZnVuY3Rpb24gY3JlYXRlQXBwKCkge1xuICAgICAgICB2YXIgaW5pdGlhbE9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgICAvLyBsZXQgZWxlbWVudFxuICAgICAgICB2YXIgb3JpZ2luYWxFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAvLyBnZXQgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIGRhdGEgc3RvcmUsIHRoaXMgd2lsbCBjb250YWluIGFsbCBvdXIgYXBwIGluZm9cbiAgICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUoXG4gICAgICAgICAgICAvLyBpbml0aWFsIHN0YXRlIChzaG91bGQgYmUgc2VyaWFsaXphYmxlKVxuICAgICAgICAgICAgY3JlYXRlSW5pdGlhbFN0YXRlKGRlZmF1bHRPcHRpb25zKSxcblxuICAgICAgICAgICAgLy8gcXVlcmllc1xuICAgICAgICAgICAgW3F1ZXJpZXMsIGNyZWF0ZU9wdGlvblF1ZXJpZXMoZGVmYXVsdE9wdGlvbnMpXSxcblxuICAgICAgICAgICAgLy8gYWN0aW9uIGhhbmRsZXJzXG4gICAgICAgICAgICBbYWN0aW9ucywgY3JlYXRlT3B0aW9uQWN0aW9ucyhkZWZhdWx0T3B0aW9ucyldXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gc2V0IGluaXRpYWwgb3B0aW9uc1xuICAgICAgICBzdG9yZS5kaXNwYXRjaCgnU0VUX09QVElPTlMnLCB7IG9wdGlvbnM6IGluaXRpYWxPcHRpb25zIH0pO1xuXG4gICAgICAgIC8vIGtpY2sgdGhyZWFkIGlmIHZpc2liaWxpdHkgY2hhbmdlc1xuICAgICAgICB2YXIgdmlzaWJpbGl0eUhhbmRsZXIgPSBmdW5jdGlvbiB2aXNpYmlsaXR5SGFuZGxlcigpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5oaWRkZW4pIHJldHVybjtcbiAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdLSUNLJyk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB2aXNpYmlsaXR5SGFuZGxlcik7XG5cbiAgICAgICAgLy8gcmUtcmVuZGVyIG9uIHdpbmRvdyByZXNpemUgc3RhcnQgYW5kIGZpbmlzaFxuICAgICAgICB2YXIgcmVzaXplRG9uZVRpbWVyID0gbnVsbDtcbiAgICAgICAgdmFyIGlzUmVzaXppbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlzUmVzaXppbmdIb3Jpem9udGFsbHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGluaXRpYWxXaW5kb3dXaWR0aCA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50V2luZG93V2lkdGggPSBudWxsO1xuICAgICAgICB2YXIgcmVzaXplSGFuZGxlciA9IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7XG4gICAgICAgICAgICBpZiAoIWlzUmVzaXppbmcpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZXNpemVEb25lVGltZXIpO1xuICAgICAgICAgICAgcmVzaXplRG9uZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFdpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjdXJyZW50V2luZG93V2lkdGggPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlzUmVzaXppbmdIb3Jpem9udGFsbHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9TVE9QX1JFU0laRScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH07XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcblxuICAgICAgICAvLyByZW5kZXIgaW5pdGlhbCB2aWV3XG4gICAgICAgIHZhciB2aWV3ID0gcm9vdChzdG9yZSwgeyBpZDogZ2V0VW5pcXVlSWQoKSB9KTtcblxuICAgICAgICAvL1xuICAgICAgICAvLyBQUklWQVRFIEFQSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vXG4gICAgICAgIHZhciBpc1Jlc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlzSGlkZGVuID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHJlYWRXcml0ZUFwaSA9IHtcbiAgICAgICAgICAgIC8vIG5lY2Vzc2FyeSBmb3IgdXBkYXRlIGxvb3BcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZWFkcyBmcm9tIGRvbSAobmV2ZXIgY2FsbCBtYW51YWxseSlcbiAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9yZWFkOiBmdW5jdGlvbiBfcmVhZCgpIHtcbiAgICAgICAgICAgICAgICAvLyB0ZXN0IGlmIHdlJ3JlIHJlc2l6aW5nIGhvcml6b250YWxseVxuICAgICAgICAgICAgICAgIC8vIFRPRE86IHNlZSBpZiB3ZSBjYW4gb3B0aW1pemUgdGhpcyBieSBtZWFzdXJpbmcgcm9vdCByZWN0XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzaXppbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5pdGlhbFdpbmRvd1dpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsV2luZG93V2lkdGggPSBjdXJyZW50V2luZG93V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUmVzaXppbmdIb3Jpem9udGFsbHkgJiYgY3VycmVudFdpbmRvd1dpZHRoICE9PSBpbml0aWFsV2luZG93V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKCdESURfU1RBUlRfUkVTSVpFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0hpZGRlbiAmJiBpc1Jlc3RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGVzdCBpZiBpcyBubyBsb25nZXIgaGlkZGVuXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzdGluZyA9IHZpZXcuZWxlbWVudC5vZmZzZXRQYXJlbnQgPT09IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgcmVzdGluZywgbm8gbmVlZCB0byByZWFkIGFzIG51bWJlcnMgd2lsbCBzdGlsbCBhbGwgYmUgY29ycmVjdFxuICAgICAgICAgICAgICAgIGlmIChpc1Jlc3RpbmcpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIHJlYWQgdmlldyBkYXRhXG4gICAgICAgICAgICAgICAgdmlldy5fcmVhZCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gaWYgaXMgaGlkZGVuIHdlIG5lZWQgdG8ga25vdyBzbyB3ZSBleGl0IHJlc3QgbW9kZSB3aGVuIHJldmVhbGVkXG4gICAgICAgICAgICAgICAgaXNIaWRkZW4gPSB2aWV3LnJlY3QuZWxlbWVudC5oaWRkZW47XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdyaXRlcyB0byBkb20gKG5ldmVyIGNhbGwgbWFudWFsbHkpXG4gICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfd3JpdGU6IGZ1bmN0aW9uIF93cml0ZSh0cykge1xuICAgICAgICAgICAgICAgIC8vIGdldCBhbGwgYWN0aW9ucyBmcm9tIHN0b3JlXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzdG9yZVxuICAgICAgICAgICAgICAgICAgICAucHJvY2Vzc0FjdGlvblF1ZXVlKClcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaWx0ZXIgb3V0IHNldCBhY3Rpb25zICh0aGVzZSB3aWxsIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBESURfU0VUKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEvXlNFVF8vLnRlc3QoYWN0aW9uLnR5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIGlmIHdhcyBpZGxpbmcgYW5kIG5vIGFjdGlvbnMgc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzdGluZyAmJiAhYWN0aW9ucy5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vIHNvbWUgYWN0aW9ucyBtaWdodCB0cmlnZ2VyIGV2ZW50c1xuICAgICAgICAgICAgICAgIHJvdXRlQWN0aW9uc1RvRXZlbnRzKGFjdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSB2aWV3XG4gICAgICAgICAgICAgICAgaXNSZXN0aW5nID0gdmlldy5fd3JpdGUodHMsIGFjdGlvbnMsIGlzUmVzaXppbmdIb3Jpem9udGFsbHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gd2lsbCBjbGVhbiB1cCBhbGwgYXJjaGl2ZWQgaXRlbXNcbiAgICAgICAgICAgICAgICByZW1vdmVSZWxlYXNlZEl0ZW1zKHN0b3JlLnF1ZXJ5KCdHRVRfSVRFTVMnKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBub3cgaWRsaW5nXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVzdGluZykge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZS5wcm9jZXNzRGlzcGF0Y2hRdWV1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gRVhQT1NFIEVWRU5UUyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vXG4gICAgICAgIHZhciBjcmVhdGVFdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIGRlZmF1bHQgZXZlbnRcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG5hbWUsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIG5vIGRhdGEgdG8gYWRkXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjb3B5IHJlbGV2YW50IHByb3BzXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2Vycm9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZXJyb3IgPSBkYXRhLmVycm9yID8gT2JqZWN0LmFzc2lnbih7fSwgZGF0YS5lcnJvcikgOiBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdGF0dXMgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5vdXRwdXQgPSBkYXRhLmZpbGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gb25seSBzb3VyY2UgaXMgYXZhaWxhYmxlLCBlbHNlIGFkZCBpdGVtIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmZpbGUgPSBkYXRhLnNvdXJjZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuaXRlbSB8fCBkYXRhLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZGF0YS5pdGVtID8gZGF0YS5pdGVtIDogc3RvcmUucXVlcnkoJ0dFVF9JVEVNJywgZGF0YS5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmZpbGUgPSBpdGVtID8gY3JlYXRlSXRlbUFQSShpdGVtKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbWFwIGFsbCBpdGVtcyBpbiBhIHBvc3NpYmxlIGl0ZW1zIGFycmF5XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuaXRlbXMgPSBkYXRhLml0ZW1zLm1hcChjcmVhdGVJdGVtQVBJKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgcHJvZ3Jlc3MgZXZlbnQgYWRkIHRoZSBwcm9ncmVzcyBhbW91bnRcbiAgICAgICAgICAgICAgICBpZiAoL3Byb2dyZXNzLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByb2dyZXNzID0gZGF0YS5wcm9ncmVzcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjb3B5IHJlbGV2YW50IHByb3BzXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ29yaWdpbicpICYmIGRhdGEuaGFzT3duUHJvcGVydHkoJ3RhcmdldCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lm9yaWdpbiA9IGRhdGEub3JpZ2luO1xuICAgICAgICAgICAgICAgICAgICBldmVudC50YXJnZXQgPSBkYXRhLnRhcmdldDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBldmVudFJvdXRlcyA9IHtcbiAgICAgICAgICAgIERJRF9ERVNUUk9ZOiBjcmVhdGVFdmVudCgnZGVzdHJveScpLFxuXG4gICAgICAgICAgICBESURfSU5JVDogY3JlYXRlRXZlbnQoJ2luaXQnKSxcblxuICAgICAgICAgICAgRElEX1RIUk9XX01BWF9GSUxFUzogY3JlYXRlRXZlbnQoJ3dhcm5pbmcnKSxcblxuICAgICAgICAgICAgRElEX0lOSVRfSVRFTTogY3JlYXRlRXZlbnQoJ2luaXRmaWxlJyksXG4gICAgICAgICAgICBESURfU1RBUlRfSVRFTV9MT0FEOiBjcmVhdGVFdmVudCgnYWRkZmlsZXN0YXJ0JyksXG4gICAgICAgICAgICBESURfVVBEQVRFX0lURU1fTE9BRF9QUk9HUkVTUzogY3JlYXRlRXZlbnQoJ2FkZGZpbGVwcm9ncmVzcycpLFxuICAgICAgICAgICAgRElEX0xPQURfSVRFTTogY3JlYXRlRXZlbnQoJ2FkZGZpbGUnKSxcblxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fSU5WQUxJRDogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgnYWRkZmlsZScpXSxcblxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fTE9BRF9FUlJPUjogW2NyZWF0ZUV2ZW50KCdlcnJvcicpLCBjcmVhdGVFdmVudCgnYWRkZmlsZScpXSxcblxuICAgICAgICAgICAgRElEX1RIUk9XX0lURU1fUkVNT1ZFX0VSUk9SOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdyZW1vdmVmaWxlJyldLFxuXG4gICAgICAgICAgICBESURfUFJFUEFSRV9PVVRQVVQ6IGNyZWF0ZUV2ZW50KCdwcmVwYXJlZmlsZScpLFxuXG4gICAgICAgICAgICBESURfU1RBUlRfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVzdGFydCcpLFxuICAgICAgICAgICAgRElEX1VQREFURV9JVEVNX1BST0NFU1NfUFJPR1JFU1M6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXByb2dyZXNzJyksXG4gICAgICAgICAgICBESURfQUJPUlRfSVRFTV9QUk9DRVNTSU5HOiBjcmVhdGVFdmVudCgncHJvY2Vzc2ZpbGVhYm9ydCcpLFxuICAgICAgICAgICAgRElEX0NPTVBMRVRFX0lURU1fUFJPQ0VTU0lORzogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlJyksXG4gICAgICAgICAgICBESURfQ09NUExFVEVfSVRFTV9QUk9DRVNTSU5HX0FMTDogY3JlYXRlRXZlbnQoJ3Byb2Nlc3NmaWxlcycpLFxuICAgICAgICAgICAgRElEX1JFVkVSVF9JVEVNX1BST0NFU1NJTkc6IGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZXJldmVydCcpLFxuXG4gICAgICAgICAgICBESURfVEhST1dfSVRFTV9QUk9DRVNTSU5HX0VSUk9SOiBbY3JlYXRlRXZlbnQoJ2Vycm9yJyksIGNyZWF0ZUV2ZW50KCdwcm9jZXNzZmlsZScpXSxcblxuICAgICAgICAgICAgRElEX1JFTU9WRV9JVEVNOiBjcmVhdGVFdmVudCgncmVtb3ZlZmlsZScpLFxuXG4gICAgICAgICAgICBESURfVVBEQVRFX0lURU1TOiBjcmVhdGVFdmVudCgndXBkYXRlZmlsZXMnKSxcblxuICAgICAgICAgICAgRElEX0FDVElWQVRFX0lURU06IGNyZWF0ZUV2ZW50KCdhY3RpdmF0ZWZpbGUnKSxcblxuICAgICAgICAgICAgRElEX1JFT1JERVJfSVRFTVM6IGNyZWF0ZUV2ZW50KCdyZW9yZGVyZmlsZXMnKSxcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZXhwb3NlRXZlbnQgPSBmdW5jdGlvbiBleHBvc2VFdmVudChldmVudCkge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGV2ZW50IG9iamVjdCB0byBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICB2YXIgZGV0YWlsID0gT2JqZWN0LmFzc2lnbih7IHBvbmQ6IGV4cG9ydHMgfSwgZXZlbnQpO1xuICAgICAgICAgICAgZGVsZXRlIGRldGFpbC50eXBlO1xuICAgICAgICAgICAgdmlldy5lbGVtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDonICsgZXZlbnQudHlwZSwge1xuICAgICAgICAgICAgICAgICAgICAvLyBldmVudCBpbmZvXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogZGV0YWlsLFxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGV2ZW50IGJlaGF2aW91clxuICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb21wb3NlZDogdHJ1ZSwgLy8gdHJpZ2dlcnMgbGlzdGVuZXJzIG91dHNpZGUgb2Ygc2hhZG93IHJvb3RcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gZXZlbnQgb2JqZWN0IHRvIHBhcmFtcyB1c2VkIGZvciBgb24oKWAgZXZlbnQgaGFuZGxlcnMgYW5kIGNhbGxiYWNrcyBgb25pbml0KClgXG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gW107XG5cbiAgICAgICAgICAgIC8vIGlmIGlzIHBvc3NpYmxlIGVycm9yIGV2ZW50LCBtYWtlIGl0IHRoZSBmaXJzdCBwYXJhbVxuICAgICAgICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KCdlcnJvcicpKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goZXZlbnQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmaWxlIGlzIGFsd2F5cyBzZWN0aW9uXG4gICAgICAgICAgICBpZiAoZXZlbnQuaGFzT3duUHJvcGVydHkoJ2ZpbGUnKSkge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGV2ZW50LmZpbGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBlbmQgb3RoZXIgcHJvcHNcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IFsndHlwZScsICdlcnJvcicsICdmaWxlJ107XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhldmVudClcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWZpbHRlcmVkLmluY2x1ZGVzKGtleSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy5wdXNoKGV2ZW50W2tleV0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBvbih0eXBlLCAoKSA9PiB7IH0pXG4gICAgICAgICAgICBleHBvcnRzLmZpcmUuYXBwbHkoZXhwb3J0cywgW2V2ZW50LnR5cGVdLmNvbmNhdChwYXJhbXMpKTtcblxuICAgICAgICAgICAgLy8gb25pbml0ID0gKCkgPT4ge31cbiAgICAgICAgICAgIHZhciBoYW5kbGVyID0gc3RvcmUucXVlcnkoJ0dFVF9PTicgKyBldmVudC50eXBlLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KHZvaWQgMCwgcGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcm91dGVBY3Rpb25zVG9FdmVudHMgPSBmdW5jdGlvbiByb3V0ZUFjdGlvbnNUb0V2ZW50cyhhY3Rpb25zKSB7XG4gICAgICAgICAgICBpZiAoIWFjdGlvbnMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBhY3Rpb25zXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50Um91dGVzW2FjdGlvbi50eXBlXTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm91dGVzID0gZXZlbnRSb3V0ZXNbYWN0aW9uLnR5cGVdO1xuICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShyb3V0ZXMpID8gcm91dGVzIDogW3JvdXRlc10pLmZvckVhY2goZnVuY3Rpb24ocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXNuJ3QgZmFudGFzdGljLCBidXQgYmVjYXVzZSBvZiB0aGUgc3RhY2tpbmcgb2Ygc2V0dGltZW91dHMgcGx1Z2lucyBjYW4gaGFuZGxlIHRoZSBkaWRfbG9hZCBiZWZvcmUgdGhlIGRpZF9pbml0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uLnR5cGUgPT09ICdESURfSU5JVF9JVEVNJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9zZUV2ZW50KHJvdXRlKGFjdGlvbi5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9zZUV2ZW50KHJvdXRlKGFjdGlvbi5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFBVQkxJQyBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvL1xuICAgICAgICB2YXIgc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdTRVRfT1BUSU9OUycsIHsgb3B0aW9uczogb3B0aW9ucyB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RmlsZSA9IGZ1bmN0aW9uIGdldEZpbGUocXVlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNJywgcXVlcnkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwcmVwYXJlRmlsZSA9IGZ1bmN0aW9uIHByZXBhcmVGaWxlKHF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUkVQQVJFJywge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gZmFpbHVyZShlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhZGRGaWxlID0gZnVuY3Rpb24gYWRkRmlsZShzb3VyY2UpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBhZGRGaWxlcyhbeyBzb3VyY2U6IHNvdXJjZSwgb3B0aW9uczogb3B0aW9ucyB9XSwgeyBpbmRleDogb3B0aW9ucy5pbmRleCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihpdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaXRlbXMgJiYgaXRlbXNbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpc0ZpbGVQb25kRmlsZSA9IGZ1bmN0aW9uIGlzRmlsZVBvbmRGaWxlKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iai5maWxlICYmIG9iai5pZDtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVtb3ZlRmlsZSA9IGZ1bmN0aW9uIHJlbW92ZUZpbGUocXVlcnksIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIGlmIG9ubHkgcGFzc2VkIG9wdGlvbnNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdvYmplY3QnICYmICFpc0ZpbGVQb25kRmlsZShxdWVyeSkgJiYgIW9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gcXVlcnk7XG4gICAgICAgICAgICAgICAgcXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlcXVlc3QgaXRlbSByZW1vdmFsXG4gICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnUkVNT1ZFX0lURU0nLCBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7IHF1ZXJ5OiBxdWVyeSB9KSk7XG5cbiAgICAgICAgICAgIC8vIHNlZSBpZiBpdGVtIGhhcyBiZWVuIHJlbW92ZWRcbiAgICAgICAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNJywgcXVlcnkpID09PSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhZGRGaWxlcyA9IGZ1bmN0aW9uIGFkZEZpbGVzKCkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwO1xuICAgICAgICAgICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICAgICAgICAgIF9rZXkrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0ge307XG5cbiAgICAgICAgICAgICAgICAvLyB1c2VyIHBhc3NlZCBhIHNvdXJjZXMgYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2guYXBwbHkoc291cmNlcywgYXJnc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgYXJnc1sxXSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdXNlciBwYXNzZWQgc291cmNlcyBhcyBhcmd1bWVudHMsIGxhc3Qgb25lIG1pZ2h0IGJlIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0QXJndW1lbnQgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdEFyZ3VtZW50ID09PSAnb2JqZWN0JyAmJiAhKGxhc3RBcmd1bWVudCBpbnN0YW5jZW9mIEJsb2IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIGFyZ3MucG9wKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHJlc3QgdG8gc291cmNlc1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2guYXBwbHkoc291cmNlcywgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0FERF9JVEVNUycsIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IHNvdXJjZXMsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBvcHRpb25zLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbk1ldGhvZDogSW50ZXJhY3Rpb25NZXRob2QuQVBJLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICBmYWlsdXJlOiByZWplY3QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2V0RmlsZXMgPSBmdW5jdGlvbiBnZXRGaWxlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX0FDVElWRV9JVEVNUycpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwcm9jZXNzRmlsZSA9IGZ1bmN0aW9uIHByb2Nlc3NGaWxlKHF1ZXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ1JFUVVFU1RfSVRFTV9QUk9DRVNTSU5HJywge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gZmFpbHVyZShlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBwcmVwYXJlRmlsZXMgPSBmdW5jdGlvbiBwcmVwYXJlRmlsZXMoKSB7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7XG4gICAgICAgICAgICAgICAgX2tleTIgPCBfbGVuMjtcbiAgICAgICAgICAgICAgICBfa2V5MisrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcXVlcmllcyA9IEFycmF5LmlzQXJyYXkoYXJnc1swXSkgPyBhcmdzWzBdIDogYXJncztcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHF1ZXJpZXMubGVuZ3RoID8gcXVlcmllcyA6IGdldEZpbGVzKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMubWFwKHByZXBhcmVGaWxlKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHByb2Nlc3NGaWxlcyA9IGZ1bmN0aW9uIHByb2Nlc3NGaWxlcygpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgdmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyksIF9rZXkzID0gMDtcbiAgICAgICAgICAgICAgICBfa2V5MyA8IF9sZW4zO1xuICAgICAgICAgICAgICAgIF9rZXkzKytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShhcmdzWzBdKSA/IGFyZ3NbMF0gOiBhcmdzO1xuICAgICAgICAgICAgaWYgKCFxdWVyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBmaWxlcyA9IGdldEZpbGVzKCkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICEoaXRlbS5zdGF0dXMgPT09IEl0ZW1TdGF0dXMuSURMRSAmJiBpdGVtLm9yaWdpbiA9PT0gRmlsZU9yaWdpbi5MT0NBTCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfQ09NUExFVEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzICE9PSBJdGVtU3RhdHVzLlBST0NFU1NJTkdfUkVWRVJUX0VSUk9SXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZXMubWFwKHByb2Nlc3NGaWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocXVlcmllcy5tYXAocHJvY2Vzc0ZpbGUpKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVtb3ZlRmlsZXMgPSBmdW5jdGlvbiByZW1vdmVGaWxlcygpIHtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgdmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDtcbiAgICAgICAgICAgICAgICBfa2V5NCA8IF9sZW40O1xuICAgICAgICAgICAgICAgIF9rZXk0KytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHF1ZXJpZXMgPSBBcnJheS5pc0FycmF5KGFyZ3NbMF0pID8gYXJnc1swXSA6IGFyZ3M7XG5cbiAgICAgICAgICAgIHZhciBvcHRpb25zO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBxdWVyaWVzW3F1ZXJpZXMubGVuZ3RoIC0gMV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHF1ZXJpZXMucG9wKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJnc1sxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGZpbGVzID0gZ2V0RmlsZXMoKTtcblxuICAgICAgICAgICAgaWYgKCFxdWVyaWVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgICAgIGZpbGVzLm1hcChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlRmlsZShmaWxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyB3aGVuIHJlbW92aW5nIGJ5IGluZGV4IHRoZSBpbmRleGVzIHNoaWZ0IGFmdGVyIGVhY2ggZmlsZSByZW1vdmFsIHNvIHdlIG5lZWQgdG8gY29udmVydCBpbmRleGVzIHRvIGlkc1xuICAgICAgICAgICAgdmFyIG1hcHBlZFF1ZXJpZXMgPSBxdWVyaWVzXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihxdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNOdW1iZXIocXVlcnkpID8gKGZpbGVzW3F1ZXJ5XSA/IGZpbGVzW3F1ZXJ5XS5pZCA6IG51bGwpIDogcXVlcnk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1hcHBlZFF1ZXJpZXMubWFwKGZ1bmN0aW9uKHEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlRmlsZShxLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBleHBvcnRzID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHt9LFxuXG4gICAgICAgICAgICBvbigpLFxuICAgICAgICAgICAge30sXG5cbiAgICAgICAgICAgIHJlYWRXcml0ZUFwaSxcbiAgICAgICAgICAgIHt9LFxuXG4gICAgICAgICAgICBjcmVhdGVPcHRpb25BUEkoc3RvcmUsIGRlZmF1bHRPcHRpb25zKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBPdmVycmlkZSBvcHRpb25zIGRlZmluZWQgaW4gb3B0aW9ucyBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHNldE9wdGlvbnM6IHNldE9wdGlvbnMsXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBMb2FkIHRoZSBnaXZlbiBmaWxlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHNvdXJjZSAtIHRoZSBzb3VyY2Ugb2YgdGhlIGZpbGUgKGVpdGhlciBhIEZpbGUsIGJhc2U2NCBkYXRhIHVyaSBvciB1cmwpXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIG9wdGlvbnMgLSBvYmplY3QsIHsgaW5kZXg6IDAgfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGFkZEZpbGU6IGFkZEZpbGUsXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBMb2FkIHRoZSBnaXZlbiBmaWxlc1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzb3VyY2VzIC0gdGhlIHNvdXJjZXMgb2YgdGhlIGZpbGVzIHRvIGxvYWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIG9iamVjdCwgeyBpbmRleDogMCB9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYWRkRmlsZXM6IGFkZEZpbGVzLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyB0aGUgZmlsZSBvYmplY3RzIG1hdGNoaW5nIHRoZSBnaXZlbiBxdWVyeVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsIH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRGaWxlOiBnZXRGaWxlLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVXBsb2FkIGZpbGUgd2l0aCBnaXZlbiBuYW1lXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHF1ZXJ5IHsgc3RyaW5nLCBudW1iZXIsIG51bGwgIH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBwcm9jZXNzRmlsZTogcHJvY2Vzc0ZpbGUsXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXF1ZXN0IHByZXBhcmUgb3V0cHV0IGZvciBmaWxlIHdpdGggZ2l2ZW4gbmFtZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBxdWVyeSB7IHN0cmluZywgbnVtYmVyLCBudWxsICB9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJlcGFyZUZpbGU6IHByZXBhcmVGaWxlLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVtb3ZlcyBhIGZpbGUgYnkgaXRzIG5hbWVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gcXVlcnkgeyBzdHJpbmcsIG51bWJlciwgbnVsbCAgfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJlbW92ZUZpbGU6IHJlbW92ZUZpbGUsXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBNb3ZlcyBhIGZpbGUgdG8gYSBuZXcgbG9jYXRpb24gaW4gdGhlIGZpbGVzIGxpc3RcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBtb3ZlRmlsZTogZnVuY3Rpb24gbW92ZUZpbGUocXVlcnksIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnTU9WRV9JVEVNJywgeyBxdWVyeTogcXVlcnksIGluZGV4OiBpbmRleCB9KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyBhbGwgZmlsZXMgKHdyYXBwZWQgaW4gcHVibGljIGFwaSlcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBnZXRGaWxlczogZ2V0RmlsZXMsXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGFydHMgdXBsb2FkaW5nIGFsbCBmaWxlc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHByb2Nlc3NGaWxlczogcHJvY2Vzc0ZpbGVzLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2xlYXJzIGFsbCBmaWxlcyBmcm9tIHRoZSBmaWxlcyBsaXN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmVtb3ZlRmlsZXM6IHJlbW92ZUZpbGVzLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RhcnRzIHByZXBhcmluZyBvdXRwdXQgb2YgYWxsIGZpbGVzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcHJlcGFyZUZpbGVzOiBwcmVwYXJlRmlsZXMsXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTb3J0IGxpc3Qgb2YgZmlsZXNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBzb3J0OiBmdW5jdGlvbiBzb3J0KGNvbXBhcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdTT1JUJywgeyBjb21wYXJlOiBjb21wYXJlIH0pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBCcm93c2UgdGhlIGZpbGUgc3lzdGVtIGZvciBhIGZpbGVcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBicm93c2U6IGZ1bmN0aW9uIGJyb3dzZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmVlZHMgdG8gYmUgdHJpZ2dlciBkaXJlY3RseSBhcyB1c2VyIGFjdGlvbiBuZWVkcyB0byBiZSB0cmFjZWFibGUgKGlzIG5vdCB0cmFjZWFibGUgaW4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB2aWV3LmVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1maWxlXScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGVzdHJveXMgdGhlIGFwcFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVlc3QgZGVzdHJ1Y3Rpb25cbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy5maXJlKCdkZXN0cm95Jywgdmlldy5lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIGFjdGl2ZSBwcm9jZXNzZXMgKGZpbGUgdXBsb2FkcywgZmV0Y2hlcywgc3R1ZmYgbGlrZSB0aGF0KVxuICAgICAgICAgICAgICAgICAgICAvLyBsb29wIG92ZXIgaXRlbXMgYW5kIGRlcGVuZGluZyBvbiBzdGF0ZXMgY2FsbCBhYm9ydCBmb3Igb25nb2luZyBwcm9jZXNzZXNcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0FCT1JUX0FMTCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlc3Ryb3kgdmlld1xuICAgICAgICAgICAgICAgICAgICB2aWV3Ll9kZXN0cm95KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCBsaXN0ZW5pbmcgdG8gcmVzaXplXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIGxpc3RlbmluZyB0byB0aGUgdmlzaWJsaXR5Y2hhbmdlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCB2aXNpYmlsaXR5SGFuZGxlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggZGVzdHJveVxuICAgICAgICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaCgnRElEX0RFU1RST1knKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSW5zZXJ0cyB0aGUgcGx1Z2luIGJlZm9yZSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmU6IGZ1bmN0aW9uIGluc2VydEJlZm9yZSQxKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydEJlZm9yZSh2aWV3LmVsZW1lbnQsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBJbnNlcnRzIHRoZSBwbHVnaW4gYWZ0ZXIgdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaW5zZXJ0QWZ0ZXI6IGZ1bmN0aW9uIGluc2VydEFmdGVyJDEoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zZXJ0QWZ0ZXIodmlldy5lbGVtZW50LCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQXBwZW5kcyB0aGUgcGx1Z2luIHRvIHRoZSB0YXJnZXQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBmdW5jdGlvbiBhcHBlbmRUbyhlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFwcGVuZENoaWxkKHZpZXcuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlcGxhY2VzIGFuIGVsZW1lbnQgd2l0aCB0aGUgYXBwXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmVwbGFjZUVsZW1lbnQ6IGZ1bmN0aW9uIHJlcGxhY2VFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zZXJ0IHRoZSBhcHAgYmVmb3JlIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSh2aWV3LmVsZW1lbnQsIGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtZW1iZXIgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXN0b3JlcyB0aGUgb3JpZ2luYWwgZWxlbWVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJlc3RvcmVFbGVtZW50OiBmdW5jdGlvbiByZXN0b3JlRWxlbWVudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcmlnaW5hbEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gbm8gZWxlbWVudCB0byByZXN0b3JlXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyByZXN0b3JlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0QWZ0ZXIob3JpZ2luYWxFbGVtZW50LCB2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBvdXIgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICB2aWV3LmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh2aWV3LmVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSByZWZlcmVuY2VcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBhcHAgcm9vdCBpcyBhdHRhY2hlZCB0byBnaXZlbiBlbGVtZW50XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpc0F0dGFjaGVkVG86IGZ1bmN0aW9uIGlzQXR0YWNoZWRUbyhlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3LmVsZW1lbnQgPT09IGVsZW1lbnQgfHwgb3JpZ2luYWxFbGVtZW50ID09PSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIHRoZSByb290IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpZXcuZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBwb25kIHN0YXR1c1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHN0YXR1czoge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5xdWVyeSgnR0VUX1NUQVRVUycpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gRG9uZSFcbiAgICAgICAgc3RvcmUuZGlzcGF0Y2goJ0RJRF9JTklUJyk7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFjdHVhbCBhcGkgb2JqZWN0XG4gICAgICAgIHJldHVybiBjcmVhdGVPYmplY3QoZXhwb3J0cyk7XG4gICAgfTtcblxuICAgIHZhciBjcmVhdGVBcHBPYmplY3QgPSBmdW5jdGlvbiBjcmVhdGVBcHBPYmplY3QoKSB7XG4gICAgICAgIHZhciBjdXN0b21PcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuICAgICAgICBmb3JpbihnZXRPcHRpb25zKCksIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGRlZmF1bHRPcHRpb25zW2tleV0gPSB2YWx1ZVswXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2V0IGFwcCBvcHRpb25zXG4gICAgICAgIHZhciBhcHAgPSBjcmVhdGVBcHAoXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgIHt9LFxuXG4gICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMsXG4gICAgICAgICAgICAgICAge30sXG5cbiAgICAgICAgICAgICAgICBjdXN0b21PcHRpb25zXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcmV0dXJuIHRoZSBwbHVnaW4gaW5zdGFuY2VcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICB9O1xuXG4gICAgdmFyIGxvd2VyQ2FzZUZpcnN0TGV0dGVyID0gZnVuY3Rpb24gbG93ZXJDYXNlRmlyc3RMZXR0ZXIoc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSk7XG4gICAgfTtcblxuICAgIHZhciBhdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUgPSBmdW5jdGlvbiBhdHRyaWJ1dGVOYW1lVG9Qcm9wZXJ0eU5hbWUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICByZXR1cm4gdG9DYW1lbHMoYXR0cmlidXRlTmFtZS5yZXBsYWNlKC9eZGF0YS0vLCAnJykpO1xuICAgIH07XG5cbiAgICB2YXIgbWFwT2JqZWN0ID0gZnVuY3Rpb24gbWFwT2JqZWN0KG9iamVjdCwgcHJvcGVydHlNYXApIHtcbiAgICAgICAgLy8gcmVtb3ZlIHVud2FudGVkXG4gICAgICAgIGZvcmluKHByb3BlcnR5TWFwLCBmdW5jdGlvbihzZWxlY3RvciwgbWFwcGluZykge1xuICAgICAgICAgICAgZm9yaW4ob2JqZWN0LCBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgcmVnZXhwIHNob3J0Y3V0XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yUmVnRXhwID0gbmV3IFJlZ0V4cChzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgICAgICAvLyB0ZXN0cyBpZlxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gc2VsZWN0b3JSZWdFeHAudGVzdChwcm9wZXJ0eSk7XG5cbiAgICAgICAgICAgICAgICAvLyBubyBtYXRjaCwgc2tpcFxuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhIG1hcHBpbmcsIHRoZSBvcmlnaW5hbCBwcm9wZXJ0eSBpcyBhbHdheXMgcmVtb3ZlZFxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xuXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIG9ubHkgcmVtb3ZlLCB3ZSBkb25lIVxuICAgICAgICAgICAgICAgIGlmIChtYXBwaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gbW92ZSB2YWx1ZSB0byBuZXcgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcobWFwcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0W21hcHBpbmddID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBtb3ZlIHRvIGdyb3VwXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gbWFwcGluZy5ncm91cDtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QobWFwcGluZykgJiYgIW9iamVjdFtncm91cF0pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0W2dyb3VwXSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG9iamVjdFtncm91cF1bbG93ZXJDYXNlRmlyc3RMZXR0ZXIocHJvcGVydHkucmVwbGFjZShzZWxlY3RvclJlZ0V4cCwgJycpKV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBkbyBzdWJtYXBwaW5nXG4gICAgICAgICAgICBpZiAobWFwcGluZy5tYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgbWFwT2JqZWN0KG9iamVjdFttYXBwaW5nLmdyb3VwXSwgbWFwcGluZy5tYXBwaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBnZXRBdHRyaWJ1dGVzQXNPYmplY3QgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzQXNPYmplY3Qobm9kZSkge1xuICAgICAgICB2YXIgYXR0cmlidXRlTWFwcGluZyA9XG4gICAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICAvLyB0dXJuIGF0dHJpYnV0ZXMgaW50byBvYmplY3RcbiAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgZm9yaW4obm9kZS5hdHRyaWJ1dGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKG5vZGUuYXR0cmlidXRlc1tpbmRleF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgb3V0cHV0ID0gYXR0cmlidXRlc1xuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cmlidXRlLm5hbWU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnJlZHVjZShmdW5jdGlvbihvYmosIGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGF0dHIobm9kZSwgYXR0cmlidXRlLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgb2JqW2F0dHJpYnV0ZU5hbWVUb1Byb3BlcnR5TmFtZShhdHRyaWJ1dGUubmFtZSldID1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPT09IGF0dHJpYnV0ZS5uYW1lID8gdHJ1ZSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9LCB7fSk7XG5cbiAgICAgICAgLy8gZG8gbWFwcGluZyBvZiBvYmplY3QgcHJvcGVydGllc1xuICAgICAgICBtYXBPYmplY3Qob3V0cHV0LCBhdHRyaWJ1dGVNYXBwaW5nKTtcblxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlQXBwQXRFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlQXBwQXRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIC8vIGhvdyBhdHRyaWJ1dGVzIG9mIHRoZSBpbnB1dCBlbGVtZW50IGFyZSBtYXBwZWQgdG8gdGhlIG9wdGlvbnMgZm9yIHRoZSBwbHVnaW5cbiAgICAgICAgdmFyIGF0dHJpYnV0ZU1hcHBpbmcgPSB7XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGUgdG8gb3RoZXIgbmFtZVxuICAgICAgICAgICAgJ15jbGFzcyQnOiAnY2xhc3NOYW1lJyxcbiAgICAgICAgICAgICdebXVsdGlwbGUkJzogJ2FsbG93TXVsdGlwbGUnLFxuICAgICAgICAgICAgJ15jYXB0dXJlJCc6ICdjYXB0dXJlTWV0aG9kJyxcbiAgICAgICAgICAgICded2Via2l0ZGlyZWN0b3J5JCc6ICdhbGxvd0RpcmVjdG9yaWVzT25seScsXG5cbiAgICAgICAgICAgIC8vIGdyb3VwIHVuZGVyIHNpbmdsZSBwcm9wZXJ0eVxuICAgICAgICAgICAgJ15zZXJ2ZXInOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6ICdzZXJ2ZXInLFxuICAgICAgICAgICAgICAgIG1hcHBpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgJ15wcm9jZXNzJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdwcm9jZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAnXnJldmVydCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiAncmV2ZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAnXmZldGNoJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdmZXRjaCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgJ15yZXN0b3JlJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6ICdyZXN0b3JlJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAnXmxvYWQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cDogJ2xvYWQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBkb24ndCBpbmNsdWRlIGluIG9iamVjdFxuICAgICAgICAgICAgJ150eXBlJCc6IGZhbHNlLFxuICAgICAgICAgICAgJ15maWxlcyQnOiBmYWxzZSxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBhZGQgYWRkaXRpb25hbCBvcHRpb24gdHJhbnNsYXRvcnNcbiAgICAgICAgYXBwbHlGaWx0ZXJzKCdTRVRfQVRUUklCVVRFX1RPX09QVElPTl9NQVAnLCBhdHRyaWJ1dGVNYXBwaW5nKTtcblxuICAgICAgICAvLyBjcmVhdGUgZmluYWwgb3B0aW9ucyBvYmplY3QgYnkgc2V0dGluZyBvcHRpb25zIG9iamVjdCBhbmQgdGhlbiBvdmVycmlkaW5nIG9wdGlvbnMgc3VwcGxpZWQgb24gZWxlbWVudFxuICAgICAgICB2YXIgbWVyZ2VkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBhdHRyaWJ1dGVPcHRpb25zID0gZ2V0QXR0cmlidXRlc0FzT2JqZWN0KFxuICAgICAgICAgICAgZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0ZJRUxEU0VUJyA/IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbdHlwZT1maWxlXScpIDogZWxlbWVudCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZU1hcHBpbmdcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBtZXJnZSB3aXRoIG9wdGlvbnMgb2JqZWN0XG4gICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZU9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoYXR0cmlidXRlT3B0aW9uc1trZXldKSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QobWVyZ2VkT3B0aW9uc1trZXldKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXJnZWRPcHRpb25zW2tleV0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWRPcHRpb25zW2tleV0sIGF0dHJpYnV0ZU9wdGlvbnNba2V5XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lcmdlZE9wdGlvbnNba2V5XSA9IGF0dHJpYnV0ZU9wdGlvbnNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgcGFyZW50IGlzIGEgZmllbGRzZXQsIGdldCBmaWxlcyBmcm9tIHBhcmVudCBieSBzZWxlY3RpbmcgYWxsIGlucHV0IGZpZWxkcyB0aGF0IGFyZSBub3QgZmlsZSB1cGxvYWQgZmllbGRzXG4gICAgICAgIC8vIHRoZXNlIHdpbGwgdGhlbiBiZSBhdXRvbWF0aWNhbGx5IHNldCB0byB0aGUgaW5pdGlhbCBmaWxlc1xuICAgICAgICBtZXJnZWRPcHRpb25zLmZpbGVzID0gKG9wdGlvbnMuZmlsZXMgfHwgW10pLmNvbmNhdChcbiAgICAgICAgICAgIEFycmF5LmZyb20oZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dDpub3QoW3R5cGU9ZmlsZV0pJykpLm1hcChmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogaW5wdXQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGlucHV0LmRhdGFzZXQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBidWlsZCBwbHVnaW5cbiAgICAgICAgdmFyIGFwcCA9IGNyZWF0ZUFwcE9iamVjdChtZXJnZWRPcHRpb25zKTtcblxuICAgICAgICAvLyBhZGQgYWxyZWFkeSBzZWxlY3RlZCBmaWxlc1xuICAgICAgICBpZiAoZWxlbWVudC5maWxlcykge1xuICAgICAgICAgICAgQXJyYXkuZnJvbShlbGVtZW50LmZpbGVzKS5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgICBhcHAuYWRkRmlsZShmaWxlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVwbGFjZSB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgYXBwLnJlcGxhY2VFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIC8vIGV4cG9zZVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgIH07XG5cbiAgICAvLyBpZiBhbiBlbGVtZW50IGlzIHBhc3NlZCwgd2UgY3JlYXRlIHRoZSBpbnN0YW5jZSBhdCB0aGF0IGVsZW1lbnQsIGlmIG5vdCwgd2UganVzdCBjcmVhdGUgYW4gdXAgb2JqZWN0XG4gICAgdmFyIGNyZWF0ZUFwcCQxID0gZnVuY3Rpb24gY3JlYXRlQXBwKCkge1xuICAgICAgICByZXR1cm4gaXNOb2RlKGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSlcbiAgICAgICAgICAgID8gY3JlYXRlQXBwQXRFbGVtZW50LmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKVxuICAgICAgICAgICAgOiBjcmVhdGVBcHBPYmplY3QuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICB2YXIgUFJJVkFURV9NRVRIT0RTID0gWydmaXJlJywgJ19yZWFkJywgJ193cml0ZSddO1xuXG4gICAgdmFyIGNyZWF0ZUFwcEFQSSA9IGZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShhcHApIHtcbiAgICAgICAgdmFyIGFwaSA9IHt9O1xuXG4gICAgICAgIGNvcHlPYmplY3RQcm9wZXJ0aWVzVG9PYmplY3QoYXBwLCBhcGksIFBSSVZBVEVfTUVUSE9EUyk7XG5cbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgcGxhY2Vob2xkZXJzIGluIGdpdmVuIHN0cmluZyB3aXRoIHJlcGxhY2VtZW50c1xuICAgICAqIEBwYXJhbSBzdHJpbmcgLSBcIkZvbyB7YmFyfVwiXCJcbiAgICAgKiBAcGFyYW0gcmVwbGFjZW1lbnRzIC0geyBcImJhclwiOiAxMCB9XG4gICAgICovXG4gICAgdmFyIHJlcGxhY2VJblN0cmluZyA9IGZ1bmN0aW9uIHJlcGxhY2VJblN0cmluZyhzdHJpbmcsIHJlcGxhY2VtZW50cykge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyg/OnsoW2EtekEtWl0rKX0pL2csIGZ1bmN0aW9uKG1hdGNoLCBncm91cCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VtZW50c1tncm91cF07XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gY3JlYXRlV29ya2VyKGZuKSB7XG4gICAgICAgIHZhciB3b3JrZXJCbG9iID0gbmV3IEJsb2IoWycoJywgZm4udG9TdHJpbmcoKSwgJykoKSddLCB7XG4gICAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB3b3JrZXJVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHdvcmtlckJsb2IpO1xuICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlcih3b3JrZXJVUkwpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFuc2ZlcjogZnVuY3Rpb24gdHJhbnNmZXIobWVzc2FnZSwgY2IpIHt9LFxuICAgICAgICAgICAgcG9zdDogZnVuY3Rpb24gcG9zdChtZXNzYWdlLCBjYiwgdHJhbnNmZXJMaXN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gZ2V0VW5pcXVlSWQoKTtcblxuICAgICAgICAgICAgICAgIHdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmRhdGEuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYihlLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgd29ya2VyLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyTGlzdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGVybWluYXRlOiBmdW5jdGlvbiB0ZXJtaW5hdGUoKSB7XG4gICAgICAgICAgICAgICAgd29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwod29ya2VyVVJMKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBsb2FkSW1hZ2UgPSBmdW5jdGlvbiBsb2FkSW1hZ2UodXJsKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGltZy5zcmMgPSB1cmw7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgcmVuYW1lRmlsZSA9IGZ1bmN0aW9uIHJlbmFtZUZpbGUoZmlsZSwgbmFtZSkge1xuICAgICAgICB2YXIgcmVuYW1lZEZpbGUgPSBmaWxlLnNsaWNlKDAsIGZpbGUuc2l6ZSwgZmlsZS50eXBlKTtcbiAgICAgICAgcmVuYW1lZEZpbGUubGFzdE1vZGlmaWVkRGF0ZSA9IGZpbGUubGFzdE1vZGlmaWVkRGF0ZTtcbiAgICAgICAgcmVuYW1lZEZpbGUubmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiByZW5hbWVkRmlsZTtcbiAgICB9O1xuXG4gICAgdmFyIGNvcHlGaWxlID0gZnVuY3Rpb24gY29weUZpbGUoZmlsZSkge1xuICAgICAgICByZXR1cm4gcmVuYW1lRmlsZShmaWxlLCBmaWxlLm5hbWUpO1xuICAgIH07XG5cbiAgICAvLyBhbHJlYWR5IHJlZ2lzdGVyZWQgcGx1Z2lucyAoY2FuJ3QgcmVnaXN0ZXIgdHdpY2UpXG4gICAgdmFyIHJlZ2lzdGVyZWRQbHVnaW5zID0gW107XG5cbiAgICAvLyBwYXNzIHV0aWxzIHRvIHBsdWdpblxuICAgIHZhciBjcmVhdGVBcHBQbHVnaW4gPSBmdW5jdGlvbiBjcmVhdGVBcHBQbHVnaW4ocGx1Z2luKSB7XG4gICAgICAgIC8vIGFscmVhZHkgcmVnaXN0ZXJlZFxuICAgICAgICBpZiAocmVnaXN0ZXJlZFBsdWdpbnMuaW5jbHVkZXMocGx1Z2luKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtZW1iZXIgdGhpcyBwbHVnaW5cbiAgICAgICAgcmVnaXN0ZXJlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgICAgIC8vIHNldHVwIVxuICAgICAgICB2YXIgcGx1Z2luT3V0bGluZSA9IHBsdWdpbih7XG4gICAgICAgICAgICBhZGRGaWx0ZXI6IGFkZEZpbHRlcixcbiAgICAgICAgICAgIHV0aWxzOiB7XG4gICAgICAgICAgICAgICAgVHlwZTogVHlwZSxcbiAgICAgICAgICAgICAgICBmb3JpbjogZm9yaW4sXG4gICAgICAgICAgICAgICAgaXNTdHJpbmc6IGlzU3RyaW5nLFxuICAgICAgICAgICAgICAgIGlzRmlsZTogaXNGaWxlLFxuICAgICAgICAgICAgICAgIHRvTmF0dXJhbEZpbGVTaXplOiB0b05hdHVyYWxGaWxlU2l6ZSxcbiAgICAgICAgICAgICAgICByZXBsYWNlSW5TdHJpbmc6IHJlcGxhY2VJblN0cmluZyxcbiAgICAgICAgICAgICAgICBnZXRFeHRlbnNpb25Gcm9tRmlsZW5hbWU6IGdldEV4dGVuc2lvbkZyb21GaWxlbmFtZSxcbiAgICAgICAgICAgICAgICBnZXRGaWxlbmFtZVdpdGhvdXRFeHRlbnNpb246IGdldEZpbGVuYW1lV2l0aG91dEV4dGVuc2lvbixcbiAgICAgICAgICAgICAgICBndWVzc3RpbWF0ZU1pbWVUeXBlOiBndWVzc3RpbWF0ZU1pbWVUeXBlLFxuICAgICAgICAgICAgICAgIGdldEZpbGVGcm9tQmxvYjogZ2V0RmlsZUZyb21CbG9iLFxuICAgICAgICAgICAgICAgIGdldEZpbGVuYW1lRnJvbVVSTDogZ2V0RmlsZW5hbWVGcm9tVVJMLFxuICAgICAgICAgICAgICAgIGNyZWF0ZVJvdXRlOiBjcmVhdGVSb3V0ZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVXb3JrZXI6IGNyZWF0ZVdvcmtlcixcbiAgICAgICAgICAgICAgICBjcmVhdGVWaWV3OiBjcmVhdGVWaWV3LFxuICAgICAgICAgICAgICAgIGNyZWF0ZUl0ZW1BUEk6IGNyZWF0ZUl0ZW1BUEksXG4gICAgICAgICAgICAgICAgbG9hZEltYWdlOiBsb2FkSW1hZ2UsXG4gICAgICAgICAgICAgICAgY29weUZpbGU6IGNvcHlGaWxlLFxuICAgICAgICAgICAgICAgIHJlbmFtZUZpbGU6IHJlbmFtZUZpbGUsXG4gICAgICAgICAgICAgICAgY3JlYXRlQmxvYjogY3JlYXRlQmxvYixcbiAgICAgICAgICAgICAgICBhcHBseUZpbHRlckNoYWluOiBhcHBseUZpbHRlckNoYWluLFxuICAgICAgICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgICAgICAgZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZzogZ2V0TnVtZXJpY0FzcGVjdFJhdGlvRnJvbVN0cmluZyxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICAgICAgZmlsZUFjdGlvbkJ1dHRvbjogZmlsZUFjdGlvbkJ1dHRvbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGFkZCBwbHVnaW4gb3B0aW9ucyB0byBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgZXh0ZW5kRGVmYXVsdE9wdGlvbnMocGx1Z2luT3V0bGluZS5vcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLy8gZmVhdHVyZSBkZXRlY3Rpb24gdXNlZCBieSBzdXBwb3J0ZWQoKSBtZXRob2RcbiAgICB2YXIgaXNPcGVyYU1pbmkgPSBmdW5jdGlvbiBpc09wZXJhTWluaSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmFtaW5pKSA9PT0gJ1tvYmplY3QgT3BlcmFNaW5pXSc7XG4gICAgfTtcbiAgICB2YXIgaGFzUHJvbWlzZXMgPSBmdW5jdGlvbiBoYXNQcm9taXNlcygpIHtcbiAgICAgICAgcmV0dXJuICdQcm9taXNlJyBpbiB3aW5kb3c7XG4gICAgfTtcbiAgICB2YXIgaGFzQmxvYlNsaWNlID0gZnVuY3Rpb24gaGFzQmxvYlNsaWNlKCkge1xuICAgICAgICByZXR1cm4gJ3NsaWNlJyBpbiBCbG9iLnByb3RvdHlwZTtcbiAgICB9O1xuICAgIHZhciBoYXNDcmVhdGVPYmplY3RVUkwgPSBmdW5jdGlvbiBoYXNDcmVhdGVPYmplY3RVUkwoKSB7XG4gICAgICAgIHJldHVybiAnVVJMJyBpbiB3aW5kb3cgJiYgJ2NyZWF0ZU9iamVjdFVSTCcgaW4gd2luZG93LlVSTDtcbiAgICB9O1xuICAgIHZhciBoYXNWaXNpYmlsaXR5ID0gZnVuY3Rpb24gaGFzVmlzaWJpbGl0eSgpIHtcbiAgICAgICAgcmV0dXJuICd2aXNpYmlsaXR5U3RhdGUnIGluIGRvY3VtZW50O1xuICAgIH07XG4gICAgdmFyIGhhc1RpbWluZyA9IGZ1bmN0aW9uIGhhc1RpbWluZygpIHtcbiAgICAgICAgcmV0dXJuICdwZXJmb3JtYW5jZScgaW4gd2luZG93O1xuICAgIH07IC8vIGlPUyA4LnhcbiAgICB2YXIgaGFzQ1NTU3VwcG9ydHMgPSBmdW5jdGlvbiBoYXNDU1NTdXBwb3J0cygpIHtcbiAgICAgICAgcmV0dXJuICdzdXBwb3J0cycgaW4gKHdpbmRvdy5DU1MgfHwge30pO1xuICAgIH07IC8vIHVzZSB0byBkZXRlY3QgU2FmYXJpIDkrXG4gICAgdmFyIGlzSUUxMSA9IGZ1bmN0aW9uIGlzSUUxMSgpIHtcbiAgICAgICAgcmV0dXJuIC9NU0lFfFRyaWRlbnQvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIH07XG5cbiAgICB2YXIgc3VwcG9ydGVkID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBSdW5zIGltbWVkaWF0ZWx5IGFuZCB0aGVuIHJlbWVtYmVycyByZXN1bHQgZm9yIHN1YnNlcXVlbnQgY2FsbHNcbiAgICAgICAgdmFyIGlzU3VwcG9ydGVkID1cbiAgICAgICAgICAgIC8vIEhhcyB0byBiZSBhIGJyb3dzZXJcbiAgICAgICAgICAgIGlzQnJvd3NlcigpICYmXG4gICAgICAgICAgICAvLyBDYW4ndCBydW4gb24gT3BlcmEgTWluaSBkdWUgdG8gbGFjayBvZiBldmVyeXRoaW5nXG4gICAgICAgICAgICAhaXNPcGVyYU1pbmkoKSAmJlxuICAgICAgICAgICAgLy8gUmVxdWlyZSB0aGVzZSBBUElzIHRvIGZlYXR1cmUgZGV0ZWN0IGEgbW9kZXJuIGJyb3dzZXJcbiAgICAgICAgICAgIGhhc1Zpc2liaWxpdHkoKSAmJlxuICAgICAgICAgICAgaGFzUHJvbWlzZXMoKSAmJlxuICAgICAgICAgICAgaGFzQmxvYlNsaWNlKCkgJiZcbiAgICAgICAgICAgIGhhc0NyZWF0ZU9iamVjdFVSTCgpICYmXG4gICAgICAgICAgICBoYXNUaW1pbmcoKSAmJlxuICAgICAgICAgICAgLy8gZG9lc24ndCBuZWVkIENTU1N1cHBvcnRzIGJ1dCBpcyBhIGdvb2Qgd2F5IHRvIGRldGVjdCBTYWZhcmkgOSsgKHdlIGRvIHdhbnQgdG8gc3VwcG9ydCBJRTExIHRob3VnaClcbiAgICAgICAgICAgIChoYXNDU1NTdXBwb3J0cygpIHx8IGlzSUUxMSgpKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG4gICAgICAgIH07XG4gICAgfSkoKTtcblxuICAgIC8qKlxuICAgICAqIFBsdWdpbiBpbnRlcm5hbCBzdGF0ZSAob3ZlciBhbGwgaW5zdGFuY2VzKVxuICAgICAqL1xuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgLy8gYWN0aXZlIGFwcCBpbnN0YW5jZXMsIHVzZWQgdG8gcmVkcmF3IHRoZSBhcHBzIGFuZCB0byBmaW5kIHRoZSBsYXRlclxuICAgICAgICBhcHBzOiBbXSxcbiAgICB9O1xuXG4gICAgLy8gcGx1Z2luIG5hbWVcbiAgICB2YXIgbmFtZSA9ICdmaWxlcG9uZCc7XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaWMgUGx1Z2luIG1ldGhvZHNcbiAgICAgKi9cbiAgICB2YXIgZm4gPSBmdW5jdGlvbiBmbigpIHt9O1xuICAgIGV4cG9ydHMuU3RhdHVzID0ge307XG4gICAgZXhwb3J0cy5GaWxlU3RhdHVzID0ge307XG4gICAgZXhwb3J0cy5GaWxlT3JpZ2luID0ge307XG4gICAgZXhwb3J0cy5PcHRpb25UeXBlcyA9IHt9O1xuICAgIGV4cG9ydHMuY3JlYXRlID0gZm47XG4gICAgZXhwb3J0cy5kZXN0cm95ID0gZm47XG4gICAgZXhwb3J0cy5wYXJzZSA9IGZuO1xuICAgIGV4cG9ydHMuZmluZCA9IGZuO1xuICAgIGV4cG9ydHMucmVnaXN0ZXJQbHVnaW4gPSBmbjtcbiAgICBleHBvcnRzLmdldE9wdGlvbnMgPSBmbjtcbiAgICBleHBvcnRzLnNldE9wdGlvbnMgPSBmbjtcblxuICAgIC8vIGlmIG5vdCBzdXBwb3J0ZWQsIG5vIEFQSVxuICAgIGlmIChzdXBwb3J0ZWQoKSkge1xuICAgICAgICAvLyBzdGFydCBwYWludGVyIGFuZCBmaXJlIGxvYWQgZXZlbnRcbiAgICAgICAgY3JlYXRlUGFpbnRlcihcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFwcHMuZm9yRWFjaChmdW5jdGlvbihhcHApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcC5fcmVhZCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHRzKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuYXBwcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwLl93cml0ZSh0cyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gZmlyZSBsb2FkZWQgZXZlbnQgc28gd2Uga25vdyB3aGVuIEZpbGVQb25kIGlzIGF2YWlsYWJsZVxuICAgICAgICB2YXIgZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgICAgIC8vIGxldCBvdGhlcnMga25vdyB3ZSBoYXZlIGFyZWEgcmVhZHlcbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdGaWxlUG9uZDpsb2FkZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkOiBzdXBwb3J0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGU6IGV4cG9ydHMuY3JlYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdHJveTogZXhwb3J0cy5kZXN0cm95LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2U6IGV4cG9ydHMucGFyc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5kOiBleHBvcnRzLmZpbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlclBsdWdpbjogZXhwb3J0cy5yZWdpc3RlclBsdWdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE9wdGlvbnM6IGV4cG9ydHMuc2V0T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gY2xlYW4gdXAgZXZlbnRcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBkaXNwYXRjaCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT09ICdsb2FkaW5nJykge1xuICAgICAgICAgICAgLy8gbW92ZSB0byBiYWNrIG9mIGV4ZWN1dGlvbiBxdWV1ZSwgRmlsZVBvbmQgc2hvdWxkIGhhdmUgYmVlbiBleHBvcnRlZCBieSB0aGVuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXNwYXRjaCgpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZGlzcGF0Y2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlcyB0aGUgT3B0aW9uVHlwZXMgb2JqZWN0IGJhc2VkIG9uIHRoZSBjdXJyZW50IG9wdGlvbnNcbiAgICAgICAgdmFyIHVwZGF0ZU9wdGlvblR5cGVzID0gZnVuY3Rpb24gdXBkYXRlT3B0aW9uVHlwZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9yaW4oZ2V0T3B0aW9ucygpLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZXhwb3J0cy5PcHRpb25UeXBlc1trZXldID0gdmFsdWVbMV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBleHBvcnRzLlN0YXR1cyA9IE9iamVjdC5hc3NpZ24oe30sIFN0YXR1cyk7XG4gICAgICAgIGV4cG9ydHMuRmlsZU9yaWdpbiA9IE9iamVjdC5hc3NpZ24oe30sIEZpbGVPcmlnaW4pO1xuICAgICAgICBleHBvcnRzLkZpbGVTdGF0dXMgPSBPYmplY3QuYXNzaWduKHt9LCBJdGVtU3RhdHVzKTtcblxuICAgICAgICBleHBvcnRzLk9wdGlvblR5cGVzID0ge307XG4gICAgICAgIHVwZGF0ZU9wdGlvblR5cGVzKCk7XG5cbiAgICAgICAgLy8gY3JlYXRlIG1ldGhvZCwgY3JlYXRlcyBhcHBzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGFwcCBhcnJheVxuICAgICAgICBleHBvcnRzLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHZhciBhcHAgPSBjcmVhdGVBcHAkMS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBhcHAub24oJ2Rlc3Ryb3knLCBleHBvcnRzLmRlc3Ryb3kpO1xuICAgICAgICAgICAgc3RhdGUuYXBwcy5wdXNoKGFwcCk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQXBwQVBJKGFwcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZGVzdHJveXMgYXBwcyBhbmQgcmVtb3ZlcyB0aGVtIGZyb20gdGhlIGFwcCBhcnJheVxuICAgICAgICBleHBvcnRzLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KGhvb2spIHtcbiAgICAgICAgICAgIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgYXBwIHdhcyBkZXN0cm95ZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgICAgICB2YXIgaW5kZXhUb1JlbW92ZSA9IHN0YXRlLmFwcHMuZmluZEluZGV4KGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHAuaXNBdHRhY2hlZFRvKGhvb2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5kZXhUb1JlbW92ZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gYXBwc1xuICAgICAgICAgICAgICAgIHZhciBhcHAgPSBzdGF0ZS5hcHBzLnNwbGljZShpbmRleFRvUmVtb3ZlLCAxKVswXTtcblxuICAgICAgICAgICAgICAgIC8vIHJlc3RvcmUgb3JpZ2luYWwgZG9tIGVsZW1lbnRcbiAgICAgICAgICAgICAgICBhcHAucmVzdG9yZUVsZW1lbnQoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcGFyc2VzIHRoZSBnaXZlbiBjb250ZXh0IGZvciBwbHVnaW5zIChkb2VzIG5vdCBpbmNsdWRlIHRoZSBjb250ZXh0IGVsZW1lbnQgaXRzZWxmKVxuICAgICAgICBleHBvcnRzLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UoY29udGV4dCkge1xuICAgICAgICAgICAgLy8gZ2V0IGFsbCBwb3NzaWJsZSBob29rc1xuICAgICAgICAgICAgdmFyIG1hdGNoZWRIb29rcyA9IEFycmF5LmZyb20oY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIG5hbWUpKTtcblxuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBhbHJlYWR5IGFjdGl2ZSBob29rc1xuICAgICAgICAgICAgdmFyIG5ld0hvb2tzID0gbWF0Y2hlZEhvb2tzLmZpbHRlcihmdW5jdGlvbihuZXdIb29rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFzdGF0ZS5hcHBzLmZpbmQoZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHAuaXNBdHRhY2hlZFRvKG5ld0hvb2spO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgaW5zdGFuY2UgZm9yIGVhY2ggaG9va1xuICAgICAgICAgICAgcmV0dXJuIG5ld0hvb2tzLm1hcChmdW5jdGlvbihob29rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuY3JlYXRlKGhvb2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcmV0dXJucyBhbiBhcHAgYmFzZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgaG9va1xuICAgICAgICBleHBvcnRzLmZpbmQgPSBmdW5jdGlvbiBmaW5kKGhvb2spIHtcbiAgICAgICAgICAgIHZhciBhcHAgPSBzdGF0ZS5hcHBzLmZpbmQoZnVuY3Rpb24oYXBwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcC5pc0F0dGFjaGVkVG8oaG9vayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghYXBwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQXBwQVBJKGFwcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYWRkcyBhIHBsdWdpbiBleHRlbnNpb25cbiAgICAgICAgZXhwb3J0cy5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKCkge1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBsdWdpbnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwO1xuICAgICAgICAgICAgICAgIF9rZXkgPCBfbGVuO1xuICAgICAgICAgICAgICAgIF9rZXkrK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVnaXN0ZXIgcGx1Z2luc1xuICAgICAgICAgICAgcGx1Z2lucy5mb3JFYWNoKGNyZWF0ZUFwcFBsdWdpbik7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBPcHRpb25UeXBlcywgZWFjaCBwbHVnaW4gbWlnaHQgaGF2ZSBleHRlbmRlZCB0aGUgZGVmYXVsdCBvcHRpb25zXG4gICAgICAgICAgICB1cGRhdGVPcHRpb25UeXBlcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGV4cG9ydHMuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIGdldE9wdGlvbnMkMSgpIHtcbiAgICAgICAgICAgIHZhciBvcHRzID0ge307XG4gICAgICAgICAgICBmb3JpbihnZXRPcHRpb25zKCksIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBvcHRzW2tleV0gPSB2YWx1ZVswXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgICAgIH07XG5cbiAgICAgICAgZXhwb3J0cy5zZXRPcHRpb25zID0gZnVuY3Rpb24gc2V0T3B0aW9ucyQxKG9wdHMpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcHRzKSkge1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBleGlzdGluZyBwbHVnaW5zXG4gICAgICAgICAgICAgICAgc3RhdGUuYXBwcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcCkge1xuICAgICAgICAgICAgICAgICAgICBhcHAuc2V0T3B0aW9ucyhvcHRzKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIG92ZXJyaWRlIGRlZmF1bHRzXG4gICAgICAgICAgICAgICAgc2V0T3B0aW9ucyhvcHRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmV0dXJuIG5ldyBvcHRpb25zXG4gICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5nZXRPcHRpb25zKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZXhwb3J0cy5zdXBwb3J0ZWQgPSBzdXBwb3J0ZWQ7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9
//# sourceMappingURL=44.71d61cef.chunk.js.map